var eu=Object.defineProperty;var tu=(e,t,r)=>t in e?eu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ne=(e,t,r)=>tu(e,typeof t!="symbol"?t+"":t,r);var D=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ru(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var co={},fr={};Object.defineProperty(fr,"__esModule",{value:!0});fr.VERSION=void 0;fr.VERSION="10.5.0";var bn={},nu=Object.prototype;function au(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||nu;return e===r}var dr=au;function iu(e,t){return function(r){return e(t(r))}}var lo=iu,ou=lo,su=ou(Object.keys,Object),uu=su,cu=dr,lu=uu,fu=Object.prototype,du=fu.hasOwnProperty;function hu(e){if(!cu(e))return lu(e);var t=[];for(var r in Object(e))du.call(e,r)&&r!="constructor"&&t.push(r);return t}var fo=hu,pu=typeof D=="object"&&D&&D.Object===Object&&D,ho=pu,vu=ho,_u=typeof self=="object"&&self&&self.Object===Object&&self,yu=vu||_u||Function("return this")(),Ze=yu,mu=Ze,gu=mu.Symbol,$t=gu,ja=$t,po=Object.prototype,Eu=po.hasOwnProperty,Tu=po.toString,er=ja?ja.toStringTag:void 0;function Au(e){var t=Eu.call(e,er),r=e[er];try{e[er]=void 0;var n=!0}catch{}var a=Tu.call(e);return n&&(t?e[er]=r:delete e[er]),a}var Ou=Au,Ru=Object.prototype,Iu=Ru.toString;function Nu(e){return Iu.call(e)}var Su=Nu,Ba=$t,Pu=Ou,bu=Su,Lu="[object Null]",Cu="[object Undefined]",Wa=Ba?Ba.toStringTag:void 0;function ku(e){return e==null?e===void 0?Cu:Lu:Wa&&Wa in Object(e)?Pu(e):bu(e)}var Rt=ku;function Mu(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Je=Mu,$u=Rt,wu=Je,Fu="[object AsyncFunction]",xu="[object Function]",Du="[object GeneratorFunction]",Uu="[object Proxy]";function Gu(e){if(!wu(e))return!1;var t=$u(e);return t==xu||t==Du||t==Fu||t==Uu}var hr=Gu,ju=Ze,Bu=ju["__core-js_shared__"],Wu=Bu,Ln=Wu,Va=function(){var e=/[^.]+$/.exec(Ln&&Ln.keys&&Ln.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Vu(e){return!!Va&&Va in e}var Ku=Vu,Hu=Function.prototype,zu=Hu.toString;function qu(e){if(e!=null){try{return zu.call(e)}catch{}try{return e+""}catch{}}return""}var vo=qu,Yu=hr,Xu=Ku,Zu=Je,Ju=vo,Qu=/[\\^$.*+?()[\]{}|]/g,ec=/^\[object .+?Constructor\]$/,tc=Function.prototype,rc=Object.prototype,nc=tc.toString,ac=rc.hasOwnProperty,ic=RegExp("^"+nc.call(ac).replace(Qu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function oc(e){if(!Zu(e)||Xu(e))return!1;var t=Yu(e)?ic:ec;return t.test(Ju(e))}var sc=oc;function uc(e,t){return e==null?void 0:e[t]}var cc=uc,lc=sc,fc=cc;function dc(e,t){var r=fc(e,t);return lc(r)?r:void 0}var It=dc,hc=It,pc=Ze,vc=hc(pc,"DataView"),_c=vc,yc=It,mc=Ze,gc=yc(mc,"Map"),ta=gc,Ec=It,Tc=Ze,Ac=Ec(Tc,"Promise"),Oc=Ac,Rc=It,Ic=Ze,Nc=Rc(Ic,"Set"),_o=Nc,Sc=It,Pc=Ze,bc=Sc(Pc,"WeakMap"),Lc=bc,Bn=_c,Wn=ta,Vn=Oc,Kn=_o,Hn=Lc,yo=Rt,wt=vo,Ka="[object Map]",Cc="[object Object]",Ha="[object Promise]",za="[object Set]",qa="[object WeakMap]",Ya="[object DataView]",kc=wt(Bn),Mc=wt(Wn),$c=wt(Vn),wc=wt(Kn),Fc=wt(Hn),At=yo;(Bn&&At(new Bn(new ArrayBuffer(1)))!=Ya||Wn&&At(new Wn)!=Ka||Vn&&At(Vn.resolve())!=Ha||Kn&&At(new Kn)!=za||Hn&&At(new Hn)!=qa)&&(At=function(e){var t=yo(e),r=t==Cc?e.constructor:void 0,n=r?wt(r):"";if(n)switch(n){case kc:return Ya;case Mc:return Ka;case $c:return Ha;case wc:return za;case Fc:return qa}return t});var pr=At;function xc(e){return e!=null&&typeof e=="object"}var Qe=xc,Dc=Rt,Uc=Qe,Gc="[object Arguments]";function jc(e){return Uc(e)&&Dc(e)==Gc}var Bc=jc,Xa=Bc,Wc=Qe,mo=Object.prototype,Vc=mo.hasOwnProperty,Kc=mo.propertyIsEnumerable,Hc=Xa(function(){return arguments}())?Xa:function(e){return Wc(e)&&Vc.call(e,"callee")&&!Kc.call(e,"callee")},Wr=Hc,zc=Array.isArray,ye=zc,qc=9007199254740991;function Yc(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=qc}var ra=Yc,Xc=hr,Zc=ra;function Jc(e){return e!=null&&Zc(e.length)&&!Xc(e)}var et=Jc,xr={exports:{}};function Qc(){return!1}var el=Qc;xr.exports;(function(e,t){var r=Ze,n=el,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,_=o&&o.exports===a,v=_?r.Buffer:void 0,d=v?v.isBuffer:void 0,c=d||n;e.exports=c})(xr,xr.exports);var Vr=xr.exports,tl=Rt,rl=ra,nl=Qe,al="[object Arguments]",il="[object Array]",ol="[object Boolean]",sl="[object Date]",ul="[object Error]",cl="[object Function]",ll="[object Map]",fl="[object Number]",dl="[object Object]",hl="[object RegExp]",pl="[object Set]",vl="[object String]",_l="[object WeakMap]",yl="[object ArrayBuffer]",ml="[object DataView]",gl="[object Float32Array]",El="[object Float64Array]",Tl="[object Int8Array]",Al="[object Int16Array]",Ol="[object Int32Array]",Rl="[object Uint8Array]",Il="[object Uint8ClampedArray]",Nl="[object Uint16Array]",Sl="[object Uint32Array]",Ae={};Ae[gl]=Ae[El]=Ae[Tl]=Ae[Al]=Ae[Ol]=Ae[Rl]=Ae[Il]=Ae[Nl]=Ae[Sl]=!0;Ae[al]=Ae[il]=Ae[yl]=Ae[ol]=Ae[ml]=Ae[sl]=Ae[ul]=Ae[cl]=Ae[ll]=Ae[fl]=Ae[dl]=Ae[hl]=Ae[pl]=Ae[vl]=Ae[_l]=!1;function Pl(e){return nl(e)&&rl(e.length)&&!!Ae[tl(e)]}var bl=Pl;function Ll(e){return function(t){return e(t)}}var vr=Ll,Dr={exports:{}};Dr.exports;(function(e,t){var r=ho,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,_=o&&r.process,v=function(){try{var d=a&&a.require&&a.require("util").types;return d||_&&_.binding&&_.binding("util")}catch{}}();e.exports=v})(Dr,Dr.exports);var Kr=Dr.exports,Cl=bl,kl=vr,Za=Kr,Ja=Za&&Za.isTypedArray,Ml=Ja?kl(Ja):Cl,na=Ml,$l=fo,wl=pr,Fl=Wr,xl=ye,Dl=et,Ul=Vr,Gl=dr,jl=na,Bl="[object Map]",Wl="[object Set]",Vl=Object.prototype,Kl=Vl.hasOwnProperty;function Hl(e){if(e==null)return!0;if(Dl(e)&&(xl(e)||typeof e=="string"||typeof e.splice=="function"||Ul(e)||jl(e)||Fl(e)))return!e.length;var t=wl(e);if(t==Bl||t==Wl)return!e.size;if(Gl(e))return!$l(e).length;for(var r in e)if(Kl.call(e,r))return!1;return!0}var He=Hl;function zl(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var _r=zl;function ql(){this.__data__=[],this.size=0}var Yl=ql;function Xl(e,t){return e===t||e!==e&&t!==t}var yr=Xl,Zl=yr;function Jl(e,t){for(var r=e.length;r--;)if(Zl(e[r][0],t))return r;return-1}var Hr=Jl,Ql=Hr,ef=Array.prototype,tf=ef.splice;function rf(e){var t=this.__data__,r=Ql(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():tf.call(t,r,1),--this.size,!0}var nf=rf,af=Hr;function of(e){var t=this.__data__,r=af(t,e);return r<0?void 0:t[r][1]}var sf=of,uf=Hr;function cf(e){return uf(this.__data__,e)>-1}var lf=cf,ff=Hr;function df(e,t){var r=this.__data__,n=ff(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var hf=df,pf=Yl,vf=nf,_f=sf,yf=lf,mf=hf;function Ft(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ft.prototype.clear=pf;Ft.prototype.delete=vf;Ft.prototype.get=_f;Ft.prototype.has=yf;Ft.prototype.set=mf;var zr=Ft,gf=zr;function Ef(){this.__data__=new gf,this.size=0}var Tf=Ef;function Af(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Of=Af;function Rf(e){return this.__data__.get(e)}var If=Rf;function Nf(e){return this.__data__.has(e)}var Sf=Nf,Pf=It,bf=Pf(Object,"create"),qr=bf,Qa=qr;function Lf(){this.__data__=Qa?Qa(null):{},this.size=0}var Cf=Lf;function kf(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Mf=kf,$f=qr,wf="__lodash_hash_undefined__",Ff=Object.prototype,xf=Ff.hasOwnProperty;function Df(e){var t=this.__data__;if($f){var r=t[e];return r===wf?void 0:r}return xf.call(t,e)?t[e]:void 0}var Uf=Df,Gf=qr,jf=Object.prototype,Bf=jf.hasOwnProperty;function Wf(e){var t=this.__data__;return Gf?t[e]!==void 0:Bf.call(t,e)}var Vf=Wf,Kf=qr,Hf="__lodash_hash_undefined__";function zf(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Kf&&t===void 0?Hf:t,this}var qf=zf,Yf=Cf,Xf=Mf,Zf=Uf,Jf=Vf,Qf=qf;function xt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xt.prototype.clear=Yf;xt.prototype.delete=Xf;xt.prototype.get=Zf;xt.prototype.has=Jf;xt.prototype.set=Qf;var ed=xt,ei=ed,td=zr,rd=ta;function nd(){this.size=0,this.__data__={hash:new ei,map:new(rd||td),string:new ei}}var ad=nd;function id(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var od=id,sd=od;function ud(e,t){var r=e.__data__;return sd(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Yr=ud,cd=Yr;function ld(e){var t=cd(this,e).delete(e);return this.size-=t?1:0,t}var fd=ld,dd=Yr;function hd(e){return dd(this,e).get(e)}var pd=hd,vd=Yr;function _d(e){return vd(this,e).has(e)}var yd=_d,md=Yr;function gd(e,t){var r=md(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Ed=gd,Td=ad,Ad=fd,Od=pd,Rd=yd,Id=Ed;function Dt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Dt.prototype.clear=Td;Dt.prototype.delete=Ad;Dt.prototype.get=Od;Dt.prototype.has=Rd;Dt.prototype.set=Id;var aa=Dt,Nd=zr,Sd=ta,Pd=aa,bd=200;function Ld(e,t){var r=this.__data__;if(r instanceof Nd){var n=r.__data__;if(!Sd||n.length<bd-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Pd(n)}return r.set(e,t),this.size=r.size,this}var Cd=Ld,kd=zr,Md=Tf,$d=Of,wd=If,Fd=Sf,xd=Cd;function Ut(e){var t=this.__data__=new kd(e);this.size=t.size}Ut.prototype.clear=Md;Ut.prototype.delete=$d;Ut.prototype.get=wd;Ut.prototype.has=Fd;Ut.prototype.set=xd;var ia=Ut,Dd="__lodash_hash_undefined__";function Ud(e){return this.__data__.set(e,Dd),this}var Gd=Ud;function jd(e){return this.__data__.has(e)}var Bd=jd,Wd=aa,Vd=Gd,Kd=Bd;function Ur(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Wd;++t<r;)this.add(e[t])}Ur.prototype.add=Ur.prototype.push=Vd;Ur.prototype.has=Kd;var oa=Ur;function Hd(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var go=Hd;function zd(e,t){return e.has(t)}var sa=zd,qd=oa,Yd=go,Xd=sa,Zd=1,Jd=2;function Qd(e,t,r,n,a,o){var _=r&Zd,v=e.length,d=t.length;if(v!=d&&!(_&&d>v))return!1;var c=o.get(e),i=o.get(t);if(c&&i)return c==t&&i==e;var f=-1,y=!0,O=r&Jd?new qd:void 0;for(o.set(e,t),o.set(t,e);++f<v;){var E=e[f],s=t[f];if(n)var T=_?n(s,E,f,t,e,o):n(E,s,f,e,t,o);if(T!==void 0){if(T)continue;y=!1;break}if(O){if(!Yd(t,function(R,S){if(!Xd(O,S)&&(E===R||a(E,R,r,n,o)))return O.push(S)})){y=!1;break}}else if(!(E===s||a(E,s,r,n,o))){y=!1;break}}return o.delete(e),o.delete(t),y}var Eo=Qd,eh=Ze,th=eh.Uint8Array,To=th;function rh(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var nh=rh;function ah(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var ua=ah,ti=$t,ri=To,ih=yr,oh=Eo,sh=nh,uh=ua,ch=1,lh=2,fh="[object Boolean]",dh="[object Date]",hh="[object Error]",ph="[object Map]",vh="[object Number]",_h="[object RegExp]",yh="[object Set]",mh="[object String]",gh="[object Symbol]",Eh="[object ArrayBuffer]",Th="[object DataView]",ni=ti?ti.prototype:void 0,Cn=ni?ni.valueOf:void 0;function Ah(e,t,r,n,a,o,_){switch(r){case Th:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Eh:return!(e.byteLength!=t.byteLength||!o(new ri(e),new ri(t)));case fh:case dh:case vh:return ih(+e,+t);case hh:return e.name==t.name&&e.message==t.message;case _h:case mh:return e==t+"";case ph:var v=sh;case yh:var d=n&ch;if(v||(v=uh),e.size!=t.size&&!d)return!1;var c=_.get(e);if(c)return c==t;n|=lh,_.set(e,t);var i=oh(v(e),v(t),n,a,o,_);return _.delete(e),i;case gh:if(Cn)return Cn.call(e)==Cn.call(t)}return!1}var Oh=Ah;function Rh(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var ca=Rh,Ih=ca,Nh=ye;function Sh(e,t,r){var n=t(e);return Nh(e)?n:Ih(n,r(e))}var Ao=Sh;function Ph(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var _=e[r];t(_,r,e)&&(o[a++]=_)}return o}var la=Ph;function bh(){return[]}var Oo=bh,Lh=la,Ch=Oo,kh=Object.prototype,Mh=kh.propertyIsEnumerable,ai=Object.getOwnPropertySymbols,$h=ai?function(e){return e==null?[]:(e=Object(e),Lh(ai(e),function(t){return Mh.call(e,t)}))}:Ch,fa=$h;function wh(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Fh=wh,xh=9007199254740991,Dh=/^(?:0|[1-9]\d*)$/;function Uh(e,t){var r=typeof e;return t=t??xh,!!t&&(r=="number"||r!="symbol"&&Dh.test(e))&&e>-1&&e%1==0&&e<t}var Xr=Uh,Gh=Fh,jh=Wr,Bh=ye,Wh=Vr,Vh=Xr,Kh=na,Hh=Object.prototype,zh=Hh.hasOwnProperty;function qh(e,t){var r=Bh(e),n=!r&&jh(e),a=!r&&!n&&Wh(e),o=!r&&!n&&!a&&Kh(e),_=r||n||a||o,v=_?Gh(e.length,String):[],d=v.length;for(var c in e)(t||zh.call(e,c))&&!(_&&(c=="length"||a&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Vh(c,d)))&&v.push(c);return v}var Ro=qh,Yh=Ro,Xh=fo,Zh=et;function Jh(e){return Zh(e)?Yh(e):Xh(e)}var Be=Jh,Qh=Ao,ep=fa,tp=Be;function rp(e){return Qh(e,tp,ep)}var Io=rp,ii=Io,np=1,ap=Object.prototype,ip=ap.hasOwnProperty;function op(e,t,r,n,a,o){var _=r&np,v=ii(e),d=v.length,c=ii(t),i=c.length;if(d!=i&&!_)return!1;for(var f=d;f--;){var y=v[f];if(!(_?y in t:ip.call(t,y)))return!1}var O=o.get(e),E=o.get(t);if(O&&E)return O==t&&E==e;var s=!0;o.set(e,t),o.set(t,e);for(var T=_;++f<d;){y=v[f];var R=e[y],S=t[y];if(n)var P=_?n(S,R,y,t,e,o):n(R,S,y,e,t,o);if(!(P===void 0?R===S||a(R,S,r,n,o):P)){s=!1;break}T||(T=y=="constructor")}if(s&&!T){var A=e.constructor,g=t.constructor;A!=g&&"constructor"in e&&"constructor"in t&&!(typeof A=="function"&&A instanceof A&&typeof g=="function"&&g instanceof g)&&(s=!1)}return o.delete(e),o.delete(t),s}var sp=op,kn=ia,up=Eo,cp=Oh,lp=sp,oi=pr,si=ye,ui=Vr,fp=na,dp=1,ci="[object Arguments]",li="[object Array]",Pr="[object Object]",hp=Object.prototype,fi=hp.hasOwnProperty;function pp(e,t,r,n,a,o){var _=si(e),v=si(t),d=_?li:oi(e),c=v?li:oi(t);d=d==ci?Pr:d,c=c==ci?Pr:c;var i=d==Pr,f=c==Pr,y=d==c;if(y&&ui(e)){if(!ui(t))return!1;_=!0,i=!1}if(y&&!i)return o||(o=new kn),_||fp(e)?up(e,t,r,n,a,o):cp(e,t,d,r,n,a,o);if(!(r&dp)){var O=i&&fi.call(e,"__wrapped__"),E=f&&fi.call(t,"__wrapped__");if(O||E){var s=O?e.value():e,T=E?t.value():t;return o||(o=new kn),a(s,T,r,n,o)}}return y?(o||(o=new kn),lp(e,t,r,n,a,o)):!1}var vp=pp,_p=vp,di=Qe;function No(e,t,r,n,a){return e===t?!0:e==null||t==null||!di(e)&&!di(t)?e!==e&&t!==t:_p(e,t,r,n,No,a)}var So=No,yp=ia,mp=So,gp=1,Ep=2;function Tp(e,t,r,n){var a=r.length,o=a,_=!n;if(e==null)return!o;for(e=Object(e);a--;){var v=r[a];if(_&&v[2]?v[1]!==e[v[0]]:!(v[0]in e))return!1}for(;++a<o;){v=r[a];var d=v[0],c=e[d],i=v[1];if(_&&v[2]){if(c===void 0&&!(d in e))return!1}else{var f=new yp;if(n)var y=n(c,i,d,e,t,f);if(!(y===void 0?mp(i,c,gp|Ep,n,f):y))return!1}}return!0}var Ap=Tp,Op=Je;function Rp(e){return e===e&&!Op(e)}var Po=Rp,Ip=Po,Np=Be;function Sp(e){for(var t=Np(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Ip(a)]}return t}var Pp=Sp;function bp(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var bo=bp,Lp=Ap,Cp=Pp,kp=bo;function Mp(e){var t=Cp(e);return t.length==1&&t[0][2]?kp(t[0][0],t[0][1]):function(r){return r===e||Lp(r,e,t)}}var $p=Mp,wp=Rt,Fp=Qe,xp="[object Symbol]";function Dp(e){return typeof e=="symbol"||Fp(e)&&wp(e)==xp}var Zr=Dp,Up=ye,Gp=Zr,jp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bp=/^\w*$/;function Wp(e,t){if(Up(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Gp(e)?!0:Bp.test(e)||!jp.test(e)||t!=null&&e in Object(t)}var da=Wp,Lo=aa,Vp="Expected a function";function ha(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Vp);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var _=e.apply(this,n);return r.cache=o.set(a,_)||o,_};return r.cache=new(ha.Cache||Lo),r}ha.Cache=Lo;var Kp=ha,Hp=Kp,zp=500;function qp(e){var t=Hp(e,function(n){return r.size===zp&&r.clear(),n}),r=t.cache;return t}var Yp=qp,Xp=Yp,Zp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jp=/\\(\\)?/g,Qp=Xp(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Zp,function(r,n,a,o){t.push(a?o.replace(Jp,"$1"):n||r)}),t}),ev=Qp,hi=$t,tv=_r,rv=ye,nv=Zr,av=1/0,pi=hi?hi.prototype:void 0,vi=pi?pi.toString:void 0;function Co(e){if(typeof e=="string")return e;if(rv(e))return tv(e,Co)+"";if(nv(e))return vi?vi.call(e):"";var t=e+"";return t=="0"&&1/e==-av?"-0":t}var iv=Co,ov=iv;function sv(e){return e==null?"":ov(e)}var ko=sv,uv=ye,cv=da,lv=ev,fv=ko;function dv(e,t){return uv(e)?e:cv(e,t)?[e]:lv(fv(e))}var Jr=dv,hv=Zr,pv=1/0;function vv(e){if(typeof e=="string"||hv(e))return e;var t=e+"";return t=="0"&&1/e==-pv?"-0":t}var mr=vv,_v=Jr,yv=mr;function mv(e,t){t=_v(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[yv(t[r++])];return r&&r==n?e:void 0}var pa=mv,gv=pa;function Ev(e,t,r){var n=e==null?void 0:gv(e,t);return n===void 0?r:n}var Tv=Ev;function Av(e,t){return e!=null&&t in Object(e)}var Ov=Av,Rv=Jr,Iv=Wr,Nv=ye,Sv=Xr,Pv=ra,bv=mr;function Lv(e,t,r){t=Rv(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var _=bv(t[n]);if(!(o=e!=null&&r(e,_)))break;e=e[_]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&Pv(a)&&Sv(_,a)&&(Nv(e)||Iv(e)))}var Mo=Lv,Cv=Ov,kv=Mo;function Mv(e,t){return e!=null&&kv(e,t,Cv)}var $v=Mv,wv=So,Fv=Tv,xv=$v,Dv=da,Uv=Po,Gv=bo,jv=mr,Bv=1,Wv=2;function Vv(e,t){return Dv(e)&&Uv(t)?Gv(jv(e),t):function(r){var n=Fv(r,e);return n===void 0&&n===t?xv(r,e):wv(t,n,Bv|Wv)}}var Kv=Vv;function Hv(e){return e}var gr=Hv;function zv(e){return function(t){return t==null?void 0:t[e]}}var qv=zv,Yv=pa;function Xv(e){return function(t){return Yv(t,e)}}var Zv=Xv,Jv=qv,Qv=Zv,e_=da,t_=mr;function r_(e){return e_(e)?Jv(t_(e)):Qv(e)}var n_=r_,a_=$p,i_=Kv,o_=gr,s_=ye,u_=n_;function c_(e){return typeof e=="function"?e:e==null?o_:typeof e=="object"?s_(e)?i_(e[0],e[1]):a_(e):u_(e)}var tt=c_;function l_(e){return function(t,r,n){for(var a=-1,o=Object(t),_=n(t),v=_.length;v--;){var d=_[e?v:++a];if(r(o[d],d,o)===!1)break}return t}}var f_=l_,d_=f_,h_=d_(),p_=h_,v_=p_,__=Be;function y_(e,t){return e&&v_(e,t,__)}var m_=y_,g_=et;function E_(e,t){return function(r,n){if(r==null)return r;if(!g_(r))return e(r,n);for(var a=r.length,o=t?a:-1,_=Object(r);(t?o--:++o<a)&&n(_[o],o,_)!==!1;);return r}}var T_=E_,A_=m_,O_=T_,R_=O_(A_),Nt=R_,I_=Nt,N_=et;function S_(e,t){var r=-1,n=N_(e)?Array(e.length):[];return I_(e,function(a,o,_){n[++r]=t(a,o,_)}),n}var P_=S_,b_=_r,L_=tt,C_=P_,k_=ye;function M_(e,t){var r=k_(e)?b_:C_;return r(e,L_(t))}var De=M_;function $_(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var $o=$_,w_=gr;function F_(e){return typeof e=="function"?e:w_}var x_=F_,D_=$o,U_=Nt,G_=x_,j_=ye;function B_(e,t){var r=j_(e)?D_:U_;return r(e,G_(t))}var $e=B_,W_=_r;function V_(e,t){return W_(t,function(r){return e[r]})}var K_=V_,H_=K_,z_=Be;function q_(e){return e==null?[]:H_(e,z_(e))}var st=q_,Y_=Object.prototype,X_=Y_.hasOwnProperty;function Z_(e,t){return e!=null&&X_.call(e,t)}var J_=Z_,Q_=J_,ey=Mo;function ty(e,t){return e!=null&&ey(e,t,Q_)}var We=ty,ry=It,ny=function(){try{var e=ry(Object,"defineProperty");return e({},"",{}),e}catch{}}(),wo=ny,_i=wo;function ay(e,t,r){t=="__proto__"&&_i?_i(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var va=ay,iy=va,oy=yr,sy=Object.prototype,uy=sy.hasOwnProperty;function cy(e,t,r){var n=e[t];(!(uy.call(e,t)&&oy(n,r))||r===void 0&&!(t in e))&&iy(e,t,r)}var Qr=cy,ly=Qr,fy=va;function dy(e,t,r,n){var a=!r;r||(r={});for(var o=-1,_=t.length;++o<_;){var v=t[o],d=n?n(r[v],e[v],v,r,e):void 0;d===void 0&&(d=e[v]),a?fy(r,v,d):ly(r,v,d)}return r}var Er=dy,hy=Er,py=Be;function vy(e,t){return e&&hy(t,py(t),e)}var _y=vy;function yy(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var my=yy,gy=Je,Ey=dr,Ty=my,Ay=Object.prototype,Oy=Ay.hasOwnProperty;function Ry(e){if(!gy(e))return Ty(e);var t=Ey(e),r=[];for(var n in e)n=="constructor"&&(t||!Oy.call(e,n))||r.push(n);return r}var Iy=Ry,Ny=Ro,Sy=Iy,Py=et;function by(e){return Py(e)?Ny(e,!0):Sy(e)}var en=by,Ly=Er,Cy=en;function ky(e,t){return e&&Ly(t,Cy(t),e)}var My=ky,Gr={exports:{}};Gr.exports;(function(e,t){var r=Ze,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,_=o?r.Buffer:void 0,v=_?_.allocUnsafe:void 0;function d(c,i){if(i)return c.slice();var f=c.length,y=v?v(f):new c.constructor(f);return c.copy(y),y}e.exports=d})(Gr,Gr.exports);var $y=Gr.exports;function wy(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Fy=wy,xy=Er,Dy=fa;function Uy(e,t){return xy(e,Dy(e),t)}var Gy=Uy,jy=lo,By=jy(Object.getPrototypeOf,Object),Fo=By,Wy=ca,Vy=Fo,Ky=fa,Hy=Oo,zy=Object.getOwnPropertySymbols,qy=zy?function(e){for(var t=[];e;)Wy(t,Ky(e)),e=Vy(e);return t}:Hy,xo=qy,Yy=Er,Xy=xo;function Zy(e,t){return Yy(e,Xy(e),t)}var Jy=Zy,Qy=Ao,em=xo,tm=en;function rm(e){return Qy(e,tm,em)}var Do=rm,nm=Object.prototype,am=nm.hasOwnProperty;function im(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&am.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var om=im,yi=To;function sm(e){var t=new e.constructor(e.byteLength);return new yi(t).set(new yi(e)),t}var _a=sm,um=_a;function cm(e,t){var r=t?um(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var lm=cm,fm=/\w*$/;function dm(e){var t=new e.constructor(e.source,fm.exec(e));return t.lastIndex=e.lastIndex,t}var hm=dm,mi=$t,gi=mi?mi.prototype:void 0,Ei=gi?gi.valueOf:void 0;function pm(e){return Ei?Object(Ei.call(e)):{}}var vm=pm,_m=_a;function ym(e,t){var r=t?_m(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var mm=ym,gm=_a,Em=lm,Tm=hm,Am=vm,Om=mm,Rm="[object Boolean]",Im="[object Date]",Nm="[object Map]",Sm="[object Number]",Pm="[object RegExp]",bm="[object Set]",Lm="[object String]",Cm="[object Symbol]",km="[object ArrayBuffer]",Mm="[object DataView]",$m="[object Float32Array]",wm="[object Float64Array]",Fm="[object Int8Array]",xm="[object Int16Array]",Dm="[object Int32Array]",Um="[object Uint8Array]",Gm="[object Uint8ClampedArray]",jm="[object Uint16Array]",Bm="[object Uint32Array]";function Wm(e,t,r){var n=e.constructor;switch(t){case km:return gm(e);case Rm:case Im:return new n(+e);case Mm:return Em(e,r);case $m:case wm:case Fm:case xm:case Dm:case Um:case Gm:case jm:case Bm:return Om(e,r);case Nm:return new n;case Sm:case Lm:return new n(e);case Pm:return Tm(e);case bm:return new n;case Cm:return Am(e)}}var Vm=Wm,Km=Je,Ti=Object.create,Hm=function(){function e(){}return function(t){if(!Km(t))return{};if(Ti)return Ti(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),zm=Hm,qm=zm,Ym=Fo,Xm=dr;function Zm(e){return typeof e.constructor=="function"&&!Xm(e)?qm(Ym(e)):{}}var Jm=Zm,Qm=pr,eg=Qe,tg="[object Map]";function rg(e){return eg(e)&&Qm(e)==tg}var ng=rg,ag=ng,ig=vr,Ai=Kr,Oi=Ai&&Ai.isMap,og=Oi?ig(Oi):ag,sg=og,ug=pr,cg=Qe,lg="[object Set]";function fg(e){return cg(e)&&ug(e)==lg}var dg=fg,hg=dg,pg=vr,Ri=Kr,Ii=Ri&&Ri.isSet,vg=Ii?pg(Ii):hg,_g=vg,yg=ia,mg=$o,gg=Qr,Eg=_y,Tg=My,Ag=$y,Og=Fy,Rg=Gy,Ig=Jy,Ng=Io,Sg=Do,Pg=pr,bg=om,Lg=Vm,Cg=Jm,kg=ye,Mg=Vr,$g=sg,wg=Je,Fg=_g,xg=Be,Dg=en,Ug=1,Gg=2,jg=4,Uo="[object Arguments]",Bg="[object Array]",Wg="[object Boolean]",Vg="[object Date]",Kg="[object Error]",Go="[object Function]",Hg="[object GeneratorFunction]",zg="[object Map]",qg="[object Number]",jo="[object Object]",Yg="[object RegExp]",Xg="[object Set]",Zg="[object String]",Jg="[object Symbol]",Qg="[object WeakMap]",eE="[object ArrayBuffer]",tE="[object DataView]",rE="[object Float32Array]",nE="[object Float64Array]",aE="[object Int8Array]",iE="[object Int16Array]",oE="[object Int32Array]",sE="[object Uint8Array]",uE="[object Uint8ClampedArray]",cE="[object Uint16Array]",lE="[object Uint32Array]",Ee={};Ee[Uo]=Ee[Bg]=Ee[eE]=Ee[tE]=Ee[Wg]=Ee[Vg]=Ee[rE]=Ee[nE]=Ee[aE]=Ee[iE]=Ee[oE]=Ee[zg]=Ee[qg]=Ee[jo]=Ee[Yg]=Ee[Xg]=Ee[Zg]=Ee[Jg]=Ee[sE]=Ee[uE]=Ee[cE]=Ee[lE]=!0;Ee[Kg]=Ee[Go]=Ee[Qg]=!1;function Lr(e,t,r,n,a,o){var _,v=t&Ug,d=t&Gg,c=t&jg;if(r&&(_=a?r(e,n,a,o):r(e)),_!==void 0)return _;if(!wg(e))return e;var i=kg(e);if(i){if(_=bg(e),!v)return Og(e,_)}else{var f=Pg(e),y=f==Go||f==Hg;if(Mg(e))return Ag(e,v);if(f==jo||f==Uo||y&&!a){if(_=d||y?{}:Cg(e),!v)return d?Ig(e,Tg(_,e)):Rg(e,Eg(_,e))}else{if(!Ee[f])return a?e:{};_=Lg(e,f,v)}}o||(o=new yg);var O=o.get(e);if(O)return O;o.set(e,_),Fg(e)?e.forEach(function(T){_.add(Lr(T,t,r,T,e,o))}):$g(e)&&e.forEach(function(T,R){_.set(R,Lr(T,t,r,R,e,o))});var E=c?d?Sg:Ng:d?Dg:xg,s=i?void 0:E(e);return mg(s||e,function(T,R){s&&(R=T,T=e[R]),gg(_,R,Lr(T,t,r,R,e,o))}),_}var fE=Lr,dE=fE,hE=4;function pE(e){return dE(e,hE)}var vt=pE,Gt={},Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.PRINT_WARNING=Mt.PRINT_ERROR=void 0;function vE(e){console&&console.error&&console.error("Error: ".concat(e))}Mt.PRINT_ERROR=vE;function _E(e){console&&console.warn&&console.warn("Warning: ".concat(e))}Mt.PRINT_WARNING=_E;var tn={};Object.defineProperty(tn,"__esModule",{value:!0});tn.timer=void 0;function yE(e){var t=new Date().getTime(),r=e(),n=new Date().getTime(),a=n-t;return{time:a,value:r}}tn.timer=yE;var rn={};Object.defineProperty(rn,"__esModule",{value:!0});rn.toFastProperties=void 0;function mE(e){function t(){}t.prototype=e;var r=new t;function n(){return typeof r.bar}return n(),n(),e}rn.toFastProperties=mE;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toFastProperties=e.timer=e.PRINT_ERROR=e.PRINT_WARNING=void 0;var t=Mt;Object.defineProperty(e,"PRINT_WARNING",{enumerable:!0,get:function(){return t.PRINT_WARNING}}),Object.defineProperty(e,"PRINT_ERROR",{enumerable:!0,get:function(){return t.PRINT_ERROR}});var r=tn;Object.defineProperty(e,"timer",{enumerable:!0,get:function(){return r.timer}});var n=rn;Object.defineProperty(e,"toFastProperties",{enumerable:!0,get:function(){return n.toFastProperties}})})(Gt);var qe={},jt={};function gE(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var ya=gE,EE=/\s/;function TE(e){for(var t=e.length;t--&&EE.test(e.charAt(t)););return t}var AE=TE,OE=AE,RE=/^\s+/;function IE(e){return e&&e.slice(0,OE(e)+1).replace(RE,"")}var NE=IE,SE=NE,Ni=Je,PE=Zr,Si=NaN,bE=/^[-+]0x[0-9a-f]+$/i,LE=/^0b[01]+$/i,CE=/^0o[0-7]+$/i,kE=parseInt;function ME(e){if(typeof e=="number")return e;if(PE(e))return Si;if(Ni(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ni(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=SE(e);var r=LE.test(e);return r||CE.test(e)?kE(e.slice(2),r?2:8):bE.test(e)?Si:+e}var $E=ME,wE=$E,Pi=1/0,FE=17976931348623157e292;function xE(e){if(!e)return e===0?e:0;if(e=wE(e),e===Pi||e===-Pi){var t=e<0?-1:1;return t*FE}return e===e?e:0}var DE=xE,UE=DE;function GE(e){var t=UE(e),r=t%1;return t===t?r?t-r:t:0}var Tr=GE,jE=ya,BE=Tr;function WE(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:BE(t),jE(e,t<0?0:t,n)):[]}var ma=WE,be={},pe={},VE=Rt,KE=ye,HE=Qe,zE="[object String]";function qE(e){return typeof e=="string"||!KE(e)&&HE(e)&&VE(e)==zE}var nn=qE,YE=Rt,XE=Qe,ZE="[object RegExp]";function JE(e){return XE(e)&&YE(e)==ZE}var QE=JE,eT=QE,tT=vr,bi=Kr,Li=bi&&bi.isRegExp,rT=Li?tT(Li):eT,Bo=rT,nT=Qr,aT=Jr,iT=Xr,Ci=Je,oT=mr;function sT(e,t,r,n){if(!Ci(e))return e;t=aT(t,e);for(var a=-1,o=t.length,_=o-1,v=e;v!=null&&++a<o;){var d=oT(t[a]),c=r;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(a!=_){var i=v[d];c=n?n(i,d,v):void 0,c===void 0&&(c=Ci(i)?i:iT(t[a+1])?[]:{})}nT(v,d,c),v=v[d]}return e}var uT=sT,cT=pa,lT=uT,fT=Jr;function dT(e,t,r){for(var n=-1,a=t.length,o={};++n<a;){var _=t[n],v=cT(e,_);r(v,_)&&lT(o,fT(_,e),v)}return o}var hT=dT,pT=_r,vT=tt,_T=hT,yT=Do;function mT(e,t){if(e==null)return{};var r=pT(yT(e),function(n){return[n]});return t=vT(t),_T(e,r,function(n,a){return t(n,a[0])})}var Wo=mT;function gT(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var ET=gT,TT=ET,ki=Math.max;function AT(e,t,r){return t=ki(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=ki(n.length-t,0),_=Array(o);++a<o;)_[a]=n[t+a];a=-1;for(var v=Array(t+1);++a<t;)v[a]=n[a];return v[t]=r(_),TT(e,this,v)}}var OT=AT;function RT(e){return function(){return e}}var IT=RT,NT=IT,Mi=wo,ST=gr,PT=Mi?function(e,t){return Mi(e,"toString",{configurable:!0,enumerable:!1,value:NT(t),writable:!0})}:ST,bT=PT,LT=800,CT=16,kT=Date.now;function MT(e){var t=0,r=0;return function(){var n=kT(),a=CT-(n-r);if(r=n,a>0){if(++t>=LT)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var $T=MT,wT=bT,FT=$T,xT=FT(wT),DT=xT,UT=gr,GT=OT,jT=DT;function BT(e,t){return jT(GT(e,t,UT),e+"")}var ga=BT,WT=yr,VT=et,KT=Xr,HT=Je;function zT(e,t,r){if(!HT(r))return!1;var n=typeof t;return(n=="number"?VT(r)&&KT(t,r.length):n=="string"&&t in r)?WT(r[t],e):!1}var an=zT,qT=ga,YT=an;function XT(e){return qT(function(t,r){var n=-1,a=r.length,o=a>1?r[a-1]:void 0,_=a>2?r[2]:void 0;for(o=e.length>3&&typeof o=="function"?(a--,o):void 0,_&&YT(r[0],r[1],_)&&(o=a<3?void 0:o,a=1),t=Object(t);++n<a;){var v=r[n];v&&e(t,v,n,o)}return t})}var ZT=XT,JT=Qr,QT=Er,eA=ZT,tA=et,rA=dr,nA=Be,aA=Object.prototype,iA=aA.hasOwnProperty,oA=eA(function(e,t){if(rA(t)||tA(t)){QT(t,nA(t),e);return}for(var r in t)iA.call(t,r)&&JT(e,r,t[r])}),on=oA,ut=D&&D.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bt=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pe,"__esModule",{value:!0});pe.serializeProduction=pe.serializeGrammar=pe.Terminal=pe.Alternation=pe.RepetitionWithSeparator=pe.Repetition=pe.RepetitionMandatoryWithSeparator=pe.RepetitionMandatory=pe.Option=pe.Alternative=pe.Rule=pe.NonTerminal=pe.AbstractProduction=void 0;var Vo=Bt(De),sA=Bt($e),zn=Bt(nn),uA=Bt(Bo),rt=Bt(Wo),nt=Bt(on);function cA(e){return lA(e)?e.LABEL:e.name}function lA(e){return(0,zn.default)(e.LABEL)&&e.LABEL!==""}var at=function(){function e(t){this._definition=t}return Object.defineProperty(e.prototype,"definition",{get:function(){return this._definition},set:function(t){this._definition=t},enumerable:!1,configurable:!0}),e.prototype.accept=function(t){t.visit(this),(0,sA.default)(this.definition,function(r){r.accept(t)})},e}();pe.AbstractProduction=at;var Ko=function(e){ut(t,e);function t(r){var n=e.call(this,[])||this;return n.idx=1,(0,nt.default)(n,(0,rt.default)(r,function(a){return a!==void 0})),n}return Object.defineProperty(t.prototype,"definition",{get:function(){return this.referencedRule!==void 0?this.referencedRule.definition:[]},set:function(r){},enumerable:!1,configurable:!0}),t.prototype.accept=function(r){r.visit(this)},t}(at);pe.NonTerminal=Ko;var Ho=function(e){ut(t,e);function t(r){var n=e.call(this,r.definition)||this;return n.orgText="",(0,nt.default)(n,(0,rt.default)(r,function(a){return a!==void 0})),n}return t}(at);pe.Rule=Ho;var zo=function(e){ut(t,e);function t(r){var n=e.call(this,r.definition)||this;return n.ignoreAmbiguities=!1,(0,nt.default)(n,(0,rt.default)(r,function(a){return a!==void 0})),n}return t}(at);pe.Alternative=zo;var qo=function(e){ut(t,e);function t(r){var n=e.call(this,r.definition)||this;return n.idx=1,(0,nt.default)(n,(0,rt.default)(r,function(a){return a!==void 0})),n}return t}(at);pe.Option=qo;var Yo=function(e){ut(t,e);function t(r){var n=e.call(this,r.definition)||this;return n.idx=1,(0,nt.default)(n,(0,rt.default)(r,function(a){return a!==void 0})),n}return t}(at);pe.RepetitionMandatory=Yo;var Xo=function(e){ut(t,e);function t(r){var n=e.call(this,r.definition)||this;return n.idx=1,(0,nt.default)(n,(0,rt.default)(r,function(a){return a!==void 0})),n}return t}(at);pe.RepetitionMandatoryWithSeparator=Xo;var Zo=function(e){ut(t,e);function t(r){var n=e.call(this,r.definition)||this;return n.idx=1,(0,nt.default)(n,(0,rt.default)(r,function(a){return a!==void 0})),n}return t}(at);pe.Repetition=Zo;var Jo=function(e){ut(t,e);function t(r){var n=e.call(this,r.definition)||this;return n.idx=1,(0,nt.default)(n,(0,rt.default)(r,function(a){return a!==void 0})),n}return t}(at);pe.RepetitionWithSeparator=Jo;var Qo=function(e){ut(t,e);function t(r){var n=e.call(this,r.definition)||this;return n.idx=1,n.ignoreAmbiguities=!1,n.hasPredicates=!1,(0,nt.default)(n,(0,rt.default)(r,function(a){return a!==void 0})),n}return Object.defineProperty(t.prototype,"definition",{get:function(){return this._definition},set:function(r){this._definition=r},enumerable:!1,configurable:!0}),t}(at);pe.Alternation=Qo;var Cr=function(){function e(t){this.idx=1,(0,nt.default)(this,(0,rt.default)(t,function(r){return r!==void 0}))}return e.prototype.accept=function(t){t.visit(this)},e}();pe.Terminal=Cr;function fA(e){return(0,Vo.default)(e,lr)}pe.serializeGrammar=fA;function lr(e){function t(o){return(0,Vo.default)(o,lr)}if(e instanceof Ko){var r={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return(0,zn.default)(e.label)&&(r.label=e.label),r}else{if(e instanceof zo)return{type:"Alternative",definition:t(e.definition)};if(e instanceof qo)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof Yo)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof Xo)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:lr(new Cr({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Jo)return{type:"RepetitionWithSeparator",idx:e.idx,separator:lr(new Cr({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Zo)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof Qo)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof Cr){var n={type:"Terminal",name:e.terminalType.name,label:cA(e.terminalType),idx:e.idx};(0,zn.default)(e.label)&&(n.terminalLabel=e.label);var a=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(n.pattern=(0,uA.default)(a)?a.source:a),n}else{if(e instanceof Ho)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}}}pe.serializeProduction=lr;var sn={};Object.defineProperty(sn,"__esModule",{value:!0});sn.GAstVisitor=void 0;var ze=pe,dA=function(){function e(){}return e.prototype.visit=function(t){var r=t;switch(r.constructor){case ze.NonTerminal:return this.visitNonTerminal(r);case ze.Alternative:return this.visitAlternative(r);case ze.Option:return this.visitOption(r);case ze.RepetitionMandatory:return this.visitRepetitionMandatory(r);case ze.RepetitionMandatoryWithSeparator:return this.visitRepetitionMandatoryWithSeparator(r);case ze.RepetitionWithSeparator:return this.visitRepetitionWithSeparator(r);case ze.Repetition:return this.visitRepetition(r);case ze.Alternation:return this.visitAlternation(r);case ze.Terminal:return this.visitTerminal(r);case ze.Rule:return this.visitRule(r);default:throw Error("non exhaustive match")}},e.prototype.visitNonTerminal=function(t){},e.prototype.visitAlternative=function(t){},e.prototype.visitOption=function(t){},e.prototype.visitRepetition=function(t){},e.prototype.visitRepetitionMandatory=function(t){},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){},e.prototype.visitRepetitionWithSeparator=function(t){},e.prototype.visitAlternation=function(t){},e.prototype.visitTerminal=function(t){},e.prototype.visitRule=function(t){},e}();sn.GAstVisitor=dA;var Ye={},hA=Nt;function pA(e,t){var r;return hA(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var vA=pA,_A=go,yA=tt,mA=vA,gA=ye,EA=an;function TA(e,t,r){var n=gA(e)?_A:mA;return r&&EA(e,t,r)&&(t=void 0),n(e,yA(t))}var Ea=TA;function AA(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var OA=AA,RA=Nt;function IA(e,t){var r=!0;return RA(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var NA=IA,SA=OA,PA=NA,bA=tt,LA=ye,CA=an;function kA(e,t,r){var n=LA(e)?SA:PA;return r&&CA(e,t,r)&&(t=void 0),n(e,bA(t))}var un=kA;function MA(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var es=MA;function $A(e){return e!==e}var wA=$A;function FA(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var xA=FA,DA=es,UA=wA,GA=xA;function jA(e,t,r){return t===t?GA(e,t,r):DA(e,UA,r)}var Ta=jA,BA=Ta,WA=et,VA=nn,KA=Tr,HA=st,zA=Math.max;function qA(e,t,r,n){e=WA(e)?e:HA(e),r=r&&!n?KA(r):0;var a=e.length;return r<0&&(r=zA(a+r,0)),VA(e)?r<=a&&e.indexOf(t,r)>-1:!!a&&BA(e,t,r)>-1}var _t=qA,Aa=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.getProductionDslName=Ye.isBranchingProd=Ye.isOptionalProd=Ye.isSequenceProd=void 0;var YA=Aa(Ea),XA=Aa(un),ZA=Aa(_t),Ie=pe;function JA(e){return e instanceof Ie.Alternative||e instanceof Ie.Option||e instanceof Ie.Repetition||e instanceof Ie.RepetitionMandatory||e instanceof Ie.RepetitionMandatoryWithSeparator||e instanceof Ie.RepetitionWithSeparator||e instanceof Ie.Terminal||e instanceof Ie.Rule}Ye.isSequenceProd=JA;function qn(e,t){t===void 0&&(t=[]);var r=e instanceof Ie.Option||e instanceof Ie.Repetition||e instanceof Ie.RepetitionWithSeparator;return r?!0:e instanceof Ie.Alternation?(0,YA.default)(e.definition,function(n){return qn(n,t)}):e instanceof Ie.NonTerminal&&(0,ZA.default)(t,e)?!1:e instanceof Ie.AbstractProduction?(e instanceof Ie.NonTerminal&&t.push(e),(0,XA.default)(e.definition,function(n){return qn(n,t)})):!1}Ye.isOptionalProd=qn;function QA(e){return e instanceof Ie.Alternation}Ye.isBranchingProd=QA;function eO(e){if(e instanceof Ie.NonTerminal)return"SUBRULE";if(e instanceof Ie.Option)return"OPTION";if(e instanceof Ie.Alternation)return"OR";if(e instanceof Ie.RepetitionMandatory)return"AT_LEAST_ONE";if(e instanceof Ie.RepetitionMandatoryWithSeparator)return"AT_LEAST_ONE_SEP";if(e instanceof Ie.RepetitionWithSeparator)return"MANY_SEP";if(e instanceof Ie.Repetition)return"MANY";if(e instanceof Ie.Terminal)return"CONSUME";throw Error("non exhaustive match")}Ye.getProductionDslName=eO;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isSequenceProd=e.isBranchingProd=e.isOptionalProd=e.getProductionDslName=e.GAstVisitor=e.serializeProduction=e.serializeGrammar=e.Alternative=e.Alternation=e.RepetitionWithSeparator=e.RepetitionMandatoryWithSeparator=e.RepetitionMandatory=e.Repetition=e.Option=e.NonTerminal=e.Terminal=e.Rule=void 0;var t=pe;Object.defineProperty(e,"Rule",{enumerable:!0,get:function(){return t.Rule}}),Object.defineProperty(e,"Terminal",{enumerable:!0,get:function(){return t.Terminal}}),Object.defineProperty(e,"NonTerminal",{enumerable:!0,get:function(){return t.NonTerminal}}),Object.defineProperty(e,"Option",{enumerable:!0,get:function(){return t.Option}}),Object.defineProperty(e,"Repetition",{enumerable:!0,get:function(){return t.Repetition}}),Object.defineProperty(e,"RepetitionMandatory",{enumerable:!0,get:function(){return t.RepetitionMandatory}}),Object.defineProperty(e,"RepetitionMandatoryWithSeparator",{enumerable:!0,get:function(){return t.RepetitionMandatoryWithSeparator}}),Object.defineProperty(e,"RepetitionWithSeparator",{enumerable:!0,get:function(){return t.RepetitionWithSeparator}}),Object.defineProperty(e,"Alternation",{enumerable:!0,get:function(){return t.Alternation}}),Object.defineProperty(e,"Alternative",{enumerable:!0,get:function(){return t.Alternative}}),Object.defineProperty(e,"serializeGrammar",{enumerable:!0,get:function(){return t.serializeGrammar}}),Object.defineProperty(e,"serializeProduction",{enumerable:!0,get:function(){return t.serializeProduction}});var r=sn;Object.defineProperty(e,"GAstVisitor",{enumerable:!0,get:function(){return r.GAstVisitor}});var n=Ye;Object.defineProperty(e,"getProductionDslName",{enumerable:!0,get:function(){return n.getProductionDslName}}),Object.defineProperty(e,"isOptionalProd",{enumerable:!0,get:function(){return n.isOptionalProd}}),Object.defineProperty(e,"isBranchingProd",{enumerable:!0,get:function(){return n.isBranchingProd}}),Object.defineProperty(e,"isSequenceProd",{enumerable:!0,get:function(){return n.isSequenceProd}})})(be);var ts=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jt,"__esModule",{value:!0});jt.RestWalker=void 0;var tO=ts(ma),$i=ts($e),xe=be,rO=function(){function e(){}return e.prototype.walk=function(t,r){var n=this;r===void 0&&(r=[]),(0,$i.default)(t.definition,function(a,o){var _=(0,tO.default)(t.definition,o+1);if(a instanceof xe.NonTerminal)n.walkProdRef(a,_,r);else if(a instanceof xe.Terminal)n.walkTerminal(a,_,r);else if(a instanceof xe.Alternative)n.walkFlat(a,_,r);else if(a instanceof xe.Option)n.walkOption(a,_,r);else if(a instanceof xe.RepetitionMandatory)n.walkAtLeastOne(a,_,r);else if(a instanceof xe.RepetitionMandatoryWithSeparator)n.walkAtLeastOneSep(a,_,r);else if(a instanceof xe.RepetitionWithSeparator)n.walkManySep(a,_,r);else if(a instanceof xe.Repetition)n.walkMany(a,_,r);else if(a instanceof xe.Alternation)n.walkOr(a,_,r);else throw Error("non exhaustive match")})},e.prototype.walkTerminal=function(t,r,n){},e.prototype.walkProdRef=function(t,r,n){},e.prototype.walkFlat=function(t,r,n){var a=r.concat(n);this.walk(t,a)},e.prototype.walkOption=function(t,r,n){var a=r.concat(n);this.walk(t,a)},e.prototype.walkAtLeastOne=function(t,r,n){var a=[new xe.Option({definition:t.definition})].concat(r,n);this.walk(t,a)},e.prototype.walkAtLeastOneSep=function(t,r,n){var a=wi(t,r,n);this.walk(t,a)},e.prototype.walkMany=function(t,r,n){var a=[new xe.Option({definition:t.definition})].concat(r,n);this.walk(t,a)},e.prototype.walkManySep=function(t,r,n){var a=wi(t,r,n);this.walk(t,a)},e.prototype.walkOr=function(t,r,n){var a=this,o=r.concat(n);(0,$i.default)(t.definition,function(_){var v=new xe.Alternative({definition:[_]});a.walk(v,o)})},e}();jt.RestWalker=rO;function wi(e,t,r){var n=[new xe.Option({definition:[new xe.Terminal({terminalType:e.separator})].concat(e.definition)})],a=n.concat(t,r);return a}var Ke={},Fi=$t,nO=Wr,aO=ye,xi=Fi?Fi.isConcatSpreadable:void 0;function iO(e){return aO(e)||nO(e)||!!(xi&&e&&e[xi])}var oO=iO,sO=ca,uO=oO;function rs(e,t,r,n,a){var o=-1,_=e.length;for(r||(r=uO),a||(a=[]);++o<_;){var v=e[o];t>0&&r(v)?t>1?rs(v,t-1,r,n,a):sO(a,v):n||(a[a.length]=v)}return a}var Oa=rs,cO=Oa;function lO(e){var t=e==null?0:e.length;return t?cO(e,1):[]}var ct=lO,fO=Ta;function dO(e,t){var r=e==null?0:e.length;return!!r&&fO(e,t,0)>-1}var ns=dO;function hO(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var as=hO;function pO(){}var Ra=pO,Mn=_o,vO=Ra,_O=ua,yO=1/0,mO=Mn&&1/_O(new Mn([,-0]))[1]==yO?function(e){return new Mn(e)}:vO,gO=mO,EO=oa,TO=ns,AO=as,OO=sa,RO=gO,IO=ua,NO=200;function SO(e,t,r){var n=-1,a=TO,o=e.length,_=!0,v=[],d=v;if(r)_=!1,a=AO;else if(o>=NO){var c=t?null:RO(e);if(c)return IO(c);_=!1,a=OO,d=new EO}else d=t?[]:v;e:for(;++n<o;){var i=e[n],f=t?t(i):i;if(i=r||i!==0?i:0,_&&f===f){for(var y=d.length;y--;)if(d[y]===f)continue e;t&&d.push(f),v.push(i)}else a(d,f,r)||(d!==v&&d.push(f),v.push(i))}return v}var PO=SO,bO=PO;function LO(e){return e&&e.length?bO(e):[]}var Ia=LO,Na=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.firstForTerminal=Ke.firstForBranching=Ke.firstForSequence=Ke.first=void 0;var CO=Na(ct),is=Na(Ia),kO=Na(De),Di=be,Yn=be;function cn(e){if(e instanceof Di.NonTerminal)return cn(e.referencedRule);if(e instanceof Di.Terminal)return us(e);if((0,Yn.isSequenceProd)(e))return os(e);if((0,Yn.isBranchingProd)(e))return ss(e);throw Error("non exhaustive match")}Ke.first=cn;function os(e){for(var t=[],r=e.definition,n=0,a=r.length>n,o,_=!0;a&&_;)o=r[n],_=(0,Yn.isOptionalProd)(o),t=t.concat(cn(o)),n=n+1,a=r.length>n;return(0,is.default)(t)}Ke.firstForSequence=os;function ss(e){var t=(0,kO.default)(e.definition,function(r){return cn(r)});return(0,is.default)((0,CO.default)(t))}Ke.firstForBranching=ss;function us(e){return[e.terminalType]}Ke.firstForTerminal=us;var Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.IN=void 0;Ar.IN="_~IN~_";var MO=D&&D.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cs=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qe,"__esModule",{value:!0});qe.buildInProdFollowPrefix=qe.buildBetweenProdsFollowPrefix=qe.computeAllProdsFollows=qe.ResyncFollowsWalker=void 0;var $O=jt,wO=Ke,FO=cs($e),xO=cs(on),ls=Ar,DO=be,fs=function(e){MO(t,e);function t(r){var n=e.call(this)||this;return n.topProd=r,n.follows={},n}return t.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},t.prototype.walkTerminal=function(r,n,a){},t.prototype.walkProdRef=function(r,n,a){var o=ds(r.referencedRule,r.idx)+this.topProd.name,_=n.concat(a),v=new DO.Alternative({definition:_}),d=(0,wO.first)(v);this.follows[o]=d},t}($O.RestWalker);qe.ResyncFollowsWalker=fs;function UO(e){var t={};return(0,FO.default)(e,function(r){var n=new fs(r).startWalking();(0,xO.default)(t,n)}),t}qe.computeAllProdsFollows=UO;function ds(e,t){return e.name+t+ls.IN}qe.buildBetweenProdsFollowPrefix=ds;function GO(e){var t=e.terminalType.name;return t+e.idx+ls.IN}qe.buildInProdFollowPrefix=GO;var St={};function jO(e){return e===void 0}var Wt=jO,$n={},wn={},hs={exports:{}};(function(e){(function(t,r){e.exports?e.exports=r():t.regexpToAst=r()})(typeof self<"u"?self:D,function(){function t(){}t.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},t.prototype.restoreState=function(s){this.idx=s.idx,this.input=s.input,this.groupIdx=s.groupIdx},t.prototype.pattern=function(s){this.idx=0,this.input=s,this.groupIdx=0,this.consumeChar("/");var T=this.disjunction();this.consumeChar("/");for(var R={type:"Flags",loc:{begin:this.idx,end:s.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":v(R,"global");break;case"i":v(R,"ignoreCase");break;case"m":v(R,"multiLine");break;case"u":v(R,"unicode");break;case"y":v(R,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:R,value:T,loc:this.loc(0)}},t.prototype.disjunction=function(){var s=[],T=this.idx;for(s.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),s.push(this.alternative());return{type:"Disjunction",value:s,loc:this.loc(T)}},t.prototype.alternative=function(){for(var s=[],T=this.idx;this.isTerm();)s.push(this.term());return{type:"Alternative",value:s,loc:this.loc(T)}},t.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},t.prototype.assertion=function(){var s=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(s)};case"$":return{type:"EndAnchor",loc:this.loc(s)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(s)};case"B":return{type:"NonWordBoundary",loc:this.loc(s)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");var T;switch(this.popChar()){case"=":T="Lookahead";break;case"!":T="NegativeLookahead";break}d(T);var R=this.disjunction();return this.consumeChar(")"),{type:T,value:R,loc:this.loc(s)}}c()},t.prototype.quantifier=function(s){var T,R=this.idx;switch(this.popChar()){case"*":T={atLeast:0,atMost:1/0};break;case"+":T={atLeast:1,atMost:1/0};break;case"?":T={atLeast:0,atMost:1};break;case"{":var S=this.integerIncludingZero();switch(this.popChar()){case"}":T={atLeast:S,atMost:S};break;case",":var P;this.isDigit()?(P=this.integerIncludingZero(),T={atLeast:S,atMost:P}):T={atLeast:S,atMost:1/0},this.consumeChar("}");break}if(s===!0&&T===void 0)return;d(T);break}if(!(s===!0&&T===void 0))return d(T),this.peekChar(0)==="?"?(this.consumeChar("?"),T.greedy=!1):T.greedy=!0,T.type="Quantifier",T.loc=this.loc(R),T},t.prototype.atom=function(){var s,T=this.idx;switch(this.peekChar()){case".":s=this.dotAll();break;case"\\":s=this.atomEscape();break;case"[":s=this.characterClass();break;case"(":s=this.group();break}return s===void 0&&this.isPatternCharacter()&&(s=this.patternCharacter()),d(s),s.loc=this.loc(T),this.isQuantifier()&&(s.quantifier=this.quantifier()),s},t.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[o(`
`),o("\r"),o("\u2028"),o("\u2029")]}},t.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.decimalEscapeAtom=function(){var s=this.positiveInteger();return{type:"GroupBackReference",value:s}},t.prototype.characterClassEscape=function(){var s,T=!1;switch(this.popChar()){case"d":s=f;break;case"D":s=f,T=!0;break;case"s":s=O;break;case"S":s=O,T=!0;break;case"w":s=y;break;case"W":s=y,T=!0;break}return d(s),{type:"Set",value:s,complement:T}},t.prototype.controlEscapeAtom=function(){var s;switch(this.popChar()){case"f":s=o("\f");break;case"n":s=o(`
`);break;case"r":s=o("\r");break;case"t":s=o("	");break;case"v":s=o("\v");break}return d(s),{type:"Character",value:s}},t.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var s=this.popChar();if(/[a-zA-Z]/.test(s)===!1)throw Error("Invalid ");var T=s.toUpperCase().charCodeAt(0)-64;return{type:"Character",value:T}},t.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:o("\0")}},t.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},t.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},t.prototype.identityEscapeAtom=function(){var s=this.popChar();return{type:"Character",value:o(s)}},t.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:var s=this.popChar();return{type:"Character",value:o(s)}}},t.prototype.characterClass=function(){var s=[],T=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),T=!0);this.isClassAtom();){var R=this.classAtom(),S=R.type==="Character";if(S&&this.isRangeDash()){this.consumeChar("-");var P=this.classAtom(),A=P.type==="Character";if(A){if(P.value<R.value)throw Error("Range out of order in character class");s.push({from:R.value,to:P.value})}else _(R.value,s),s.push(o("-")),_(P.value,s)}else _(R.value,s)}return this.consumeChar("]"),{type:"Set",complement:T,value:s}},t.prototype.classAtom=function(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},t.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:o("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.group=function(){var s=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),s=!1;break;default:this.groupIdx++;break}var T=this.disjunction();this.consumeChar(")");var R={type:"Group",capturing:s,value:T};return s&&(R.idx=this.groupIdx),R},t.prototype.positiveInteger=function(){var s=this.popChar();if(a.test(s)===!1)throw Error("Expecting a positive integer");for(;n.test(this.peekChar(0));)s+=this.popChar();return parseInt(s,10)},t.prototype.integerIncludingZero=function(){var s=this.popChar();if(n.test(s)===!1)throw Error("Expecting an integer");for(;n.test(this.peekChar(0));)s+=this.popChar();return parseInt(s,10)},t.prototype.patternCharacter=function(){var s=this.popChar();switch(s){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:o(s)}}},t.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},t.prototype.isRangeDash=function(){return this.peekChar()==="-"&&this.isClassAtom(1)},t.prototype.isDigit=function(){return n.test(this.peekChar(0))},t.prototype.isClassAtom=function(s){switch(s===void 0&&(s=0),this.peekChar(s)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},t.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},t.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}},t.prototype.isQuantifier=function(){var s=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(s)}},t.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.parseHexDigits=function(s){for(var T="",R=0;R<s;R++){var S=this.popChar();if(r.test(S)===!1)throw Error("Expecting a HexDecimal digits");T+=S}var P=parseInt(T,16);return{type:"Character",value:P}},t.prototype.peekChar=function(s){return s===void 0&&(s=0),this.input[this.idx+s]},t.prototype.popChar=function(){var s=this.peekChar(0);return this.consumeChar(),s},t.prototype.consumeChar=function(s){if(s!==void 0&&this.input[this.idx]!==s)throw Error("Expected: '"+s+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++},t.prototype.loc=function(s){return{begin:s,end:this.idx}};var r=/[0-9a-fA-F]/,n=/[0-9]/,a=/[1-9]/;function o(s){return s.charCodeAt(0)}function _(s,T){s.length!==void 0?s.forEach(function(R){T.push(R)}):T.push(s)}function v(s,T){if(s[T]===!0)throw"duplicate flag "+T;s[T]=!0}function d(s){if(s===void 0)throw Error("Internal Error - Should never get here!")}function c(){throw Error("Internal Error - Should never get here!")}var i,f=[];for(i=o("0");i<=o("9");i++)f.push(i);var y=[o("_")].concat(f);for(i=o("a");i<=o("z");i++)y.push(i);for(i=o("A");i<=o("Z");i++)y.push(i);var O=[o(" "),o("\f"),o(`
`),o("\r"),o("	"),o("\v"),o("	"),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o("\u2028"),o("\u2029"),o(""),o(""),o(""),o("\uFEFF")];function E(){}return E.prototype.visitChildren=function(s){for(var T in s){var R=s[T];s.hasOwnProperty(T)&&(R.type!==void 0?this.visit(R):Array.isArray(R)&&R.forEach(function(S){this.visit(S)},this))}},E.prototype.visit=function(s){switch(s.type){case"Pattern":this.visitPattern(s);break;case"Flags":this.visitFlags(s);break;case"Disjunction":this.visitDisjunction(s);break;case"Alternative":this.visitAlternative(s);break;case"StartAnchor":this.visitStartAnchor(s);break;case"EndAnchor":this.visitEndAnchor(s);break;case"WordBoundary":this.visitWordBoundary(s);break;case"NonWordBoundary":this.visitNonWordBoundary(s);break;case"Lookahead":this.visitLookahead(s);break;case"NegativeLookahead":this.visitNegativeLookahead(s);break;case"Character":this.visitCharacter(s);break;case"Set":this.visitSet(s);break;case"Group":this.visitGroup(s);break;case"GroupBackReference":this.visitGroupBackReference(s);break;case"Quantifier":this.visitQuantifier(s);break}this.visitChildren(s)},E.prototype.visitPattern=function(s){},E.prototype.visitFlags=function(s){},E.prototype.visitDisjunction=function(s){},E.prototype.visitAlternative=function(s){},E.prototype.visitStartAnchor=function(s){},E.prototype.visitEndAnchor=function(s){},E.prototype.visitWordBoundary=function(s){},E.prototype.visitNonWordBoundary=function(s){},E.prototype.visitLookahead=function(s){},E.prototype.visitNegativeLookahead=function(s){},E.prototype.visitCharacter=function(s){},E.prototype.visitSet=function(s){},E.prototype.visitGroup=function(s){},E.prototype.visitGroupBackReference=function(s){},E.prototype.visitQuantifier=function(s){},{RegExpParser:t,BaseRegExpVisitor:E,VERSION:"0.5.0"}})})(hs);var Sa=hs.exports;function BO(e){return e&&e.length?e[0]:void 0}var WO=BO,Or=WO;function VO(e){for(var t=-1,r=e==null?0:e.length,n=0,a=[];++t<r;){var o=e[t];o&&(a[n++]=o)}return a}var ln=VO,KO=Nt;function HO(e,t){var r=[];return KO(e,function(n,a,o){t(n,a,o)&&r.push(n)}),r}var ps=HO,zO="Expected a function";function qO(e){if(typeof e!="function")throw new TypeError(zO);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var YO=qO,XO=la,ZO=ps,JO=tt,QO=ye,eR=YO;function tR(e,t){var r=QO(e)?XO:ZO;return r(e,eR(JO(t)))}var Pa=tR,rR=oa,nR=ns,aR=as,iR=_r,oR=vr,sR=sa,uR=200;function cR(e,t,r,n){var a=-1,o=nR,_=!0,v=e.length,d=[],c=t.length;if(!v)return d;r&&(t=iR(t,oR(r))),n?(o=aR,_=!1):t.length>=uR&&(o=sR,_=!1,t=new rR(t));e:for(;++a<v;){var i=e[a],f=r==null?i:r(i);if(i=n||i!==0?i:0,_&&f===f){for(var y=c;y--;)if(t[y]===f)continue e;d.push(i)}else o(t,f,n)||d.push(i)}return d}var lR=cR,fR=et,dR=Qe;function hR(e){return dR(e)&&fR(e)}var pR=hR,vR=lR,_R=Oa,yR=ga,Ui=pR,mR=yR(function(e,t){return Ui(e)?vR(e,_R(t,1,Ui,!0)):[]}),ba=mR,gR=Ta,ER=Tr,TR=Math.max;function AR(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:ER(r);return a<0&&(a=TR(n+a,0)),gR(e,t,a)}var OR=AR,RR=tt,IR=et,NR=Be;function SR(e){return function(t,r,n){var a=Object(t);if(!IR(t)){var o=RR(r);t=NR(t),r=function(v){return o(a[v],v,a)}}var _=e(t,r,n);return _>-1?a[o?t[_]:_]:void 0}}var PR=SR,bR=es,LR=tt,CR=Tr,kR=Math.max;function MR(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:CR(r);return a<0&&(a=kR(n+a,0)),bR(e,LR(t),a)}var $R=MR,wR=PR,FR=$R,xR=wR(FR),La=xR,DR=la,UR=ps,GR=tt,jR=ye;function BR(e,t){var r=jR(e)?DR:UR;return r(e,GR(t))}var Ca=BR,WR=ga,VR=yr,KR=an,HR=en,vs=Object.prototype,zR=vs.hasOwnProperty,qR=WR(function(e,t){e=Object(e);var r=-1,n=t.length,a=n>2?t[2]:void 0;for(a&&KR(t[0],t[1],a)&&(n=1);++r<n;)for(var o=t[r],_=HR(o),v=-1,d=_.length;++v<d;){var c=_[v],i=e[c];(i===void 0||VR(i,vs[c])&&!zR.call(e,c))&&(e[c]=o[c])}return e}),_s=qR;function YR(e,t,r,n){var a=-1,o=e==null?0:e.length;for(n&&o&&(r=e[++a]);++a<o;)r=t(r,e[a],a,e);return r}var XR=YR;function ZR(e,t,r,n,a){return a(e,function(o,_,v){r=n?(n=!1,o):t(r,o,_,v)}),r}var JR=ZR,QR=XR,eI=Nt,tI=tt,rI=JR,nI=ye;function aI(e,t,r){var n=nI(e)?QR:rI,a=arguments.length<3;return n(e,tI(t),r,a,eI)}var Pt=aI,Fn={},pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.clearRegExpParserCache=pt.getRegExpAst=void 0;var iI=Sa,kr={},oI=new iI.RegExpParser;function sI(e){var t=e.toString();if(kr.hasOwnProperty(t))return kr[t];var r=oI.pattern(t);return kr[t]=r,r}pt.getRegExpAst=sI;function uI(){kr={}}pt.clearRegExpParserCache=uI;var Gi;function cI(){return Gi||(Gi=1,function(e){var t=D&&D.__extends||function(){var h=function(l,p){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var N in m)Object.prototype.hasOwnProperty.call(m,N)&&(u[N]=m[N])},h(l,p)};return function(l,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");h(l,p);function u(){this.constructor=l}l.prototype=p===null?Object.create(p):(u.prototype=p.prototype,new u)}}(),r=D&&D.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.canMatchCharCode=e.firstCharOptimizedIndices=e.getOptimizedStartCodesIndices=e.failedOptimizationPrefixMsg=void 0;var n=Sa,a=r(ye),o=r(un),_=r($e),v=r(La),d=r(st),c=r(_t),i=Gt,f=pt,y=ys(),O="Complement Sets are not supported for first char optimization";e.failedOptimizationPrefixMsg=`Unable to use "first char" lexer optimizations:
`;function E(h,l){l===void 0&&(l=!1);try{var p=(0,f.getRegExpAst)(h),u=s(p.value,{},p.flags.ignoreCase);return u}catch(N){if(N.message===O)l&&(0,i.PRINT_WARNING)("".concat(e.failedOptimizationPrefixMsg)+"	Unable to optimize: < ".concat(h.toString(),` >
`)+`	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{var m="";l&&(m=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),(0,i.PRINT_ERROR)("".concat(e.failedOptimizationPrefixMsg,`
`)+"	Failed parsing: < ".concat(h.toString(),` >
`)+"	Using the regexp-to-ast library version: ".concat(n.VERSION,`
`)+"	Please open an issue at: https://github.com/bd82/regexp-to-ast/issues"+m)}}return[]}e.getOptimizedStartCodesIndices=E;function s(h,l,p){switch(h.type){case"Disjunction":for(var u=0;u<h.value.length;u++)s(h.value[u],l,p);break;case"Alternative":for(var m=h.value,u=0;u<m.length;u++){var N=m[u];switch(N.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var b=N;switch(b.type){case"Character":T(b.value,l,p);break;case"Set":if(b.complement===!0)throw Error(O);(0,_.default)(b.value,function(k){if(typeof k=="number")T(k,l,p);else{var H=k;if(p===!0)for(var I=H.from;I<=H.to;I++)T(I,l,p);else{for(var I=H.from;I<=H.to&&I<y.minOptimizationVal;I++)T(I,l,p);if(H.to>=y.minOptimizationVal)for(var w=H.from>=y.minOptimizationVal?H.from:y.minOptimizationVal,C=H.to,V=(0,y.charCodeToOptimizedIndex)(w),K=(0,y.charCodeToOptimizedIndex)(C),z=V;z<=K;z++)l[z]=z}}});break;case"Group":s(b.value,l,p);break;default:throw Error("Non Exhaustive Match")}var j=b.quantifier!==void 0&&b.quantifier.atLeast===0;if(b.type==="Group"&&P(b)===!1||b.type!=="Group"&&j===!1)break}break;default:throw Error("non exhaustive match!")}return(0,d.default)(l)}e.firstCharOptimizedIndices=s;function T(h,l,p){var u=(0,y.charCodeToOptimizedIndex)(h);l[u]=u,p===!0&&R(h,l)}function R(h,l){var p=String.fromCharCode(h),u=p.toUpperCase();if(u!==p){var m=(0,y.charCodeToOptimizedIndex)(u.charCodeAt(0));l[m]=m}else{var N=p.toLowerCase();if(N!==p){var m=(0,y.charCodeToOptimizedIndex)(N.charCodeAt(0));l[m]=m}}}function S(h,l){return(0,v.default)(h.value,function(p){if(typeof p=="number")return(0,c.default)(l,p);var u=p;return(0,v.default)(l,function(m){return u.from<=m&&m<=u.to})!==void 0})}function P(h){var l=h.quantifier;return l&&l.atLeast===0?!0:h.value?(0,a.default)(h.value)?(0,o.default)(h.value,P):P(h.value):!1}var A=function(h){t(l,h);function l(p){var u=h.call(this)||this;return u.targetCharCodes=p,u.found=!1,u}return l.prototype.visitChildren=function(p){if(this.found!==!0){switch(p.type){case"Lookahead":this.visitLookahead(p);return;case"NegativeLookahead":this.visitNegativeLookahead(p);return}h.prototype.visitChildren.call(this,p)}},l.prototype.visitCharacter=function(p){(0,c.default)(this.targetCharCodes,p.value)&&(this.found=!0)},l.prototype.visitSet=function(p){p.complement?S(p,this.targetCharCodes)===void 0&&(this.found=!0):S(p,this.targetCharCodes)!==void 0&&(this.found=!0)},l}(n.BaseRegExpVisitor);function g(h,l){if(l instanceof RegExp){var p=(0,f.getRegExpAst)(l),u=new A(h);return u.visit(p),u.found}else return(0,v.default)(l,function(m){return(0,c.default)(h,m.charCodeAt(0))})!==void 0}e.canMatchCharCode=g}(Fn)),Fn}var ji;function ys(){return ji||(ji=1,function(e){var t=D&&D.__extends||function(){var F=function(x,G){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,B){W.__proto__=B}||function(W,B){for(var X in B)Object.prototype.hasOwnProperty.call(B,X)&&(W[X]=B[X])},F(x,G)};return function(x,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");F(x,G);function W(){this.constructor=x}x.prototype=G===null?Object.create(G):(W.prototype=G.prototype,new W)}}(),r=D&&D.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(e,"__esModule",{value:!0}),e.charCodeToOptimizedIndex=e.minOptimizationVal=e.buildLineBreakIssueMessage=e.LineTerminatorOptimizedTester=e.isShortPattern=e.isCustomPattern=e.cloneEmptyGroups=e.performWarningRuntimeChecks=e.performRuntimeChecks=e.addStickyFlag=e.addStartOfInput=e.findUnreachablePatterns=e.findModesThatDoNotExist=e.findInvalidGroupType=e.findDuplicatePatterns=e.findUnsupportedFlags=e.findStartOfInputAnchor=e.findEmptyMatchRegExps=e.findEndOfInputAnchor=e.findInvalidPatterns=e.findMissingPatterns=e.validatePatterns=e.analyzeTokenTypes=e.enableSticky=e.disableSticky=e.SUPPORT_STICKY=e.MODES=e.DEFAULT_MODE=void 0;var n=Sa,a=fn(),o=r(Or),_=r(He),v=r(ln),d=r(ye),c=r(st),i=r(ct),f=r(Pa),y=r(ba),O=r(OR),E=r(De),s=r($e),T=r(nn),R=r(hr),S=r(Wt),P=r(La),A=r(We),g=r(Be),h=r(Bo),l=r(Ca),p=r(_s),u=r(Pt),m=r(_t),N=Gt,b=cI(),j=pt,L="PATTERN";e.DEFAULT_MODE="defaultMode",e.MODES="modes",e.SUPPORT_STICKY=typeof new RegExp("(?:)").sticky=="boolean";function k(){e.SUPPORT_STICKY=!1}e.disableSticky=k;function H(){e.SUPPORT_STICKY=!0}e.enableSticky=H;function I(F,x){x=(0,p.default)(x,{useSticky:e.SUPPORT_STICKY,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:function(le,q){return q()}});var G=x.tracer;G("initCharCodeToOptimizedIndexMap",function(){Ue()});var W;G("Reject Lexer.NA",function(){W=(0,f.default)(F,function(le){return le[L]===a.Lexer.NA})});var B=!1,X;G("Transform Patterns",function(){B=!1,X=(0,E.default)(W,function(le){var q=le[L];if((0,h.default)(q)){var Pe=q.source;return Pe.length===1&&Pe!=="^"&&Pe!=="$"&&Pe!=="."&&!q.ignoreCase?Pe:Pe.length===2&&Pe[0]==="\\"&&!(0,m.default)(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],Pe[1])?Pe[1]:x.useSticky?Z(q):Y(q)}else{if((0,R.default)(q))return B=!0,{exec:q};if(typeof q=="object")return B=!0,q;if(typeof q=="string"){if(q.length===1)return q;var Jt=q.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),Sr=new RegExp(Jt);return x.useSticky?Z(Sr):Y(Sr)}else throw Error("non exhaustive match")}})});var ne,me,Re,Ce,dt;G("misc mapping",function(){ne=(0,E.default)(W,function(le){return le.tokenTypeIdx}),me=(0,E.default)(W,function(le){var q=le.GROUP;if(q!==a.Lexer.SKIPPED){if((0,T.default)(q))return q;if((0,S.default)(q))return!1;throw Error("non exhaustive match")}}),Re=(0,E.default)(W,function(le){var q=le.LONGER_ALT;if(q){var Pe=(0,d.default)(q)?(0,E.default)(q,function(Jt){return(0,O.default)(W,Jt)}):[(0,O.default)(W,q)];return Pe}}),Ce=(0,E.default)(W,function(le){return le.PUSH_MODE}),dt=(0,E.default)(W,function(le){return(0,A.default)(le,"POP_MODE")})});var ot;G("Line Terminator Handling",function(){var le=Le(x.lineTerminatorCharacters);ot=(0,E.default)(W,function(q){return!1}),x.positionTracking!=="onlyOffset"&&(ot=(0,E.default)(W,function(q){return(0,A.default)(q,"LINE_BREAKS")?!!q.LINE_BREAKS:Te(q,le)===!1&&(0,b.canMatchCharCode)(le,q.PATTERN)}))});var kt,Xt,Zt,Ve;G("Misc Mapping #2",function(){kt=(0,E.default)(W,re),Xt=(0,E.default)(X,he),Zt=(0,u.default)(W,function(le,q){var Pe=q.GROUP;return(0,T.default)(Pe)&&Pe!==a.Lexer.SKIPPED&&(le[Pe]=[]),le},{}),Ve=(0,E.default)(X,function(le,q){return{pattern:X[q],longerAlt:Re[q],canLineTerminator:ot[q],isCustom:kt[q],short:Xt[q],group:me[q],push:Ce[q],pop:dt[q],tokenTypeIdx:ne[q],tokenType:W[q]}})});var ht=!0,ke=[];return x.safeMode||G("First Char Optimization",function(){ke=(0,u.default)(W,function(le,q,Pe){if(typeof q.PATTERN=="string"){var Jt=q.PATTERN.charCodeAt(0),Sr=ft(Jt);we(le,Sr,Ve[Pe])}else if((0,d.default)(q.START_CHARS_HINT)){var Ua;(0,s.default)(q.START_CHARS_HINT,function(Qt){var Qs=typeof Qt=="string"?Qt.charCodeAt(0):Qt,Pn=ft(Qs);Ua!==Pn&&(Ua=Pn,we(le,Pn,Ve[Pe]))})}else if((0,h.default)(q.PATTERN))if(q.PATTERN.unicode)ht=!1,x.ensureOptimizations&&(0,N.PRINT_ERROR)("".concat(b.failedOptimizationPrefixMsg)+"	Unable to analyze < ".concat(q.PATTERN.toString(),` > pattern.
`)+`	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{var Ga=(0,b.getOptimizedStartCodesIndices)(q.PATTERN,x.ensureOptimizations);(0,_.default)(Ga)&&(ht=!1),(0,s.default)(Ga,function(Qt){we(le,Qt,Ve[Pe])})}else x.ensureOptimizations&&(0,N.PRINT_ERROR)("".concat(b.failedOptimizationPrefixMsg)+"	TokenType: <".concat(q.name,`> is using a custom token pattern without providing <start_chars_hint> parameter.
`)+`	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),ht=!1;return le},[])}),{emptyGroups:Zt,patternIdxToConfig:Ve,charCodeToPatternIdxToConfig:ke,hasCustom:B,canBeOptimized:ht}}e.analyzeTokenTypes=I;function w(F,x){var G=[],W=V(F);G=G.concat(W.errors);var B=K(W.valid),X=B.valid;return G=G.concat(B.errors),G=G.concat(C(X)),G=G.concat(_e(X)),G=G.concat(ge(X,x)),G=G.concat($(X)),G}e.validatePatterns=w;function C(F){var x=[],G=(0,l.default)(F,function(W){return(0,h.default)(W[L])});return x=x.concat(fe(G)),x=x.concat(ce(G)),x=x.concat(J(G)),x=x.concat(ve(G)),x=x.concat(ue(G)),x}function V(F){var x=(0,l.default)(F,function(B){return!(0,A.default)(B,L)}),G=(0,E.default)(x,function(B){return{message:"Token Type: ->"+B.name+"<- missing static 'PATTERN' property",type:a.LexerDefinitionErrorType.MISSING_PATTERN,tokenTypes:[B]}}),W=(0,y.default)(F,x);return{errors:G,valid:W}}e.findMissingPatterns=V;function K(F){var x=(0,l.default)(F,function(B){var X=B[L];return!(0,h.default)(X)&&!(0,R.default)(X)&&!(0,A.default)(X,"exec")&&!(0,T.default)(X)}),G=(0,E.default)(x,function(B){return{message:"Token Type: ->"+B.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:a.LexerDefinitionErrorType.INVALID_PATTERN,tokenTypes:[B]}}),W=(0,y.default)(F,x);return{errors:G,valid:W}}e.findInvalidPatterns=K;var z=/[^\\][$]/;function fe(F){var x=function(B){t(X,B);function X(){var ne=B!==null&&B.apply(this,arguments)||this;return ne.found=!1,ne}return X.prototype.visitEndAnchor=function(ne){this.found=!0},X}(n.BaseRegExpVisitor),G=(0,l.default)(F,function(B){var X=B.PATTERN;try{var ne=(0,j.getRegExpAst)(X),me=new x;return me.visit(ne),me.found}catch{return z.test(X.source)}}),W=(0,E.default)(G,function(B){return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+B.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:a.LexerDefinitionErrorType.EOI_ANCHOR_FOUND,tokenTypes:[B]}});return W}e.findEndOfInputAnchor=fe;function ue(F){var x=(0,l.default)(F,function(W){var B=W.PATTERN;return B.test("")}),G=(0,E.default)(x,function(W){return{message:"Token Type: ->"+W.name+"<- static 'PATTERN' must not match an empty string",type:a.LexerDefinitionErrorType.EMPTY_MATCH_PATTERN,tokenTypes:[W]}});return G}e.findEmptyMatchRegExps=ue;var ae=/[^\\[][\^]|^\^/;function ce(F){var x=function(B){t(X,B);function X(){var ne=B!==null&&B.apply(this,arguments)||this;return ne.found=!1,ne}return X.prototype.visitStartAnchor=function(ne){this.found=!0},X}(n.BaseRegExpVisitor),G=(0,l.default)(F,function(B){var X=B.PATTERN;try{var ne=(0,j.getRegExpAst)(X),me=new x;return me.visit(ne),me.found}catch{return ae.test(X.source)}}),W=(0,E.default)(G,function(B){return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+B.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:a.LexerDefinitionErrorType.SOI_ANCHOR_FOUND,tokenTypes:[B]}});return W}e.findStartOfInputAnchor=ce;function J(F){var x=(0,l.default)(F,function(W){var B=W[L];return B instanceof RegExp&&(B.multiline||B.global)}),G=(0,E.default)(x,function(W){return{message:"Token Type: ->"+W.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:a.LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[W]}});return G}e.findUnsupportedFlags=J;function ve(F){var x=[],G=(0,E.default)(F,function(X){return(0,u.default)(F,function(ne,me){return X.PATTERN.source===me.PATTERN.source&&!(0,m.default)(x,me)&&me.PATTERN!==a.Lexer.NA&&(x.push(me),ne.push(me)),ne},[])});G=(0,v.default)(G);var W=(0,l.default)(G,function(X){return X.length>1}),B=(0,E.default)(W,function(X){var ne=(0,E.default)(X,function(Re){return Re.name}),me=(0,o.default)(X).PATTERN;return{message:"The same RegExp pattern ->".concat(me,"<-")+"has been used in all of the following Token Types: ".concat(ne.join(", ")," <-"),type:a.LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND,tokenTypes:X}});return B}e.findDuplicatePatterns=ve;function _e(F){var x=(0,l.default)(F,function(W){if(!(0,A.default)(W,"GROUP"))return!1;var B=W.GROUP;return B!==a.Lexer.SKIPPED&&B!==a.Lexer.NA&&!(0,T.default)(B)}),G=(0,E.default)(x,function(W){return{message:"Token Type: ->"+W.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:a.LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND,tokenTypes:[W]}});return G}e.findInvalidGroupType=_e;function ge(F,x){var G=(0,l.default)(F,function(B){return B.PUSH_MODE!==void 0&&!(0,m.default)(x,B.PUSH_MODE)}),W=(0,E.default)(G,function(B){var X="Token Type: ->".concat(B.name,"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->").concat(B.PUSH_MODE,"<-")+"which does not exist";return{message:X,type:a.LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[B]}});return W}e.findModesThatDoNotExist=ge;function $(F){var x=[],G=(0,u.default)(F,function(W,B,X){var ne=B.PATTERN;return ne===a.Lexer.NA||((0,T.default)(ne)?W.push({str:ne,idx:X,tokenType:B}):(0,h.default)(ne)&&M(ne)&&W.push({str:ne.source,idx:X,tokenType:B})),W},[]);return(0,s.default)(F,function(W,B){(0,s.default)(G,function(X){var ne=X.str,me=X.idx,Re=X.tokenType;if(B<me&&U(ne,W.PATTERN)){var Ce="Token: ->".concat(Re.name,`<- can never be matched.
`)+"Because it appears AFTER the Token Type ->".concat(W.name,"<-")+`in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;x.push({message:Ce,type:a.LexerDefinitionErrorType.UNREACHABLE_PATTERN,tokenTypes:[W,Re]})}})}),x}e.findUnreachablePatterns=$;function U(F,x){if((0,h.default)(x)){var G=x.exec(F);return G!==null&&G.index===0}else{if((0,R.default)(x))return x(F,0,[],{});if((0,A.default)(x,"exec"))return x.exec(F,0,[],{});if(typeof x=="string")return x===F;throw Error("non exhaustive match")}}function M(F){var x=[".","\\","[","]","|","^","$","(",")","?","*","+","{"];return(0,P.default)(x,function(G){return F.source.indexOf(G)!==-1})===void 0}function Y(F){var x=F.ignoreCase?"i":"";return new RegExp("^(?:".concat(F.source,")"),x)}e.addStartOfInput=Y;function Z(F){var x=F.ignoreCase?"iy":"y";return new RegExp("".concat(F.source),x)}e.addStickyFlag=Z;function Q(F,x,G){var W=[];return(0,A.default)(F,e.DEFAULT_MODE)||W.push({message:"A MultiMode Lexer cannot be initialized without a <"+e.DEFAULT_MODE+`> property in its definition
`,type:a.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),(0,A.default)(F,e.MODES)||W.push({message:"A MultiMode Lexer cannot be initialized without a <"+e.MODES+`> property in its definition
`,type:a.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),(0,A.default)(F,e.MODES)&&(0,A.default)(F,e.DEFAULT_MODE)&&!(0,A.default)(F.modes,F.defaultMode)&&W.push({message:"A MultiMode Lexer cannot be initialized with a ".concat(e.DEFAULT_MODE,": <").concat(F.defaultMode,">")+`which does not exist
`,type:a.LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),(0,A.default)(F,e.MODES)&&(0,s.default)(F.modes,function(B,X){(0,s.default)(B,function(ne,me){if((0,S.default)(ne))W.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:"+"<".concat(X,"> at index: <").concat(me,`>
`),type:a.LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if((0,A.default)(ne,"LONGER_ALT")){var Re=(0,d.default)(ne.LONGER_ALT)?ne.LONGER_ALT:[ne.LONGER_ALT];(0,s.default)(Re,function(Ce){!(0,S.default)(Ce)&&!(0,m.default)(B,Ce)&&W.push({message:"A MultiMode Lexer cannot be initialized with a longer_alt <".concat(Ce.name,"> on token <").concat(ne.name,"> outside of mode <").concat(X,`>
`),type:a.LexerDefinitionErrorType.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),W}e.performRuntimeChecks=Q;function te(F,x,G){var W=[],B=!1,X=(0,v.default)((0,i.default)((0,c.default)(F.modes))),ne=(0,f.default)(X,function(Re){return Re[L]===a.Lexer.NA}),me=Le(G);return x&&(0,s.default)(ne,function(Re){var Ce=Te(Re,me);if(Ce!==!1){var dt=Oe(Re,Ce),ot={message:dt,type:Ce.issue,tokenType:Re};W.push(ot)}else(0,A.default)(Re,"LINE_BREAKS")?Re.LINE_BREAKS===!0&&(B=!0):(0,b.canMatchCharCode)(me,Re.PATTERN)&&(B=!0)}),x&&!B&&W.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:a.LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS}),W}e.performWarningRuntimeChecks=te;function ee(F){var x={},G=(0,g.default)(F);return(0,s.default)(G,function(W){var B=F[W];if((0,d.default)(B))x[W]=[];else throw Error("non exhaustive match")}),x}e.cloneEmptyGroups=ee;function re(F){var x=F.PATTERN;if((0,h.default)(x))return!1;if((0,R.default)(x))return!0;if((0,A.default)(x,"exec"))return!0;if((0,T.default)(x))return!1;throw Error("non exhaustive match")}e.isCustomPattern=re;function he(F){return(0,T.default)(F)&&F.length===1?F.charCodeAt(0):!1}e.isShortPattern=he,e.LineTerminatorOptimizedTester={test:function(F){for(var x=F.length,G=this.lastIndex;G<x;G++){var W=F.charCodeAt(G);if(W===10)return this.lastIndex=G+1,!0;if(W===13)return F.charCodeAt(G+1)===10?this.lastIndex=G+2:this.lastIndex=G+1,!0}return!1},lastIndex:0};function Te(F,x){if((0,A.default)(F,"LINE_BREAKS"))return!1;if((0,h.default)(F.PATTERN)){try{(0,b.canMatchCharCode)(x,F.PATTERN)}catch(G){return{issue:a.LexerDefinitionErrorType.IDENTIFY_TERMINATOR,errMsg:G.message}}return!1}else{if((0,T.default)(F.PATTERN))return!1;if(re(F))return{issue:a.LexerDefinitionErrorType.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function Oe(F,x){if(x.issue===a.LexerDefinitionErrorType.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
`+"	The problem is in the <".concat(F.name,`> Token Type
`)+"	 Root cause: ".concat(x.errMsg,`.
`)+"	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(x.issue===a.LexerDefinitionErrorType.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
`+"	The problem is in the <".concat(F.name,`> Token Type
`)+"	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}e.buildLineBreakIssueMessage=Oe;function Le(F){var x=(0,E.default)(F,function(G){return(0,T.default)(G)?G.charCodeAt(0):G});return x}function we(F,x,G){F[x]===void 0?F[x]=[G]:F[x].push(G)}e.minOptimizationVal=256;var lt=[];function ft(F){return F<e.minOptimizationVal?F:lt[F]}e.charCodeToOptimizedIndex=ft;function Ue(){if((0,_.default)(lt)){lt=new Array(65536);for(var F=0;F<65536;F++)lt[F]=F>255?255+~~(F/255):F}}}(wn)),wn}function lI(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ka=lI,bt={};(function(e){var t=D&&D.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.isTokenType=e.hasExtendingTokensTypesMapProperty=e.hasExtendingTokensTypesProperty=e.hasCategoriesProperty=e.hasShortKeyProperty=e.singleAssignCategoriesToksMap=e.assignCategoriesMapProp=e.assignCategoriesTokensProp=e.assignTokenDefaultProps=e.expandCategories=e.augmentTokenTypes=e.tokenIdxToClass=e.tokenShortNameIdx=e.tokenStructuredMatcherNoCategories=e.tokenStructuredMatcher=void 0;var r=t(He),n=t(ln),a=t(ye),o=t(ct),_=t(ba),v=t(De),d=t($e),c=t(We),i=t(_t),f=t(vt);function y(u,m){var N=u.tokenTypeIdx;return N===m.tokenTypeIdx?!0:m.isParent===!0&&m.categoryMatchesMap[N]===!0}e.tokenStructuredMatcher=y;function O(u,m){return u.tokenTypeIdx===m.tokenTypeIdx}e.tokenStructuredMatcherNoCategories=O,e.tokenShortNameIdx=1,e.tokenIdxToClass={};function E(u){var m=s(u);T(m),S(m),R(m),(0,d.default)(m,function(N){N.isParent=N.categoryMatches.length>0})}e.augmentTokenTypes=E;function s(u){for(var m=(0,f.default)(u),N=u,b=!0;b;){N=(0,n.default)((0,o.default)((0,v.default)(N,function(L){return L.CATEGORIES})));var j=(0,_.default)(N,m);m=m.concat(j),(0,r.default)(j)?b=!1:N=j}return m}e.expandCategories=s;function T(u){(0,d.default)(u,function(m){A(m)||(e.tokenIdxToClass[e.tokenShortNameIdx]=m,m.tokenTypeIdx=e.tokenShortNameIdx++),g(m)&&!(0,a.default)(m.CATEGORIES)&&(m.CATEGORIES=[m.CATEGORIES]),g(m)||(m.CATEGORIES=[]),h(m)||(m.categoryMatches=[]),l(m)||(m.categoryMatchesMap={})})}e.assignTokenDefaultProps=T;function R(u){(0,d.default)(u,function(m){m.categoryMatches=[],(0,d.default)(m.categoryMatchesMap,function(N,b){m.categoryMatches.push(e.tokenIdxToClass[b].tokenTypeIdx)})})}e.assignCategoriesTokensProp=R;function S(u){(0,d.default)(u,function(m){P([],m)})}e.assignCategoriesMapProp=S;function P(u,m){(0,d.default)(u,function(N){m.categoryMatchesMap[N.tokenTypeIdx]=!0}),(0,d.default)(m.CATEGORIES,function(N){var b=u.concat(m);(0,i.default)(b,N)||P(b,N)})}e.singleAssignCategoriesToksMap=P;function A(u){return(0,c.default)(u,"tokenTypeIdx")}e.hasShortKeyProperty=A;function g(u){return(0,c.default)(u,"CATEGORIES")}e.hasCategoriesProperty=g;function h(u){return(0,c.default)(u,"categoryMatches")}e.hasExtendingTokensTypesProperty=h;function l(u){return(0,c.default)(u,"categoryMatchesMap")}e.hasExtendingTokensTypesMapProperty=l;function p(u){return(0,c.default)(u,"tokenTypeIdx")}e.isTokenType=p})(bt);var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.defaultLexerErrorProvider=void 0;Rr.defaultLexerErrorProvider={buildUnableToPopLexerModeMessage:function(e){return"Unable to pop Lexer Mode after encountering Token ->".concat(e.image,"<- The Mode Stack is empty")},buildUnexpectedCharactersMessage:function(e,t,r,n,a){return"unexpected character: ->".concat(e.charAt(t),"<- at offset: ").concat(t,",")+" skipped ".concat(r," characters.")}};var Bi;function fn(){return Bi||(Bi=1,function(e){var t=D&&D.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.Lexer=e.LexerDefinitionErrorType=void 0;var r=ys(),n=t(Ra),a=t(He),o=t(ye),_=t(ka),v=t(Pa),d=t(De),c=t($e),i=t(Be),f=t(Wt),y=t(gr),O=t(on),E=t(Pt),s=t(vt),T=Gt,R=bt,S=Rr,P=pt;(function(h){h[h.MISSING_PATTERN=0]="MISSING_PATTERN",h[h.INVALID_PATTERN=1]="INVALID_PATTERN",h[h.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",h[h.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",h[h.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",h[h.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",h[h.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",h[h.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",h[h.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",h[h.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",h[h.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",h[h.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",h[h.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",h[h.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",h[h.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",h[h.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",h[h.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",h[h.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(e.LexerDefinitionErrorType||(e.LexerDefinitionErrorType={}));var A={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:S.defaultLexerErrorProvider,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(A);var g=function(){function h(l,p){p===void 0&&(p=A);var u=this;if(this.lexerDefinition=l,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=function(N,b){if(u.traceInitPerf===!0){u.traceInitIndent++;var j=new Array(u.traceInitIndent+1).join("	");u.traceInitIndent<u.traceInitMaxIdent&&console.log("".concat(j,"--> <").concat(N,">"));var L=(0,T.timer)(b),k=L.time,H=L.value,I=k>10?console.warn:console.log;return u.traceInitIndent<u.traceInitMaxIdent&&I("".concat(j,"<-- <").concat(N,"> time: ").concat(k,"ms")),u.traceInitIndent--,H}else return b()},typeof p=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=(0,O.default)({},A,p);var m=this.config.traceInitPerf;m===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof m=="number"&&(this.traceInitMaxIdent=m,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",function(){var N,b=!0;u.TRACE_INIT("Lexer Config handling",function(){if(u.config.lineTerminatorsPattern===A.lineTerminatorsPattern)u.config.lineTerminatorsPattern=r.LineTerminatorOptimizedTester;else if(u.config.lineTerminatorCharacters===A.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(p.safeMode&&p.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');u.trackStartLines=/full|onlyStart/i.test(u.config.positionTracking),u.trackEndLines=/full/i.test(u.config.positionTracking),(0,o.default)(l)?N={modes:{defaultMode:(0,s.default)(l)},defaultMode:r.DEFAULT_MODE}:(b=!1,N=(0,s.default)(l))}),u.config.skipValidations===!1&&(u.TRACE_INIT("performRuntimeChecks",function(){u.lexerDefinitionErrors=u.lexerDefinitionErrors.concat((0,r.performRuntimeChecks)(N,u.trackStartLines,u.config.lineTerminatorCharacters))}),u.TRACE_INIT("performWarningRuntimeChecks",function(){u.lexerDefinitionWarning=u.lexerDefinitionWarning.concat((0,r.performWarningRuntimeChecks)(N,u.trackStartLines,u.config.lineTerminatorCharacters))})),N.modes=N.modes?N.modes:{},(0,c.default)(N.modes,function(H,I){N.modes[I]=(0,v.default)(H,function(w){return(0,f.default)(w)})});var j=(0,i.default)(N.modes);if((0,c.default)(N.modes,function(H,I){u.TRACE_INIT("Mode: <".concat(I,"> processing"),function(){if(u.modes.push(I),u.config.skipValidations===!1&&u.TRACE_INIT("validatePatterns",function(){u.lexerDefinitionErrors=u.lexerDefinitionErrors.concat((0,r.validatePatterns)(H,j))}),(0,a.default)(u.lexerDefinitionErrors)){(0,R.augmentTokenTypes)(H);var w;u.TRACE_INIT("analyzeTokenTypes",function(){w=(0,r.analyzeTokenTypes)(H,{lineTerminatorCharacters:u.config.lineTerminatorCharacters,positionTracking:p.positionTracking,ensureOptimizations:p.ensureOptimizations,safeMode:p.safeMode,tracer:u.TRACE_INIT})}),u.patternIdxToConfig[I]=w.patternIdxToConfig,u.charCodeToPatternIdxToConfig[I]=w.charCodeToPatternIdxToConfig,u.emptyGroups=(0,O.default)({},u.emptyGroups,w.emptyGroups),u.hasCustom=w.hasCustom||u.hasCustom,u.canModeBeOptimized[I]=w.canBeOptimized}})}),u.defaultMode=N.defaultMode,!(0,a.default)(u.lexerDefinitionErrors)&&!u.config.deferDefinitionErrorsHandling){var L=(0,d.default)(u.lexerDefinitionErrors,function(H){return H.message}),k=L.join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+k)}(0,c.default)(u.lexerDefinitionWarning,function(H){(0,T.PRINT_WARNING)(H.message)}),u.TRACE_INIT("Choosing sub-methods implementations",function(){if(r.SUPPORT_STICKY?(u.chopInput=y.default,u.match=u.matchWithTest):(u.updateLastIndex=n.default,u.match=u.matchWithExec),b&&(u.handleModes=n.default),u.trackStartLines===!1&&(u.computeNewColumn=y.default),u.trackEndLines===!1&&(u.updateTokenEndLineColumnLocation=n.default),/full/i.test(u.config.positionTracking))u.createTokenInstance=u.createFullToken;else if(/onlyStart/i.test(u.config.positionTracking))u.createTokenInstance=u.createStartOnlyToken;else if(/onlyOffset/i.test(u.config.positionTracking))u.createTokenInstance=u.createOffsetOnlyToken;else throw Error('Invalid <positionTracking> config option: "'.concat(u.config.positionTracking,'"'));u.hasCustom?(u.addToken=u.addTokenUsingPush,u.handlePayload=u.handlePayloadWithCustom):(u.addToken=u.addTokenUsingMemberAccess,u.handlePayload=u.handlePayloadNoCustom)}),u.TRACE_INIT("Failed Optimization Warnings",function(){var H=(0,E.default)(u.canModeBeOptimized,function(I,w,C){return w===!1&&I.push(C),I},[]);if(p.ensureOptimizations&&!(0,a.default)(H))throw Error("Lexer Modes: < ".concat(H.join(", "),` > cannot be optimized.
`)+`	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),u.TRACE_INIT("clearRegExpParserCache",function(){(0,P.clearRegExpParserCache)()}),u.TRACE_INIT("toFastProperties",function(){(0,T.toFastProperties)(u)})})}return h.prototype.tokenize=function(l,p){if(p===void 0&&(p=this.defaultMode),!(0,a.default)(this.lexerDefinitionErrors)){var u=(0,d.default)(this.lexerDefinitionErrors,function(N){return N.message}),m=u.join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+m)}return this.tokenizeInternal(l,p)},h.prototype.tokenizeInternal=function(l,p){var u=this,m,N,b,j,L,k,H,I,w,C,V,K,z,fe,ue,ae=l,ce=ae.length,J=0,ve=0,_e=this.hasCustom?0:Math.floor(l.length/10),ge=new Array(_e),$=[],U=this.trackStartLines?1:void 0,M=this.trackStartLines?1:void 0,Y=(0,r.cloneEmptyGroups)(this.emptyGroups),Z=this.trackStartLines,Q=this.config.lineTerminatorsPattern,te=0,ee=[],re=[],he=[],Te=[];Object.freeze(Te);var Oe;function Le(){return ee}function we(ke){var le=(0,r.charCodeToOptimizedIndex)(ke),q=re[le];return q===void 0?Te:q}var lt=function(ke){if(he.length===1&&ke.tokenType.PUSH_MODE===void 0){var le=u.config.errorMessageProvider.buildUnableToPopLexerModeMessage(ke);$.push({offset:ke.startOffset,line:ke.startLine,column:ke.startColumn,length:ke.image.length,message:le})}else{he.pop();var q=(0,_.default)(he);ee=u.patternIdxToConfig[q],re=u.charCodeToPatternIdxToConfig[q],te=ee.length;var Pe=u.canModeBeOptimized[q]&&u.config.safeMode===!1;re&&Pe?Oe=we:Oe=Le}};function ft(ke){he.push(ke),re=this.charCodeToPatternIdxToConfig[ke],ee=this.patternIdxToConfig[ke],te=ee.length,te=ee.length;var le=this.canModeBeOptimized[ke]&&this.config.safeMode===!1;re&&le?Oe=we:Oe=Le}ft.call(this,p);for(var Ue,F=this.config.recoveryEnabled;J<ce;){k=null;var x=ae.charCodeAt(J),G=Oe(x),W=G.length;for(m=0;m<W;m++){Ue=G[m];var B=Ue.pattern;H=null;var X=Ue.short;if(X!==!1?x===X&&(k=B):Ue.isCustom===!0?(ue=B.exec(ae,J,ge,Y),ue!==null?(k=ue[0],ue.payload!==void 0&&(H=ue.payload)):k=null):(this.updateLastIndex(B,J),k=this.match(B,l,J)),k!==null){if(L=Ue.longerAlt,L!==void 0){var ne=L.length;for(b=0;b<ne;b++){var me=ee[L[b]],Re=me.pattern;if(I=null,me.isCustom===!0?(ue=Re.exec(ae,J,ge,Y),ue!==null?(j=ue[0],ue.payload!==void 0&&(I=ue.payload)):j=null):(this.updateLastIndex(Re,J),j=this.match(Re,l,J)),j&&j.length>k.length){k=j,H=I,Ue=me;break}}}break}}if(k!==null){if(w=k.length,C=Ue.group,C!==void 0&&(V=Ue.tokenTypeIdx,K=this.createTokenInstance(k,J,V,Ue.tokenType,U,M,w),this.handlePayload(K,H),C===!1?ve=this.addToken(ge,ve,K):Y[C].push(K)),l=this.chopInput(l,w),J=J+w,M=this.computeNewColumn(M,w),Z===!0&&Ue.canLineTerminator===!0){var Ce=0,dt=void 0,ot=void 0;Q.lastIndex=0;do dt=Q.test(k),dt===!0&&(ot=Q.lastIndex-1,Ce++);while(dt===!0);Ce!==0&&(U=U+Ce,M=w-ot,this.updateTokenEndLineColumnLocation(K,C,ot,Ce,U,M,w))}this.handleModes(Ue,lt,ft,K)}else{for(var kt=J,Xt=U,Zt=M,Ve=F===!1;Ve===!1&&J<ce;)for(l=this.chopInput(l,1),J++,N=0;N<te;N++){var ht=ee[N],B=ht.pattern,X=ht.short;if(X!==!1?ae.charCodeAt(J)===X&&(Ve=!0):ht.isCustom===!0?Ve=B.exec(ae,J,ge,Y)!==null:(this.updateLastIndex(B,J),Ve=B.exec(l)!==null),Ve===!0)break}if(z=J-kt,fe=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(ae,kt,z,Xt,Zt),$.push({offset:kt,line:Xt,column:Zt,length:z,message:fe}),F===!1)break}}return this.hasCustom||(ge.length=ve),{tokens:ge,groups:Y,errors:$}},h.prototype.handleModes=function(l,p,u,m){if(l.pop===!0){var N=l.push;p(m),N!==void 0&&u.call(this,N)}else l.push!==void 0&&u.call(this,l.push)},h.prototype.chopInput=function(l,p){return l.substring(p)},h.prototype.updateLastIndex=function(l,p){l.lastIndex=p},h.prototype.updateTokenEndLineColumnLocation=function(l,p,u,m,N,b,j){var L,k;p!==void 0&&(L=u===j-1,k=L?-1:0,m===1&&L===!0||(l.endLine=N+k,l.endColumn=b-1+-k))},h.prototype.computeNewColumn=function(l,p){return l+p},h.prototype.createOffsetOnlyToken=function(l,p,u,m){return{image:l,startOffset:p,tokenTypeIdx:u,tokenType:m}},h.prototype.createStartOnlyToken=function(l,p,u,m,N,b){return{image:l,startOffset:p,startLine:N,startColumn:b,tokenTypeIdx:u,tokenType:m}},h.prototype.createFullToken=function(l,p,u,m,N,b,j){return{image:l,startOffset:p,endOffset:p+j-1,startLine:N,endLine:N,startColumn:b,endColumn:b+j-1,tokenTypeIdx:u,tokenType:m}},h.prototype.addTokenUsingPush=function(l,p,u){return l.push(u),p},h.prototype.addTokenUsingMemberAccess=function(l,p,u){return l[p]=u,p++,p},h.prototype.handlePayloadNoCustom=function(l,p){},h.prototype.handlePayloadWithCustom=function(l,p){p!==null&&(l.payload=p)},h.prototype.matchWithTest=function(l,p,u){var m=l.test(p);return m===!0?p.substring(u,l.lastIndex):null},h.prototype.matchWithExec=function(l,p){var u=l.exec(p);return u!==null?u[0]:null},h.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",h.NA=/NOT_APPLICABLE/,h}();e.Lexer=g}($n)),$n}(function(e){var t=D&&D.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.tokenMatcher=e.createTokenInstance=e.EOF=e.createToken=e.hasTokenLabel=e.tokenName=e.tokenLabel=void 0;var r=t(nn),n=t(We),a=t(Wt),o=fn(),_=bt;function v(l){return c(l)?l.LABEL:l.name}e.tokenLabel=v;function d(l){return l.name}e.tokenName=d;function c(l){return(0,r.default)(l.LABEL)&&l.LABEL!==""}e.hasTokenLabel=c;var i="parent",f="categories",y="label",O="group",E="push_mode",s="pop_mode",T="longer_alt",R="line_breaks",S="start_chars_hint";function P(l){return A(l)}e.createToken=P;function A(l){var p=l.pattern,u={};if(u.name=l.name,(0,a.default)(p)||(u.PATTERN=p),(0,n.default)(l,i))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return(0,n.default)(l,f)&&(u.CATEGORIES=l[f]),(0,_.augmentTokenTypes)([u]),(0,n.default)(l,y)&&(u.LABEL=l[y]),(0,n.default)(l,O)&&(u.GROUP=l[O]),(0,n.default)(l,s)&&(u.POP_MODE=l[s]),(0,n.default)(l,E)&&(u.PUSH_MODE=l[E]),(0,n.default)(l,T)&&(u.LONGER_ALT=l[T]),(0,n.default)(l,R)&&(u.LINE_BREAKS=l[R]),(0,n.default)(l,S)&&(u.START_CHARS_HINT=l[S]),u}e.EOF=P({name:"EOF",pattern:o.Lexer.NA}),(0,_.augmentTokenTypes)([e.EOF]);function g(l,p,u,m,N,b,j,L){return{image:p,startOffset:u,endOffset:m,startLine:N,endLine:b,startColumn:j,endColumn:L,tokenTypeIdx:l.tokenTypeIdx,tokenType:l}}e.createTokenInstance=g;function h(l,p){return(0,_.tokenStructuredMatcher)(l,p)}e.tokenMatcher=h})(St);var Vt={};(function(e){var t=D&&D.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGrammarValidatorErrorProvider=e.defaultGrammarResolverErrorProvider=e.defaultParserErrorProvider=void 0;var r=St,n=t(Or),a=t(De),o=t(Pt),_=be,v=be;e.defaultParserErrorProvider={buildMismatchTokenMessage:function(d){var c=d.expected,i=d.actual;d.previous,d.ruleName;var f=(0,r.hasTokenLabel)(c),y=f?"--> ".concat((0,r.tokenLabel)(c)," <--"):"token of type --> ".concat(c.name," <--"),O="Expecting ".concat(y," but found --> '").concat(i.image,"' <--");return O},buildNotAllInputParsedMessage:function(d){var c=d.firstRedundant;return d.ruleName,"Redundant input, expecting EOF but found: "+c.image},buildNoViableAltMessage:function(d){var c=d.expectedPathsPerAlt,i=d.actual;d.previous;var f=d.customUserDescription;d.ruleName;var y="Expecting: ",O=(0,n.default)(i).image,E=`
but found: '`+O+"'";if(f)return y+f+E;var s=(0,o.default)(c,function(P,A){return P.concat(A)},[]),T=(0,a.default)(s,function(P){return"[".concat((0,a.default)(P,function(A){return(0,r.tokenLabel)(A)}).join(", "),"]")}),R=(0,a.default)(T,function(P,A){return"  ".concat(A+1,". ").concat(P)}),S=`one of these possible Token sequences:
`.concat(R.join(`
`));return y+S+E},buildEarlyExitMessage:function(d){var c=d.expectedIterationPaths,i=d.actual,f=d.customUserDescription;d.ruleName;var y="Expecting: ",O=(0,n.default)(i).image,E=`
but found: '`+O+"'";if(f)return y+f+E;var s=(0,a.default)(c,function(R){return"[".concat((0,a.default)(R,function(S){return(0,r.tokenLabel)(S)}).join(","),"]")}),T=`expecting at least one iteration which starts with one of these possible Token sequences::
  `+"<".concat(s.join(" ,"),">");return y+T+E}},Object.freeze(e.defaultParserErrorProvider),e.defaultGrammarResolverErrorProvider={buildRuleNotFoundError:function(d,c){var i="Invalid grammar, reference to a rule which is not defined: ->"+c.nonTerminalName+`<-
inside top level rule: ->`+d.name+"<-";return i}},e.defaultGrammarValidatorErrorProvider={buildDuplicateFoundError:function(d,c){function i(S){return S instanceof _.Terminal?S.terminalType.name:S instanceof _.NonTerminal?S.nonTerminalName:""}var f=d.name,y=(0,n.default)(c),O=y.idx,E=(0,v.getProductionDslName)(y),s=i(y),T=O>0,R="->".concat(E).concat(T?O:"","<- ").concat(s?"with argument: ->".concat(s,"<-"):"",`
                  appears more than once (`).concat(c.length," times) in the top level rule: ->").concat(f,`<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `);return R=R.replace(/[ \t]+/g," "),R=R.replace(/\s\s+/g,`
`),R},buildNamespaceConflictError:function(d){var c=`Namespace conflict found in grammar.
`+"The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <".concat(d.name,`>.
`)+`To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`;return c},buildAlternationPrefixAmbiguityError:function(d){var c=(0,a.default)(d.prefixPath,function(y){return(0,r.tokenLabel)(y)}).join(", "),i=d.alternation.idx===0?"":d.alternation.idx,f="Ambiguous alternatives: <".concat(d.ambiguityIndices.join(" ,"),`> due to common lookahead prefix
`)+"in <OR".concat(i,"> inside <").concat(d.topLevelRule.name,`> Rule,
`)+"<".concat(c,`> may appears as a prefix path in all these alternatives.
`)+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`;return f},buildAlternationAmbiguityError:function(d){var c=(0,a.default)(d.prefixPath,function(y){return(0,r.tokenLabel)(y)}).join(", "),i=d.alternation.idx===0?"":d.alternation.idx,f="Ambiguous Alternatives Detected: <".concat(d.ambiguityIndices.join(" ,"),"> in <OR").concat(i,">")+" inside <".concat(d.topLevelRule.name,`> Rule,
`)+"<".concat(c,`> may appears as a prefix path in all these alternatives.
`);return f=f+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,f},buildEmptyRepetitionError:function(d){var c=(0,v.getProductionDslName)(d.repetition);d.repetition.idx!==0&&(c+=d.repetition.idx);var i="The repetition <".concat(c,"> within Rule <").concat(d.topLevelRule.name,`> can never consume any tokens.
`)+"This could lead to an infinite loop.";return i},buildTokenNameError:function(d){return"deprecated"},buildEmptyAlternationError:function(d){var c="Ambiguous empty alternative: <".concat(d.emptyChoiceIdx+1,">")+" in <OR".concat(d.alternation.idx,"> inside <").concat(d.topLevelRule.name,`> Rule.
`)+"Only the last alternative may be an empty alternative.";return c},buildTooManyAlternativesError:function(d){var c=`An Alternation cannot have more than 256 alternatives:
`+"<OR".concat(d.alternation.idx,"> inside <").concat(d.topLevelRule.name,`> Rule.
 has `).concat(d.alternation.definition.length+1," alternatives.");return c},buildLeftRecursionError:function(d){var c=d.topLevelRule.name,i=(0,a.default)(d.leftRecursionPath,function(O){return O.name}),f="".concat(c," --> ").concat(i.concat([c]).join(" --> ")),y=`Left Recursion found in grammar.
`+"rule: <".concat(c,`> can be invoked from itself (directly or indirectly)
`)+`without consuming any Tokens. The grammar path that causes this is: 
 `.concat(f,`
`)+` To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`;return y},buildInvalidRuleNameError:function(d){return"deprecated"},buildDuplicateRuleNameError:function(d){var c;d.topLevelRule instanceof _.Rule?c=d.topLevelRule.name:c=d.topLevelRule;var i="Duplicate definition, rule: ->".concat(c,"<- is already defined in the grammar: ->").concat(d.grammarName,"<-");return i}}})(Vt);var gt={},Et={},Wi;function fI(){if(Wi)return Et;Wi=1;var e=D&&D.__extends||function(){var d=function(c,i){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,y){f.__proto__=y}||function(f,y){for(var O in y)Object.prototype.hasOwnProperty.call(y,O)&&(f[O]=y[O])},d(c,i)};return function(c,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");d(c,i);function f(){this.constructor=c}c.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),t=D&&D.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Et,"__esModule",{value:!0}),Et.GastRefResolverVisitor=Et.resolveGrammar=void 0;var r=je(),n=t($e),a=t(st),o=be;function _(d,c){var i=new v(d,c);return i.resolveRefs(),i.errors}Et.resolveGrammar=_;var v=function(d){e(c,d);function c(i,f){var y=d.call(this)||this;return y.nameToTopRule=i,y.errMsgProvider=f,y.errors=[],y}return c.prototype.resolveRefs=function(){var i=this;(0,n.default)((0,a.default)(this.nameToTopRule),function(f){i.currTopLevel=f,f.accept(i)})},c.prototype.visitNonTerminal=function(i){var f=this.nameToTopRule[i.nonTerminalName];if(f)i.referencedRule=f;else{var y=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,i);this.errors.push({message:y,type:r.ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:i.nonTerminalName})}},c}(o.GAstVisitor);return Et.GastRefResolverVisitor=v,Et}var de={};function dI(e,t,r,n){for(var a=-1,o=e==null?0:e.length;++a<o;){var _=e[a];t(n,_,r(_),e)}return n}var hI=dI,pI=Nt;function vI(e,t,r,n){return pI(e,function(a,o,_){t(n,a,r(a),_)}),n}var _I=vI,yI=hI,mI=_I,gI=tt,EI=ye;function TI(e,t){return function(r,n){var a=EI(r)?yI:mI,o=t?t():{};return a(r,e,gI(n),o)}}var AI=TI,OI=va,RI=AI,II=Object.prototype,NI=II.hasOwnProperty,SI=RI(function(e,t,r){NI.call(e,r)?e[r].push(t):OI(e,r,[t])}),ms=SI,PI=Oa,bI=De;function LI(e,t){return PI(bI(e,t),1)}var gs=LI,Kt={},Se={},CI=ya,kI=Tr;function MI(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:kI(t),t=n-t,CI(e,0,t<0?0:t)):[]}var Ma=MI,Lt=D&&D.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ct=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Se,"__esModule",{value:!0});Se.nextPossibleTokensAfter=Se.possiblePathsFrom=Se.NextTerminalAfterAtLeastOneSepWalker=Se.NextTerminalAfterAtLeastOneWalker=Se.NextTerminalAfterManySepWalker=Se.NextTerminalAfterManyWalker=Se.AbstractNextTerminalAfterProductionWalker=Se.NextAfterTokenWalker=Se.AbstractNextPossibleTokensWalker=void 0;var Es=jt,dn=Ct(Or),jr=Ct(He),Vi=Ct(Ma),Fe=Ct(ma),$I=Ct(ka),wI=Ct($e),Ot=Ct(vt),FI=Ke,se=be,Ts=function(e){Lt(t,e);function t(r,n){var a=e.call(this)||this;return a.topProd=r,a.path=n,a.possibleTokTypes=[],a.nextProductionName="",a.nextProductionOccurrence=0,a.found=!1,a.isAtEndOfPath=!1,a}return t.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,Ot.default)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,Ot.default)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},t.prototype.walk=function(r,n){n===void 0&&(n=[]),this.found||e.prototype.walk.call(this,r,n)},t.prototype.walkProdRef=function(r,n,a){if(r.referencedRule.name===this.nextProductionName&&r.idx===this.nextProductionOccurrence){var o=n.concat(a);this.updateExpectedNext(),this.walk(r.referencedRule,o)}},t.prototype.updateExpectedNext=function(){(0,jr.default)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},t}(Es.RestWalker);Se.AbstractNextPossibleTokensWalker=Ts;var xI=function(e){Lt(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.path=n,a.nextTerminalName="",a.nextTerminalOccurrence=0,a.nextTerminalName=a.path.lastTok.name,a.nextTerminalOccurrence=a.path.lastTokOccurrence,a}return t.prototype.walkTerminal=function(r,n,a){if(this.isAtEndOfPath&&r.terminalType.name===this.nextTerminalName&&r.idx===this.nextTerminalOccurrence&&!this.found){var o=n.concat(a),_=new se.Alternative({definition:o});this.possibleTokTypes=(0,FI.first)(_),this.found=!0}},t}(Ts);Se.NextAfterTokenWalker=xI;var Ir=function(e){Lt(t,e);function t(r,n){var a=e.call(this)||this;return a.topRule=r,a.occurrence=n,a.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},a}return t.prototype.startWalking=function(){return this.walk(this.topRule),this.result},t}(Es.RestWalker);Se.AbstractNextTerminalAfterProductionWalker=Ir;var DI=function(e){Lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.walkMany=function(r,n,a){if(r.idx===this.occurrence){var o=(0,dn.default)(n.concat(a));this.result.isEndOfRule=o===void 0,o instanceof se.Terminal&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkMany.call(this,r,n,a)},t}(Ir);Se.NextTerminalAfterManyWalker=DI;var UI=function(e){Lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.walkManySep=function(r,n,a){if(r.idx===this.occurrence){var o=(0,dn.default)(n.concat(a));this.result.isEndOfRule=o===void 0,o instanceof se.Terminal&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkManySep.call(this,r,n,a)},t}(Ir);Se.NextTerminalAfterManySepWalker=UI;var GI=function(e){Lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.walkAtLeastOne=function(r,n,a){if(r.idx===this.occurrence){var o=(0,dn.default)(n.concat(a));this.result.isEndOfRule=o===void 0,o instanceof se.Terminal&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkAtLeastOne.call(this,r,n,a)},t}(Ir);Se.NextTerminalAfterAtLeastOneWalker=GI;var jI=function(e){Lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.walkAtLeastOneSep=function(r,n,a){if(r.idx===this.occurrence){var o=(0,dn.default)(n.concat(a));this.result.isEndOfRule=o===void 0,o instanceof se.Terminal&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkAtLeastOneSep.call(this,r,n,a)},t}(Ir);Se.NextTerminalAfterAtLeastOneSepWalker=jI;function As(e,t,r){r===void 0&&(r=[]),r=(0,Ot.default)(r);var n=[],a=0;function o(c){return c.concat((0,Fe.default)(e,a+1))}function _(c){var i=As(o(c),t,r);return n.concat(i)}for(;r.length<t&&a<e.length;){var v=e[a];if(v instanceof se.Alternative)return _(v.definition);if(v instanceof se.NonTerminal)return _(v.definition);if(v instanceof se.Option)n=_(v.definition);else if(v instanceof se.RepetitionMandatory){var d=v.definition.concat([new se.Repetition({definition:v.definition})]);return _(d)}else if(v instanceof se.RepetitionMandatoryWithSeparator){var d=[new se.Alternative({definition:v.definition}),new se.Repetition({definition:[new se.Terminal({terminalType:v.separator})].concat(v.definition)})];return _(d)}else if(v instanceof se.RepetitionWithSeparator){var d=v.definition.concat([new se.Repetition({definition:[new se.Terminal({terminalType:v.separator})].concat(v.definition)})]);n=_(d)}else if(v instanceof se.Repetition){var d=v.definition.concat([new se.Repetition({definition:v.definition})]);n=_(d)}else{if(v instanceof se.Alternation)return(0,wI.default)(v.definition,function(c){(0,jr.default)(c.definition)===!1&&(n=_(c.definition))}),n;if(v instanceof se.Terminal)r.push(v.terminalType);else throw Error("non exhaustive match")}a++}return n.push({partialPath:r,suffixDef:(0,Fe.default)(e,a)}),n}Se.possiblePathsFrom=As;function BI(e,t,r,n){var a="EXIT_NONE_TERMINAL",o=[a],_="EXIT_ALTERNATIVE",v=!1,d=t.length,c=d-n-1,i=[],f=[];for(f.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!(0,jr.default)(f);){var y=f.pop();if(y===_){v&&(0,$I.default)(f).idx<=c&&f.pop();continue}var O=y.def,E=y.idx,s=y.ruleStack,T=y.occurrenceStack;if(!(0,jr.default)(O)){var R=O[0];if(R===a){var S={idx:E,def:(0,Fe.default)(O),ruleStack:(0,Vi.default)(s),occurrenceStack:(0,Vi.default)(T)};f.push(S)}else if(R instanceof se.Terminal)if(E<d-1){var P=E+1,A=t[P];if(r(A,R.terminalType)){var S={idx:P,def:(0,Fe.default)(O),ruleStack:s,occurrenceStack:T};f.push(S)}}else if(E===d-1)i.push({nextTokenType:R.terminalType,nextTokenOccurrence:R.idx,ruleStack:s,occurrenceStack:T}),v=!0;else throw Error("non exhaustive match");else if(R instanceof se.NonTerminal){var g=(0,Ot.default)(s);g.push(R.nonTerminalName);var h=(0,Ot.default)(T);h.push(R.idx);var S={idx:E,def:R.definition.concat(o,(0,Fe.default)(O)),ruleStack:g,occurrenceStack:h};f.push(S)}else if(R instanceof se.Option){var l={idx:E,def:(0,Fe.default)(O),ruleStack:s,occurrenceStack:T};f.push(l),f.push(_);var p={idx:E,def:R.definition.concat((0,Fe.default)(O)),ruleStack:s,occurrenceStack:T};f.push(p)}else if(R instanceof se.RepetitionMandatory){var u=new se.Repetition({definition:R.definition,idx:R.idx}),m=R.definition.concat([u],(0,Fe.default)(O)),S={idx:E,def:m,ruleStack:s,occurrenceStack:T};f.push(S)}else if(R instanceof se.RepetitionMandatoryWithSeparator){var N=new se.Terminal({terminalType:R.separator}),u=new se.Repetition({definition:[N].concat(R.definition),idx:R.idx}),m=R.definition.concat([u],(0,Fe.default)(O)),S={idx:E,def:m,ruleStack:s,occurrenceStack:T};f.push(S)}else if(R instanceof se.RepetitionWithSeparator){var l={idx:E,def:(0,Fe.default)(O),ruleStack:s,occurrenceStack:T};f.push(l),f.push(_);var N=new se.Terminal({terminalType:R.separator}),b=new se.Repetition({definition:[N].concat(R.definition),idx:R.idx}),m=R.definition.concat([b],(0,Fe.default)(O)),p={idx:E,def:m,ruleStack:s,occurrenceStack:T};f.push(p)}else if(R instanceof se.Repetition){var l={idx:E,def:(0,Fe.default)(O),ruleStack:s,occurrenceStack:T};f.push(l),f.push(_);var b=new se.Repetition({definition:R.definition,idx:R.idx}),m=R.definition.concat([b],(0,Fe.default)(O)),p={idx:E,def:m,ruleStack:s,occurrenceStack:T};f.push(p)}else if(R instanceof se.Alternation)for(var j=R.definition.length-1;j>=0;j--){var L=R.definition[j],k={idx:E,def:L.definition.concat((0,Fe.default)(O)),ruleStack:s,occurrenceStack:T};f.push(k),f.push(_)}else if(R instanceof se.Alternative)f.push({idx:E,def:R.definition.concat((0,Fe.default)(O)),ruleStack:s,occurrenceStack:T});else if(R instanceof se.Rule)f.push(WI(R,E,s,T));else throw Error("non exhaustive match")}}return i}Se.nextPossibleTokensAfter=BI;function WI(e,t,r,n){var a=(0,Ot.default)(r);a.push(e.name);var o=(0,Ot.default)(n);return o.push(1),{idx:t,def:e.definition,ruleStack:a,occurrenceStack:o}}(function(e){var t=D&&D.__extends||function(){var I=function(w,C){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,K){V.__proto__=K}||function(V,K){for(var z in K)Object.prototype.hasOwnProperty.call(K,z)&&(V[z]=K[z])},I(w,C)};return function(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");I(w,C);function V(){this.constructor=w}w.prototype=C===null?Object.create(C):(V.prototype=C.prototype,new V)}}(),r=D&&D.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(e,"__esModule",{value:!0}),e.areTokenCategoriesNotUsed=e.isStrictPrefixOfPath=e.containsPath=e.getLookaheadPathsForOptionalProd=e.getLookaheadPathsForOr=e.lookAheadSequenceFromAlternatives=e.buildSingleAlternativeLookaheadFunction=e.buildAlternativesLookAheadFunc=e.buildLookaheadFuncForOptionalProd=e.buildLookaheadFuncForOr=e.getLookaheadPaths=e.getProdType=e.PROD_TYPE=void 0;var n=r(He),a=r(ct),o=r(un),_=r(De),v=r($e),d=r(We),c=r(Pt),i=Se,f=jt,y=bt,O=be,E=be,s;(function(I){I[I.OPTION=0]="OPTION",I[I.REPETITION=1]="REPETITION",I[I.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",I[I.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",I[I.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",I[I.ALTERNATION=5]="ALTERNATION"})(s=e.PROD_TYPE||(e.PROD_TYPE={}));function T(I){if(I instanceof O.Option||I==="Option")return s.OPTION;if(I instanceof O.Repetition||I==="Repetition")return s.REPETITION;if(I instanceof O.RepetitionMandatory||I==="RepetitionMandatory")return s.REPETITION_MANDATORY;if(I instanceof O.RepetitionMandatoryWithSeparator||I==="RepetitionMandatoryWithSeparator")return s.REPETITION_MANDATORY_WITH_SEPARATOR;if(I instanceof O.RepetitionWithSeparator||I==="RepetitionWithSeparator")return s.REPETITION_WITH_SEPARATOR;if(I instanceof O.Alternation||I==="Alternation")return s.ALTERNATION;throw Error("non exhaustive match")}e.getProdType=T;function R(I){var w=I.occurrence,C=I.rule,V=I.prodType,K=I.maxLookahead,z=T(V);return z===s.ALTERNATION?b(w,C,K):j(w,C,z,K)}e.getLookaheadPaths=R;function S(I,w,C,V,K,z){var fe=b(I,w,C),ue=H(fe)?y.tokenStructuredMatcherNoCategories:y.tokenStructuredMatcher;return z(fe,V,ue,K)}e.buildLookaheadFuncForOr=S;function P(I,w,C,V,K,z){var fe=j(I,w,K,C),ue=H(fe)?y.tokenStructuredMatcherNoCategories:y.tokenStructuredMatcher;return z(fe[0],ue,V)}e.buildLookaheadFuncForOptionalProd=P;function A(I,w,C,V){var K=I.length,z=(0,o.default)(I,function(ae){return(0,o.default)(ae,function(ce){return ce.length===1})});if(w)return function(ae){for(var ce=(0,_.default)(ae,function(Q){return Q.GATE}),J=0;J<K;J++){var ve=I[J],_e=ve.length,ge=ce[J];if(!(ge!==void 0&&ge.call(this)===!1))e:for(var $=0;$<_e;$++){for(var U=ve[$],M=U.length,Y=0;Y<M;Y++){var Z=this.LA(Y+1);if(C(Z,U[Y])===!1)continue e}return J}}};if(z&&!V){var fe=(0,_.default)(I,function(ae){return(0,a.default)(ae)}),ue=(0,c.default)(fe,function(ae,ce,J){return(0,v.default)(ce,function(ve){(0,d.default)(ae,ve.tokenTypeIdx)||(ae[ve.tokenTypeIdx]=J),(0,v.default)(ve.categoryMatches,function(_e){(0,d.default)(ae,_e)||(ae[_e]=J)})}),ae},{});return function(){var ae=this.LA(1);return ue[ae.tokenTypeIdx]}}else return function(){for(var ae=0;ae<K;ae++){var ce=I[ae],J=ce.length;e:for(var ve=0;ve<J;ve++){for(var _e=ce[ve],ge=_e.length,$=0;$<ge;$++){var U=this.LA($+1);if(C(U,_e[$])===!1)continue e}return ae}}}}e.buildAlternativesLookAheadFunc=A;function g(I,w,C){var V=(0,o.default)(I,function(ce){return ce.length===1}),K=I.length;if(V&&!C){var z=(0,a.default)(I);if(z.length===1&&(0,n.default)(z[0].categoryMatches)){var fe=z[0],ue=fe.tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===ue}}else{var ae=(0,c.default)(z,function(ce,J,ve){return ce[J.tokenTypeIdx]=!0,(0,v.default)(J.categoryMatches,function(_e){ce[_e]=!0}),ce},[]);return function(){var ce=this.LA(1);return ae[ce.tokenTypeIdx]===!0}}}else return function(){e:for(var ce=0;ce<K;ce++){for(var J=I[ce],ve=J.length,_e=0;_e<ve;_e++){var ge=this.LA(_e+1);if(w(ge,J[_e])===!1)continue e}return!0}return!1}}e.buildSingleAlternativeLookaheadFunction=g;var h=function(I){t(w,I);function w(C,V,K){var z=I.call(this)||this;return z.topProd=C,z.targetOccurrence=V,z.targetProdType=K,z}return w.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},w.prototype.checkIsTarget=function(C,V,K,z){return C.idx===this.targetOccurrence&&this.targetProdType===V?(this.restDef=K.concat(z),!0):!1},w.prototype.walkOption=function(C,V,K){this.checkIsTarget(C,s.OPTION,V,K)||I.prototype.walkOption.call(this,C,V,K)},w.prototype.walkAtLeastOne=function(C,V,K){this.checkIsTarget(C,s.REPETITION_MANDATORY,V,K)||I.prototype.walkOption.call(this,C,V,K)},w.prototype.walkAtLeastOneSep=function(C,V,K){this.checkIsTarget(C,s.REPETITION_MANDATORY_WITH_SEPARATOR,V,K)||I.prototype.walkOption.call(this,C,V,K)},w.prototype.walkMany=function(C,V,K){this.checkIsTarget(C,s.REPETITION,V,K)||I.prototype.walkOption.call(this,C,V,K)},w.prototype.walkManySep=function(C,V,K){this.checkIsTarget(C,s.REPETITION_WITH_SEPARATOR,V,K)||I.prototype.walkOption.call(this,C,V,K)},w}(f.RestWalker),l=function(I){t(w,I);function w(C,V,K){var z=I.call(this)||this;return z.targetOccurrence=C,z.targetProdType=V,z.targetRef=K,z.result=[],z}return w.prototype.checkIsTarget=function(C,V){C.idx===this.targetOccurrence&&this.targetProdType===V&&(this.targetRef===void 0||C===this.targetRef)&&(this.result=C.definition)},w.prototype.visitOption=function(C){this.checkIsTarget(C,s.OPTION)},w.prototype.visitRepetition=function(C){this.checkIsTarget(C,s.REPETITION)},w.prototype.visitRepetitionMandatory=function(C){this.checkIsTarget(C,s.REPETITION_MANDATORY)},w.prototype.visitRepetitionMandatoryWithSeparator=function(C){this.checkIsTarget(C,s.REPETITION_MANDATORY_WITH_SEPARATOR)},w.prototype.visitRepetitionWithSeparator=function(C){this.checkIsTarget(C,s.REPETITION_WITH_SEPARATOR)},w.prototype.visitAlternation=function(C){this.checkIsTarget(C,s.ALTERNATION)},w}(E.GAstVisitor);function p(I){for(var w=new Array(I),C=0;C<I;C++)w[C]=[];return w}function u(I){for(var w=[""],C=0;C<I.length;C++){for(var V=I[C],K=[],z=0;z<w.length;z++){var fe=w[z];K.push(fe+"_"+V.tokenTypeIdx);for(var ue=0;ue<V.categoryMatches.length;ue++){var ae="_"+V.categoryMatches[ue];K.push(fe+ae)}}w=K}return w}function m(I,w,C){for(var V=0;V<I.length;V++)if(V!==C)for(var K=I[V],z=0;z<w.length;z++){var fe=w[z];if(K[fe]===!0)return!1}return!0}function N(I,w){for(var C=(0,_.default)(I,function(J){return(0,i.possiblePathsFrom)([J],1)}),V=p(C.length),K=(0,_.default)(C,function(J){var ve={};return(0,v.default)(J,function(_e){var ge=u(_e.partialPath);(0,v.default)(ge,function($){ve[$]=!0})}),ve}),z=C,fe=1;fe<=w;fe++){var ue=z;z=p(ue.length);for(var ae=function(J){for(var ve=ue[J],_e=0;_e<ve.length;_e++){var ge=ve[_e].partialPath,$=ve[_e].suffixDef,U=u(ge),M=m(K,U,J);if(M||(0,n.default)($)||ge.length===w){var Y=V[J];if(L(Y,ge)===!1){Y.push(ge);for(var Z=0;Z<U.length;Z++){var Q=U[Z];K[J][Q]=!0}}}else{var te=(0,i.possiblePathsFrom)($,fe+1,ge);z[J]=z[J].concat(te),(0,v.default)(te,function(ee){var re=u(ee.partialPath);(0,v.default)(re,function(he){K[J][he]=!0})})}}},ce=0;ce<ue.length;ce++)ae(ce)}return V}e.lookAheadSequenceFromAlternatives=N;function b(I,w,C,V){var K=new l(I,s.ALTERNATION,V);return w.accept(K),N(K.result,C)}e.getLookaheadPathsForOr=b;function j(I,w,C,V){var K=new l(I,C);w.accept(K);var z=K.result,fe=new h(w,I,C),ue=fe.startWalking(),ae=new O.Alternative({definition:z}),ce=new O.Alternative({definition:ue});return N([ae,ce],V)}e.getLookaheadPathsForOptionalProd=j;function L(I,w){e:for(var C=0;C<I.length;C++){var V=I[C];if(V.length===w.length){for(var K=0;K<V.length;K++){var z=w[K],fe=V[K],ue=z===fe||fe.categoryMatchesMap[z.tokenTypeIdx]!==void 0;if(ue===!1)continue e}return!0}}return!1}e.containsPath=L;function k(I,w){return I.length<w.length&&(0,o.default)(I,function(C,V){var K=w[V];return C===K||K.categoryMatchesMap[C.tokenTypeIdx]})}e.isStrictPrefixOfPath=k;function H(I){return(0,o.default)(I,function(w){return(0,o.default)(w,function(C){return(0,o.default)(C,function(V){return(0,n.default)(V.categoryMatches)})})})}e.areTokenCategoriesNotUsed=H})(Kt);var Ki;function hn(){if(Ki)return de;Ki=1;var e=D&&D.__extends||function(){var $=function(U,M){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,Z){Y.__proto__=Z}||function(Y,Z){for(var Q in Z)Object.prototype.hasOwnProperty.call(Z,Q)&&(Y[Q]=Z[Q])},$(U,M)};return function(U,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");$(U,M);function Y(){this.constructor=U}U.prototype=M===null?Object.create(M):(Y.prototype=M.prototype,new Y)}}(),t=D&&D.__assign||function(){return t=Object.assign||function($){for(var U,M=1,Y=arguments.length;M<Y;M++){U=arguments[M];for(var Z in U)Object.prototype.hasOwnProperty.call(U,Z)&&($[Z]=U[Z])}return $},t.apply(this,arguments)},r=D&&D.__importDefault||function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(de,"__esModule",{value:!0}),de.checkPrefixAlternativesAmbiguities=de.validateSomeNonEmptyLookaheadPath=de.validateTooManyAlts=de.RepetitionCollector=de.validateAmbiguousAlternationAlternatives=de.validateEmptyOrAlternative=de.getFirstNoneTerminal=de.validateNoLeftRecursion=de.validateRuleIsOverridden=de.validateRuleDoesNotAlreadyExist=de.OccurrenceValidationCollector=de.identifyProductionForDuplicates=de.validateGrammar=de.validateLookahead=void 0;var n=r(Or),a=r(He),o=r(ma),_=r(ct),v=r(Ca),d=r(Pa),c=r(ba),i=r(De),f=r($e),y=r(ms),O=r(Pt),E=r(Wo),s=r(st),T=r(_t),R=r(gs),S=r(vt),P=je(),A=be,g=Kt,h=Se,l=be,p=be,u=r(Ma),m=r(ln),N=bt;function b($){var U=$.lookaheadStrategy.validate({rules:$.rules,tokenTypes:$.tokenTypes,grammarName:$.grammarName});return(0,i.default)(U,function(M){return t({type:P.ParserDefinitionErrorType.CUSTOM_LOOKAHEAD_VALIDATION},M)})}de.validateLookahead=b;function j($,U,M,Y){var Z=(0,R.default)($,function(re){return L(re,M)}),Q=ge($,U,M),te=(0,R.default)($,function(re){return ce(re,M)}),ee=(0,R.default)($,function(re){return w(re,$,Y,M)});return Z.concat(Q,te,ee)}de.validateGrammar=j;function L($,U){var M=new I;$.accept(M);var Y=M.allProductions,Z=(0,y.default)(Y,k),Q=(0,E.default)(Z,function(ee){return ee.length>1}),te=(0,i.default)((0,s.default)(Q),function(ee){var re=(0,n.default)(ee),he=U.buildDuplicateFoundError($,ee),Te=(0,A.getProductionDslName)(re),Oe={message:he,type:P.ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS,ruleName:$.name,dslName:Te,occurrence:re.idx},Le=H(re);return Le&&(Oe.parameter=Le),Oe});return te}function k($){return"".concat((0,A.getProductionDslName)($),"_#_").concat($.idx,"_#_").concat(H($))}de.identifyProductionForDuplicates=k;function H($){return $ instanceof l.Terminal?$.terminalType.name:$ instanceof l.NonTerminal?$.nonTerminalName:""}var I=function($){e(U,$);function U(){var M=$!==null&&$.apply(this,arguments)||this;return M.allProductions=[],M}return U.prototype.visitNonTerminal=function(M){this.allProductions.push(M)},U.prototype.visitOption=function(M){this.allProductions.push(M)},U.prototype.visitRepetitionWithSeparator=function(M){this.allProductions.push(M)},U.prototype.visitRepetitionMandatory=function(M){this.allProductions.push(M)},U.prototype.visitRepetitionMandatoryWithSeparator=function(M){this.allProductions.push(M)},U.prototype.visitRepetition=function(M){this.allProductions.push(M)},U.prototype.visitAlternation=function(M){this.allProductions.push(M)},U.prototype.visitTerminal=function(M){this.allProductions.push(M)},U}(p.GAstVisitor);de.OccurrenceValidationCollector=I;function w($,U,M,Y){var Z=[],Q=(0,O.default)(U,function(ee,re){return re.name===$.name?ee+1:ee},0);if(Q>1){var te=Y.buildDuplicateRuleNameError({topLevelRule:$,grammarName:M});Z.push({message:te,type:P.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:$.name})}return Z}de.validateRuleDoesNotAlreadyExist=w;function C($,U,M){var Y=[],Z;return(0,T.default)(U,$)||(Z="Invalid rule override, rule: ->".concat($,"<- cannot be overridden in the grammar: ->").concat(M,"<-")+"as it is not defined in any of the super grammars ",Y.push({message:Z,type:P.ParserDefinitionErrorType.INVALID_RULE_OVERRIDE,ruleName:$})),Y}de.validateRuleIsOverridden=C;function V($,U,M,Y){Y===void 0&&(Y=[]);var Z=[],Q=K(U.definition);if((0,a.default)(Q))return[];var te=$.name,ee=(0,T.default)(Q,$);ee&&Z.push({message:M.buildLeftRecursionError({topLevelRule:$,leftRecursionPath:Y}),type:P.ParserDefinitionErrorType.LEFT_RECURSION,ruleName:te});var re=(0,c.default)(Q,Y.concat([$])),he=(0,R.default)(re,function(Te){var Oe=(0,S.default)(Y);return Oe.push(Te),V($,Te,M,Oe)});return Z.concat(he)}de.validateNoLeftRecursion=V;function K($){var U=[];if((0,a.default)($))return U;var M=(0,n.default)($);if(M instanceof l.NonTerminal)U.push(M.referencedRule);else if(M instanceof l.Alternative||M instanceof l.Option||M instanceof l.RepetitionMandatory||M instanceof l.RepetitionMandatoryWithSeparator||M instanceof l.RepetitionWithSeparator||M instanceof l.Repetition)U=U.concat(K(M.definition));else if(M instanceof l.Alternation)U=(0,_.default)((0,i.default)(M.definition,function(te){return K(te.definition)}));else if(!(M instanceof l.Terminal))throw Error("non exhaustive match");var Y=(0,A.isOptionalProd)(M),Z=$.length>1;if(Y&&Z){var Q=(0,o.default)($);return U.concat(K(Q))}else return U}de.getFirstNoneTerminal=K;var z=function($){e(U,$);function U(){var M=$!==null&&$.apply(this,arguments)||this;return M.alternations=[],M}return U.prototype.visitAlternation=function(M){this.alternations.push(M)},U}(p.GAstVisitor);function fe($,U){var M=new z;$.accept(M);var Y=M.alternations,Z=(0,R.default)(Y,function(Q){var te=(0,u.default)(Q.definition);return(0,R.default)(te,function(ee,re){var he=(0,h.nextPossibleTokensAfter)([ee],[],N.tokenStructuredMatcher,1);return(0,a.default)(he)?[{message:U.buildEmptyAlternationError({topLevelRule:$,alternation:Q,emptyChoiceIdx:re}),type:P.ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT,ruleName:$.name,occurrence:Q.idx,alternative:re+1}]:[]})});return Z}de.validateEmptyOrAlternative=fe;function ue($,U,M){var Y=new z;$.accept(Y);var Z=Y.alternations;Z=(0,d.default)(Z,function(te){return te.ignoreAmbiguities===!0});var Q=(0,R.default)(Z,function(te){var ee=te.idx,re=te.maxLookahead||U,he=(0,g.getLookaheadPathsForOr)(ee,$,re,te),Te=ve(he,te,$,M),Oe=_e(he,te,$,M);return Te.concat(Oe)});return Q}de.validateAmbiguousAlternationAlternatives=ue;var ae=function($){e(U,$);function U(){var M=$!==null&&$.apply(this,arguments)||this;return M.allProductions=[],M}return U.prototype.visitRepetitionWithSeparator=function(M){this.allProductions.push(M)},U.prototype.visitRepetitionMandatory=function(M){this.allProductions.push(M)},U.prototype.visitRepetitionMandatoryWithSeparator=function(M){this.allProductions.push(M)},U.prototype.visitRepetition=function(M){this.allProductions.push(M)},U}(p.GAstVisitor);de.RepetitionCollector=ae;function ce($,U){var M=new z;$.accept(M);var Y=M.alternations,Z=(0,R.default)(Y,function(Q){return Q.definition.length>255?[{message:U.buildTooManyAlternativesError({topLevelRule:$,alternation:Q}),type:P.ParserDefinitionErrorType.TOO_MANY_ALTS,ruleName:$.name,occurrence:Q.idx}]:[]});return Z}de.validateTooManyAlts=ce;function J($,U,M){var Y=[];return(0,f.default)($,function(Z){var Q=new ae;Z.accept(Q);var te=Q.allProductions;(0,f.default)(te,function(ee){var re=(0,g.getProdType)(ee),he=ee.maxLookahead||U,Te=ee.idx,Oe=(0,g.getLookaheadPathsForOptionalProd)(Te,Z,re,he),Le=Oe[0];if((0,a.default)((0,_.default)(Le))){var we=M.buildEmptyRepetitionError({topLevelRule:Z,repetition:ee});Y.push({message:we,type:P.ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD,ruleName:Z.name})}})}),Y}de.validateSomeNonEmptyLookaheadPath=J;function ve($,U,M,Y){var Z=[],Q=(0,O.default)($,function(ee,re,he){return U.definition[he].ignoreAmbiguities===!0||(0,f.default)(re,function(Te){var Oe=[he];(0,f.default)($,function(Le,we){he!==we&&(0,g.containsPath)(Le,Te)&&U.definition[we].ignoreAmbiguities!==!0&&Oe.push(we)}),Oe.length>1&&!(0,g.containsPath)(Z,Te)&&(Z.push(Te),ee.push({alts:Oe,path:Te}))}),ee},[]),te=(0,i.default)(Q,function(ee){var re=(0,i.default)(ee.alts,function(Te){return Te+1}),he=Y.buildAlternationAmbiguityError({topLevelRule:M,alternation:U,ambiguityIndices:re,prefixPath:ee.path});return{message:he,type:P.ParserDefinitionErrorType.AMBIGUOUS_ALTS,ruleName:M.name,occurrence:U.idx,alternatives:ee.alts}});return te}function _e($,U,M,Y){var Z=(0,O.default)($,function(te,ee,re){var he=(0,i.default)(ee,function(Te){return{idx:re,path:Te}});return te.concat(he)},[]),Q=(0,m.default)((0,R.default)(Z,function(te){var ee=U.definition[te.idx];if(ee.ignoreAmbiguities===!0)return[];var re=te.idx,he=te.path,Te=(0,v.default)(Z,function(Le){return U.definition[Le.idx].ignoreAmbiguities!==!0&&Le.idx<re&&(0,g.isStrictPrefixOfPath)(Le.path,he)}),Oe=(0,i.default)(Te,function(Le){var we=[Le.idx+1,re+1],lt=U.idx===0?"":U.idx,ft=Y.buildAlternationPrefixAmbiguityError({topLevelRule:M,alternation:U,ambiguityIndices:we,prefixPath:Le.path});return{message:ft,type:P.ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS,ruleName:M.name,occurrence:lt,alternatives:we}});return Oe}));return Q}de.checkPrefixAlternativesAmbiguities=_e;function ge($,U,M){var Y=[],Z=(0,i.default)(U,function(Q){return Q.name});return(0,f.default)($,function(Q){var te=Q.name;if((0,T.default)(Z,te)){var ee=M.buildNamespaceConflictError(Q);Y.push({message:ee,type:P.ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:te})}}),Y}return de}var Hi;function VI(){if(Hi)return gt;Hi=1;var e=D&&D.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(gt,"__esModule",{value:!0}),gt.validateGrammar=gt.resolveGrammar=void 0;var t=e($e),r=e(_s),n=fI(),a=hn(),o=Vt;function _(d){var c=(0,r.default)(d,{errMsgProvider:o.defaultGrammarResolverErrorProvider}),i={};return(0,t.default)(d.rules,function(f){i[f.name]=f}),(0,n.resolveGrammar)(i,c.errMsgProvider)}gt.resolveGrammar=_;function v(d){return d=(0,r.default)(d,{errMsgProvider:o.defaultGrammarValidatorErrorProvider}),(0,a.validateGrammar)(d.rules,d.tokenTypes,d.errMsgProvider,d.grammarName)}return gt.validateGrammar=v,gt}var xn={},Me={},Nr=D&&D.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),KI=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Me,"__esModule",{value:!0});Me.EarlyExitException=Me.NotAllInputParsedException=Me.NoViableAltException=Me.MismatchedTokenException=Me.isRecognitionException=void 0;var HI=KI(_t),Os="MismatchedTokenException",Rs="NoViableAltException",Is="EarlyExitException",Ns="NotAllInputParsedException",Ss=[Os,Rs,Is,Ns];Object.freeze(Ss);function zI(e){return(0,HI.default)(Ss,e.name)}Me.isRecognitionException=zI;var pn=function(e){Nr(t,e);function t(r,n){var a=this.constructor,o=e.call(this,r)||this;return o.token=n,o.resyncedTokens=[],Object.setPrototypeOf(o,a.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,o.constructor),o}return t}(Error),qI=function(e){Nr(t,e);function t(r,n,a){var o=e.call(this,r,n)||this;return o.previousToken=a,o.name=Os,o}return t}(pn);Me.MismatchedTokenException=qI;var YI=function(e){Nr(t,e);function t(r,n,a){var o=e.call(this,r,n)||this;return o.previousToken=a,o.name=Rs,o}return t}(pn);Me.NoViableAltException=YI;var XI=function(e){Nr(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.name=Ns,a}return t}(pn);Me.NotAllInputParsedException=XI;var ZI=function(e){Nr(t,e);function t(r,n,a){var o=e.call(this,r,n)||this;return o.previousToken=a,o.name=Is,o}return t}(pn);Me.EarlyExitException=ZI;var zi;function Ps(){return zi||(zi=1,function(e){var t=D&&D.__extends||function(){var S=function(P,A){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,h){g.__proto__=h}||function(g,h){for(var l in h)Object.prototype.hasOwnProperty.call(h,l)&&(g[l]=h[l])},S(P,A)};return function(P,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");S(P,A);function g(){this.constructor=P}P.prototype=A===null?Object.create(A):(g.prototype=A.prototype,new g)}}(),r=D&&D.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(e,"__esModule",{value:!0}),e.attemptInRepetitionRecovery=e.Recoverable=e.InRuleRecoveryException=e.IN_RULE_RECOVERY_EXCEPTION=e.EOF_FOLLOW_KEY=void 0;var n=St,a=r(He),o=r(Ma),_=r(ct),v=r(De),d=r(La),c=r(We),i=r(_t),f=r(vt),y=Me,O=Ar,E=je();e.EOF_FOLLOW_KEY={},e.IN_RULE_RECOVERY_EXCEPTION="InRuleRecoveryException";var s=function(S){t(P,S);function P(A){var g=S.call(this,A)||this;return g.name=e.IN_RULE_RECOVERY_EXCEPTION,g}return P}(Error);e.InRuleRecoveryException=s;var T=function(){function S(){}return S.prototype.initRecoverable=function(P){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,c.default)(P,"recoveryEnabled")?P.recoveryEnabled:E.DEFAULT_PARSER_CONFIG.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=R)},S.prototype.getTokenToInsert=function(P){var A=(0,n.createTokenInstance)(P,"",NaN,NaN,NaN,NaN,NaN,NaN);return A.isInsertedInRecovery=!0,A},S.prototype.canTokenTypeBeInsertedInRecovery=function(P){return!0},S.prototype.canTokenTypeBeDeletedInRecovery=function(P){return!0},S.prototype.tryInRepetitionRecovery=function(P,A,g,h){for(var l=this,p=this.findReSyncTokenType(),u=this.exportLexerState(),m=[],N=!1,b=this.LA(1),j=this.LA(1),L=function(){var k=l.LA(0),H=l.errorMessageProvider.buildMismatchTokenMessage({expected:h,actual:b,previous:k,ruleName:l.getCurrRuleFullName()}),I=new y.MismatchedTokenException(H,b,l.LA(0));I.resyncedTokens=(0,o.default)(m),l.SAVE_ERROR(I)};!N;)if(this.tokenMatcher(j,h)){L();return}else if(g.call(this)){L(),P.apply(this,A);return}else this.tokenMatcher(j,p)?N=!0:(j=this.SKIP_TOKEN(),this.addToResyncTokens(j,m));this.importLexerState(u)},S.prototype.shouldInRepetitionRecoveryBeTried=function(P,A,g){return!(g===!1||this.tokenMatcher(this.LA(1),P)||this.isBackTracking()||this.canPerformInRuleRecovery(P,this.getFollowsForInRuleRecovery(P,A)))},S.prototype.getFollowsForInRuleRecovery=function(P,A){var g=this.getCurrentGrammarPath(P,A),h=this.getNextPossibleTokenTypes(g);return h},S.prototype.tryInRuleRecovery=function(P,A){if(this.canRecoverWithSingleTokenInsertion(P,A)){var g=this.getTokenToInsert(P);return g}if(this.canRecoverWithSingleTokenDeletion(P)){var h=this.SKIP_TOKEN();return this.consumeToken(),h}throw new s("sad sad panda")},S.prototype.canPerformInRuleRecovery=function(P,A){return this.canRecoverWithSingleTokenInsertion(P,A)||this.canRecoverWithSingleTokenDeletion(P)},S.prototype.canRecoverWithSingleTokenInsertion=function(P,A){var g=this;if(!this.canTokenTypeBeInsertedInRecovery(P)||(0,a.default)(A))return!1;var h=this.LA(1),l=(0,d.default)(A,function(p){return g.tokenMatcher(h,p)})!==void 0;return l},S.prototype.canRecoverWithSingleTokenDeletion=function(P){if(!this.canTokenTypeBeDeletedInRecovery(P))return!1;var A=this.tokenMatcher(this.LA(2),P);return A},S.prototype.isInCurrentRuleReSyncSet=function(P){var A=this.getCurrFollowKey(),g=this.getFollowSetFromFollowKey(A);return(0,i.default)(g,P)},S.prototype.findReSyncTokenType=function(){for(var P=this.flattenFollowSet(),A=this.LA(1),g=2;;){var h=(0,d.default)(P,function(l){var p=(0,n.tokenMatcher)(A,l);return p});if(h!==void 0)return h;A=this.LA(g),g++}},S.prototype.getCurrFollowKey=function(){if(this.RULE_STACK.length===1)return e.EOF_FOLLOW_KEY;var P=this.getLastExplicitRuleShortName(),A=this.getLastExplicitRuleOccurrenceIndex(),g=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(P),idxInCallingRule:A,inRule:this.shortRuleNameToFullName(g)}},S.prototype.buildFullFollowKeyStack=function(){var P=this,A=this.RULE_STACK,g=this.RULE_OCCURRENCE_STACK;return(0,v.default)(A,function(h,l){return l===0?e.EOF_FOLLOW_KEY:{ruleName:P.shortRuleNameToFullName(h),idxInCallingRule:g[l],inRule:P.shortRuleNameToFullName(A[l-1])}})},S.prototype.flattenFollowSet=function(){var P=this,A=(0,v.default)(this.buildFullFollowKeyStack(),function(g){return P.getFollowSetFromFollowKey(g)});return(0,_.default)(A)},S.prototype.getFollowSetFromFollowKey=function(P){if(P===e.EOF_FOLLOW_KEY)return[n.EOF];var A=P.ruleName+P.idxInCallingRule+O.IN+P.inRule;return this.resyncFollows[A]},S.prototype.addToResyncTokens=function(P,A){return this.tokenMatcher(P,n.EOF)||A.push(P),A},S.prototype.reSyncTo=function(P){for(var A=[],g=this.LA(1);this.tokenMatcher(g,P)===!1;)g=this.SKIP_TOKEN(),this.addToResyncTokens(g,A);return(0,o.default)(A)},S.prototype.attemptInRepetitionRecovery=function(P,A,g,h,l,p,u){},S.prototype.getCurrentGrammarPath=function(P,A){var g=this.getHumanReadableRuleStack(),h=(0,f.default)(this.RULE_OCCURRENCE_STACK),l={ruleStack:g,occurrenceStack:h,lastTok:P,lastTokOccurrence:A};return l},S.prototype.getHumanReadableRuleStack=function(){var P=this;return(0,v.default)(this.RULE_STACK,function(A){return P.shortRuleNameToFullName(A)})},S}();e.Recoverable=T;function R(S,P,A,g,h,l,p){var u=this.getKeyForAutomaticLookahead(g,h),m=this.firstAfterRepMap[u];if(m===void 0){var N=this.getCurrRuleFullName(),b=this.getGAstProductions()[N],j=new l(b,h);m=j.startWalking(),this.firstAfterRepMap[u]=m}var L=m.token,k=m.occurrence,H=m.isEndOfRule;this.RULE_STACK.length===1&&H&&L===void 0&&(L=n.EOF,k=1),!(L===void 0||k===void 0)&&this.shouldInRepetitionRecoveryBeTried(L,k,p)&&this.tryInRepetitionRecovery(S,P,A,L)}e.attemptInRepetitionRecovery=R}(xn)),xn}var Tt={},vn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getKeyForAutomaticLookahead=e.AT_LEAST_ONE_SEP_IDX=e.MANY_SEP_IDX=e.AT_LEAST_ONE_IDX=e.MANY_IDX=e.OPTION_IDX=e.OR_IDX=e.BITS_FOR_ALT_IDX=e.BITS_FOR_RULE_IDX=e.BITS_FOR_OCCURRENCE_IDX=e.BITS_FOR_METHOD_TYPE=void 0,e.BITS_FOR_METHOD_TYPE=4,e.BITS_FOR_OCCURRENCE_IDX=8,e.BITS_FOR_RULE_IDX=12,e.BITS_FOR_ALT_IDX=8,e.OR_IDX=1<<e.BITS_FOR_OCCURRENCE_IDX,e.OPTION_IDX=2<<e.BITS_FOR_OCCURRENCE_IDX,e.MANY_IDX=3<<e.BITS_FOR_OCCURRENCE_IDX,e.AT_LEAST_ONE_IDX=4<<e.BITS_FOR_OCCURRENCE_IDX,e.MANY_SEP_IDX=5<<e.BITS_FOR_OCCURRENCE_IDX,e.AT_LEAST_ONE_SEP_IDX=6<<e.BITS_FOR_OCCURRENCE_IDX;function t(r,n,a){return a|n|r}e.getKeyForAutomaticLookahead=t,32-e.BITS_FOR_ALT_IDX})(vn);var tr={},qi;function bs(){if(qi)return tr;qi=1;var e=D&&D.__spreadArray||function(c,i,f){if(f||arguments.length===2)for(var y=0,O=i.length,E;y<O;y++)(E||!(y in i))&&(E||(E=Array.prototype.slice.call(i,0,y)),E[y]=i[y]);return c.concat(E||Array.prototype.slice.call(i))},t=D&&D.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(tr,"__esModule",{value:!0}),tr.LLkLookaheadStrategy=void 0;var r=t(gs),n=t(He),a=Vt,o=je(),_=hn(),v=Kt,d=function(){function c(i){var f;this.maxLookahead=(f=i==null?void 0:i.maxLookahead)!==null&&f!==void 0?f:o.DEFAULT_PARSER_CONFIG.maxLookahead}return c.prototype.validate=function(i){var f=this.validateNoLeftRecursion(i.rules);if((0,n.default)(f)){var y=this.validateEmptyOrAlternatives(i.rules),O=this.validateAmbiguousAlternationAlternatives(i.rules,this.maxLookahead),E=this.validateSomeNonEmptyLookaheadPath(i.rules,this.maxLookahead),s=e(e(e(e([],f,!0),y,!0),O,!0),E,!0);return s}return f},c.prototype.validateNoLeftRecursion=function(i){return(0,r.default)(i,function(f){return(0,_.validateNoLeftRecursion)(f,f,a.defaultGrammarValidatorErrorProvider)})},c.prototype.validateEmptyOrAlternatives=function(i){return(0,r.default)(i,function(f){return(0,_.validateEmptyOrAlternative)(f,a.defaultGrammarValidatorErrorProvider)})},c.prototype.validateAmbiguousAlternationAlternatives=function(i,f){return(0,r.default)(i,function(y){return(0,_.validateAmbiguousAlternationAlternatives)(y,f,a.defaultGrammarValidatorErrorProvider)})},c.prototype.validateSomeNonEmptyLookaheadPath=function(i,f){return(0,_.validateSomeNonEmptyLookaheadPath)(i,f,a.defaultGrammarValidatorErrorProvider)},c.prototype.buildLookaheadForAlternation=function(i){return(0,v.buildLookaheadFuncForOr)(i.prodOccurrence,i.rule,i.maxLookahead,i.hasPredicates,i.dynamicTokensEnabled,v.buildAlternativesLookAheadFunc)},c.prototype.buildLookaheadForOptional=function(i){return(0,v.buildLookaheadFuncForOptionalProd)(i.prodOccurrence,i.rule,i.maxLookahead,i.dynamicTokensEnabled,(0,v.getProdType)(i.prodType),v.buildSingleAlternativeLookaheadFunction)},c}();return tr.LLkLookaheadStrategy=d,tr}var Yi;function JI(){if(Yi)return Tt;Yi=1;var e=D&&D.__extends||function(){var O=function(E,s){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,R){T.__proto__=R}||function(T,R){for(var S in R)Object.prototype.hasOwnProperty.call(R,S)&&(T[S]=R[S])},O(E,s)};return function(E,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");O(E,s);function T(){this.constructor=E}E.prototype=s===null?Object.create(s):(T.prototype=s.prototype,new T)}}(),t=D&&D.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.collectMethods=Tt.LooksAhead=void 0;var r=t($e),n=t(We),a=je(),o=vn,_=be,v=be,d=bs(),c=function(){function O(){}return O.prototype.initLooksAhead=function(E){this.dynamicTokensEnabled=(0,n.default)(E,"dynamicTokensEnabled")?E.dynamicTokensEnabled:a.DEFAULT_PARSER_CONFIG.dynamicTokensEnabled,this.maxLookahead=(0,n.default)(E,"maxLookahead")?E.maxLookahead:a.DEFAULT_PARSER_CONFIG.maxLookahead,this.lookaheadStrategy=(0,n.default)(E,"lookaheadStrategy")?E.lookaheadStrategy:new d.LLkLookaheadStrategy({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map},O.prototype.preComputeLookaheadFunctions=function(E){var s=this;(0,r.default)(E,function(T){s.TRACE_INIT("".concat(T.name," Rule Lookahead"),function(){var R=y(T),S=R.alternation,P=R.repetition,A=R.option,g=R.repetitionMandatory,h=R.repetitionMandatoryWithSeparator,l=R.repetitionWithSeparator;(0,r.default)(S,function(p){var u=p.idx===0?"":p.idx;s.TRACE_INIT("".concat((0,v.getProductionDslName)(p)).concat(u),function(){var m=s.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:p.idx,rule:T,maxLookahead:p.maxLookahead||s.maxLookahead,hasPredicates:p.hasPredicates,dynamicTokensEnabled:s.dynamicTokensEnabled}),N=(0,o.getKeyForAutomaticLookahead)(s.fullRuleNameToShort[T.name],o.OR_IDX,p.idx);s.setLaFuncCache(N,m)})}),(0,r.default)(P,function(p){s.computeLookaheadFunc(T,p.idx,o.MANY_IDX,"Repetition",p.maxLookahead,(0,v.getProductionDslName)(p))}),(0,r.default)(A,function(p){s.computeLookaheadFunc(T,p.idx,o.OPTION_IDX,"Option",p.maxLookahead,(0,v.getProductionDslName)(p))}),(0,r.default)(g,function(p){s.computeLookaheadFunc(T,p.idx,o.AT_LEAST_ONE_IDX,"RepetitionMandatory",p.maxLookahead,(0,v.getProductionDslName)(p))}),(0,r.default)(h,function(p){s.computeLookaheadFunc(T,p.idx,o.AT_LEAST_ONE_SEP_IDX,"RepetitionMandatoryWithSeparator",p.maxLookahead,(0,v.getProductionDslName)(p))}),(0,r.default)(l,function(p){s.computeLookaheadFunc(T,p.idx,o.MANY_SEP_IDX,"RepetitionWithSeparator",p.maxLookahead,(0,v.getProductionDslName)(p))})})})},O.prototype.computeLookaheadFunc=function(E,s,T,R,S,P){var A=this;this.TRACE_INIT("".concat(P).concat(s===0?"":s),function(){var g=A.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:s,rule:E,maxLookahead:S||A.maxLookahead,dynamicTokensEnabled:A.dynamicTokensEnabled,prodType:R}),h=(0,o.getKeyForAutomaticLookahead)(A.fullRuleNameToShort[E.name],T,s);A.setLaFuncCache(h,g)})},O.prototype.getKeyForAutomaticLookahead=function(E,s){var T=this.getLastExplicitRuleShortName();return(0,o.getKeyForAutomaticLookahead)(T,E,s)},O.prototype.getLaFuncFromCache=function(E){return this.lookAheadFuncsCache.get(E)},O.prototype.setLaFuncCache=function(E,s){this.lookAheadFuncsCache.set(E,s)},O}();Tt.LooksAhead=c;var i=function(O){e(E,O);function E(){var s=O!==null&&O.apply(this,arguments)||this;return s.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},s}return E.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},E.prototype.visitOption=function(s){this.dslMethods.option.push(s)},E.prototype.visitRepetitionWithSeparator=function(s){this.dslMethods.repetitionWithSeparator.push(s)},E.prototype.visitRepetitionMandatory=function(s){this.dslMethods.repetitionMandatory.push(s)},E.prototype.visitRepetitionMandatoryWithSeparator=function(s){this.dslMethods.repetitionMandatoryWithSeparator.push(s)},E.prototype.visitRepetition=function(s){this.dslMethods.repetition.push(s)},E.prototype.visitAlternation=function(s){this.dslMethods.alternation.push(s)},E}(_.GAstVisitor),f=new i;function y(O){f.reset(),O.accept(f);var E=f.dslMethods;return f.reset(),E}return Tt.collectMethods=y,Tt}var rr={},Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.addNoneTerminalToCst=Xe.addTerminalToCst=Xe.setNodeLocationFull=Xe.setNodeLocationOnlyOffset=void 0;function QI(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}Xe.setNodeLocationOnlyOffset=QI;function eN(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}Xe.setNodeLocationFull=eN;function tN(e,t,r){e.children[r]===void 0?e.children[r]=[t]:e.children[r].push(t)}Xe.addTerminalToCst=tN;function rN(e,t,r){e.children[t]===void 0?e.children[t]=[r]:e.children[t].push(r)}Xe.addNoneTerminalToCst=rN;var Ls={},_n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.defineNameProp=void 0;var nN="name";function aN(e,t){Object.defineProperty(e,nN,{enumerable:!1,configurable:!0,writable:!1,value:t})}_n.defineNameProp=aN;(function(e){var t=D&&D.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(e,"__esModule",{value:!0}),e.validateMissingCstMethods=e.validateVisitor=e.CstVisitorDefinitionError=e.createBaseVisitorConstructorWithDefaults=e.createBaseSemanticVisitorConstructor=e.defaultVisit=void 0;var r=t(He),n=t(ln),a=t(ye),o=t(De),_=t($e),v=t(Ca),d=t(Be),c=t(hr),i=t(Wt),f=_n;function y(S,P){for(var A=(0,d.default)(S),g=A.length,h=0;h<g;h++)for(var l=A[h],p=S[l],u=p.length,m=0;m<u;m++){var N=p[m];N.tokenTypeIdx===void 0&&this[N.name](N.children,P)}}e.defaultVisit=y;function O(S,P){var A=function(){};(0,f.defineNameProp)(A,S+"BaseSemantics");var g={visit:function(h,l){if((0,a.default)(h)&&(h=h[0]),!(0,i.default)(h))return this[h.name](h.children,l)},validateVisitor:function(){var h=T(this,P);if(!(0,r.default)(h)){var l=(0,o.default)(h,function(p){return p.msg});throw Error("Errors Detected in CST Visitor <".concat(this.constructor.name,`>:
	`)+"".concat(l.join(`

`).replace(/\n/g,`
	`)))}}};return A.prototype=g,A.prototype.constructor=A,A._RULE_NAMES=P,A}e.createBaseSemanticVisitorConstructor=O;function E(S,P,A){var g=function(){};(0,f.defineNameProp)(g,S+"BaseSemanticsWithDefaults");var h=Object.create(A.prototype);return(0,_.default)(P,function(l){h[l]=y}),g.prototype=h,g.prototype.constructor=g,g}e.createBaseVisitorConstructorWithDefaults=E;var s;(function(S){S[S.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",S[S.MISSING_METHOD=1]="MISSING_METHOD"})(s=e.CstVisitorDefinitionError||(e.CstVisitorDefinitionError={}));function T(S,P){var A=R(S,P);return A}e.validateVisitor=T;function R(S,P){var A=(0,v.default)(P,function(h){return(0,c.default)(S[h])===!1}),g=(0,o.default)(A,function(h){return{msg:"Missing visitor method: <".concat(h,"> on ").concat(S.constructor.name," CST Visitor."),type:s.MISSING_METHOD,methodName:h}});return(0,n.default)(g)}e.validateMissingCstMethods=R})(Ls);var Xi;function iN(){if(Xi)return rr;Xi=1;var e=D&&D.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(rr,"__esModule",{value:!0}),rr.TreeBuilder=void 0;var t=Xe,r=e(Ra),n=e(We),a=e(Be),o=e(Wt),_=Ls,v=je(),d=function(){function c(){}return c.prototype.initTreeBuilder=function(i){if(this.CST_STACK=[],this.outputCst=i.outputCst,this.nodeLocationTracking=(0,n.default)(i,"nodeLocationTracking")?i.nodeLocationTracking:v.DEFAULT_PARSER_CONFIG.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=r.default,this.cstFinallyStateUpdate=r.default,this.cstPostTerminal=r.default,this.cstPostNonTerminal=r.default,this.cstPostRule=r.default;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=t.setNodeLocationFull,this.setNodeLocationFromNode=t.setNodeLocationFull,this.cstPostRule=r.default,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=r.default,this.setNodeLocationFromNode=r.default,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=t.setNodeLocationOnlyOffset,this.setNodeLocationFromNode=t.setNodeLocationOnlyOffset,this.cstPostRule=r.default,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=r.default,this.setNodeLocationFromNode=r.default,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=r.default,this.setNodeLocationFromNode=r.default,this.cstPostRule=r.default,this.setInitialNodeLocation=r.default;else throw Error('Invalid <nodeLocationTracking> config option: "'.concat(i.nodeLocationTracking,'"'))},c.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(i){i.location={startOffset:NaN,endOffset:NaN}},c.prototype.setInitialNodeLocationOnlyOffsetRegular=function(i){i.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},c.prototype.setInitialNodeLocationFullRecovery=function(i){i.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},c.prototype.setInitialNodeLocationFullRegular=function(i){var f=this.LA(1);i.location={startOffset:f.startOffset,startLine:f.startLine,startColumn:f.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},c.prototype.cstInvocationStateUpdate=function(i){var f={name:i,children:Object.create(null)};this.setInitialNodeLocation(f),this.CST_STACK.push(f)},c.prototype.cstFinallyStateUpdate=function(){this.CST_STACK.pop()},c.prototype.cstPostRuleFull=function(i){var f=this.LA(0),y=i.location;y.startOffset<=f.startOffset?(y.endOffset=f.endOffset,y.endLine=f.endLine,y.endColumn=f.endColumn):(y.startOffset=NaN,y.startLine=NaN,y.startColumn=NaN)},c.prototype.cstPostRuleOnlyOffset=function(i){var f=this.LA(0),y=i.location;y.startOffset<=f.startOffset?y.endOffset=f.endOffset:y.startOffset=NaN},c.prototype.cstPostTerminal=function(i,f){var y=this.CST_STACK[this.CST_STACK.length-1];(0,t.addTerminalToCst)(y,f,i),this.setNodeLocationFromToken(y.location,f)},c.prototype.cstPostNonTerminal=function(i,f){var y=this.CST_STACK[this.CST_STACK.length-1];(0,t.addNoneTerminalToCst)(y,f,i),this.setNodeLocationFromNode(y.location,i.location)},c.prototype.getBaseCstVisitorConstructor=function(){if((0,o.default)(this.baseCstVisitorConstructor)){var i=(0,_.createBaseSemanticVisitorConstructor)(this.className,(0,a.default)(this.gastProductionsCache));return this.baseCstVisitorConstructor=i,i}return this.baseCstVisitorConstructor},c.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if((0,o.default)(this.baseCstVisitorWithDefaultsConstructor)){var i=(0,_.createBaseVisitorConstructorWithDefaults)(this.className,(0,a.default)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=i,i}return this.baseCstVisitorWithDefaultsConstructor},c.prototype.getLastExplicitRuleShortName=function(){var i=this.RULE_STACK;return i[i.length-1]},c.prototype.getPreviousExplicitRuleShortName=function(){var i=this.RULE_STACK;return i[i.length-2]},c.prototype.getLastExplicitRuleOccurrenceIndex=function(){var i=this.RULE_OCCURRENCE_STACK;return i[i.length-1]},c}();return rr.TreeBuilder=d,rr}var nr={},Zi;function oN(){if(Zi)return nr;Zi=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.LexerAdapter=void 0;var e=je(),t=function(){function r(){}return r.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(r.prototype,"input",{get:function(){return this.tokVector},set:function(n){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=n,this.tokVectorLength=n.length},enumerable:!1,configurable:!0}),r.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):e.END_OF_FILE},r.prototype.LA=function(n){var a=this.currIdx+n;return a<0||this.tokVectorLength<=a?e.END_OF_FILE:this.tokVector[a]},r.prototype.consumeToken=function(){this.currIdx++},r.prototype.exportLexerState=function(){return this.currIdx},r.prototype.importLexerState=function(n){this.currIdx=n},r.prototype.resetLexerState=function(){this.currIdx=-1},r.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},r.prototype.getLexerPosition=function(){return this.exportLexerState()},r}();return nr.LexerAdapter=t,nr}var ar={},Ji;function sN(){if(Ji)return ar;Ji=1;var e=D&&D.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(ar,"__esModule",{value:!0}),ar.RecognizerApi=void 0;var t=e(st),r=e(_t),n=Me,a=je(),o=Vt,_=hn(),v=be,d=function(){function c(){}return c.prototype.ACTION=function(i){return i.call(this)},c.prototype.consume=function(i,f,y){return this.consumeInternal(f,i,y)},c.prototype.subrule=function(i,f,y){return this.subruleInternal(f,i,y)},c.prototype.option=function(i,f){return this.optionInternal(f,i)},c.prototype.or=function(i,f){return this.orInternal(f,i)},c.prototype.many=function(i,f){return this.manyInternal(i,f)},c.prototype.atLeastOne=function(i,f){return this.atLeastOneInternal(i,f)},c.prototype.CONSUME=function(i,f){return this.consumeInternal(i,0,f)},c.prototype.CONSUME1=function(i,f){return this.consumeInternal(i,1,f)},c.prototype.CONSUME2=function(i,f){return this.consumeInternal(i,2,f)},c.prototype.CONSUME3=function(i,f){return this.consumeInternal(i,3,f)},c.prototype.CONSUME4=function(i,f){return this.consumeInternal(i,4,f)},c.prototype.CONSUME5=function(i,f){return this.consumeInternal(i,5,f)},c.prototype.CONSUME6=function(i,f){return this.consumeInternal(i,6,f)},c.prototype.CONSUME7=function(i,f){return this.consumeInternal(i,7,f)},c.prototype.CONSUME8=function(i,f){return this.consumeInternal(i,8,f)},c.prototype.CONSUME9=function(i,f){return this.consumeInternal(i,9,f)},c.prototype.SUBRULE=function(i,f){return this.subruleInternal(i,0,f)},c.prototype.SUBRULE1=function(i,f){return this.subruleInternal(i,1,f)},c.prototype.SUBRULE2=function(i,f){return this.subruleInternal(i,2,f)},c.prototype.SUBRULE3=function(i,f){return this.subruleInternal(i,3,f)},c.prototype.SUBRULE4=function(i,f){return this.subruleInternal(i,4,f)},c.prototype.SUBRULE5=function(i,f){return this.subruleInternal(i,5,f)},c.prototype.SUBRULE6=function(i,f){return this.subruleInternal(i,6,f)},c.prototype.SUBRULE7=function(i,f){return this.subruleInternal(i,7,f)},c.prototype.SUBRULE8=function(i,f){return this.subruleInternal(i,8,f)},c.prototype.SUBRULE9=function(i,f){return this.subruleInternal(i,9,f)},c.prototype.OPTION=function(i){return this.optionInternal(i,0)},c.prototype.OPTION1=function(i){return this.optionInternal(i,1)},c.prototype.OPTION2=function(i){return this.optionInternal(i,2)},c.prototype.OPTION3=function(i){return this.optionInternal(i,3)},c.prototype.OPTION4=function(i){return this.optionInternal(i,4)},c.prototype.OPTION5=function(i){return this.optionInternal(i,5)},c.prototype.OPTION6=function(i){return this.optionInternal(i,6)},c.prototype.OPTION7=function(i){return this.optionInternal(i,7)},c.prototype.OPTION8=function(i){return this.optionInternal(i,8)},c.prototype.OPTION9=function(i){return this.optionInternal(i,9)},c.prototype.OR=function(i){return this.orInternal(i,0)},c.prototype.OR1=function(i){return this.orInternal(i,1)},c.prototype.OR2=function(i){return this.orInternal(i,2)},c.prototype.OR3=function(i){return this.orInternal(i,3)},c.prototype.OR4=function(i){return this.orInternal(i,4)},c.prototype.OR5=function(i){return this.orInternal(i,5)},c.prototype.OR6=function(i){return this.orInternal(i,6)},c.prototype.OR7=function(i){return this.orInternal(i,7)},c.prototype.OR8=function(i){return this.orInternal(i,8)},c.prototype.OR9=function(i){return this.orInternal(i,9)},c.prototype.MANY=function(i){this.manyInternal(0,i)},c.prototype.MANY1=function(i){this.manyInternal(1,i)},c.prototype.MANY2=function(i){this.manyInternal(2,i)},c.prototype.MANY3=function(i){this.manyInternal(3,i)},c.prototype.MANY4=function(i){this.manyInternal(4,i)},c.prototype.MANY5=function(i){this.manyInternal(5,i)},c.prototype.MANY6=function(i){this.manyInternal(6,i)},c.prototype.MANY7=function(i){this.manyInternal(7,i)},c.prototype.MANY8=function(i){this.manyInternal(8,i)},c.prototype.MANY9=function(i){this.manyInternal(9,i)},c.prototype.MANY_SEP=function(i){this.manySepFirstInternal(0,i)},c.prototype.MANY_SEP1=function(i){this.manySepFirstInternal(1,i)},c.prototype.MANY_SEP2=function(i){this.manySepFirstInternal(2,i)},c.prototype.MANY_SEP3=function(i){this.manySepFirstInternal(3,i)},c.prototype.MANY_SEP4=function(i){this.manySepFirstInternal(4,i)},c.prototype.MANY_SEP5=function(i){this.manySepFirstInternal(5,i)},c.prototype.MANY_SEP6=function(i){this.manySepFirstInternal(6,i)},c.prototype.MANY_SEP7=function(i){this.manySepFirstInternal(7,i)},c.prototype.MANY_SEP8=function(i){this.manySepFirstInternal(8,i)},c.prototype.MANY_SEP9=function(i){this.manySepFirstInternal(9,i)},c.prototype.AT_LEAST_ONE=function(i){this.atLeastOneInternal(0,i)},c.prototype.AT_LEAST_ONE1=function(i){return this.atLeastOneInternal(1,i)},c.prototype.AT_LEAST_ONE2=function(i){this.atLeastOneInternal(2,i)},c.prototype.AT_LEAST_ONE3=function(i){this.atLeastOneInternal(3,i)},c.prototype.AT_LEAST_ONE4=function(i){this.atLeastOneInternal(4,i)},c.prototype.AT_LEAST_ONE5=function(i){this.atLeastOneInternal(5,i)},c.prototype.AT_LEAST_ONE6=function(i){this.atLeastOneInternal(6,i)},c.prototype.AT_LEAST_ONE7=function(i){this.atLeastOneInternal(7,i)},c.prototype.AT_LEAST_ONE8=function(i){this.atLeastOneInternal(8,i)},c.prototype.AT_LEAST_ONE9=function(i){this.atLeastOneInternal(9,i)},c.prototype.AT_LEAST_ONE_SEP=function(i){this.atLeastOneSepFirstInternal(0,i)},c.prototype.AT_LEAST_ONE_SEP1=function(i){this.atLeastOneSepFirstInternal(1,i)},c.prototype.AT_LEAST_ONE_SEP2=function(i){this.atLeastOneSepFirstInternal(2,i)},c.prototype.AT_LEAST_ONE_SEP3=function(i){this.atLeastOneSepFirstInternal(3,i)},c.prototype.AT_LEAST_ONE_SEP4=function(i){this.atLeastOneSepFirstInternal(4,i)},c.prototype.AT_LEAST_ONE_SEP5=function(i){this.atLeastOneSepFirstInternal(5,i)},c.prototype.AT_LEAST_ONE_SEP6=function(i){this.atLeastOneSepFirstInternal(6,i)},c.prototype.AT_LEAST_ONE_SEP7=function(i){this.atLeastOneSepFirstInternal(7,i)},c.prototype.AT_LEAST_ONE_SEP8=function(i){this.atLeastOneSepFirstInternal(8,i)},c.prototype.AT_LEAST_ONE_SEP9=function(i){this.atLeastOneSepFirstInternal(9,i)},c.prototype.RULE=function(i,f,y){if(y===void 0&&(y=a.DEFAULT_RULE_CONFIG),(0,r.default)(this.definedRulesNames,i)){var O=o.defaultGrammarValidatorErrorProvider.buildDuplicateRuleNameError({topLevelRule:i,grammarName:this.className}),E={message:O,type:a.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:i};this.definitionErrors.push(E)}this.definedRulesNames.push(i);var s=this.defineRule(i,f,y);return this[i]=s,s},c.prototype.OVERRIDE_RULE=function(i,f,y){y===void 0&&(y=a.DEFAULT_RULE_CONFIG);var O=(0,_.validateRuleIsOverridden)(i,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(O);var E=this.defineRule(i,f,y);return this[i]=E,E},c.prototype.BACKTRACK=function(i,f){return function(){this.isBackTrackingStack.push(1);var y=this.saveRecogState();try{return i.apply(this,f),!0}catch(O){if((0,n.isRecognitionException)(O))return!1;throw O}finally{this.reloadRecogState(y),this.isBackTrackingStack.pop()}}},c.prototype.getGAstProductions=function(){return this.gastProductionsCache},c.prototype.getSerializedGastProductions=function(){return(0,v.serializeGrammar)((0,t.default)(this.gastProductionsCache))},c}();return ar.RecognizerApi=d,ar}var ir={},Qi;function uN(){if(Qi)return ir;Qi=1;var e=D&&D.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(ir,"__esModule",{value:!0}),ir.RecognizerEngine=void 0;var t=e(He),r=e(ye),n=e(ct),a=e(un),o=e(Ia),_=e(Je),v=e(We),d=e(st),c=e(Pt),i=e(vt),f=vn,y=Me,O=Kt,E=Se,s=je(),T=Ps(),R=St,S=bt,P=function(){function A(){}return A.prototype.initRecognizerEngine=function(g,h){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=S.tokenStructuredMatcherNoCategories,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,v.default)(h,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if((0,r.default)(g)){if((0,t.default)(g))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof g[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if((0,r.default)(g))this.tokensMap=(0,c.default)(g,function(N,b){return N[b.name]=b,N},{});else if((0,v.default)(g,"modes")&&(0,a.default)((0,n.default)((0,d.default)(g.modes)),S.isTokenType)){var l=(0,n.default)((0,d.default)(g.modes)),p=(0,o.default)(l);this.tokensMap=(0,c.default)(p,function(N,b){return N[b.name]=b,N},{})}else if((0,_.default)(g))this.tokensMap=(0,i.default)(g);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=R.EOF;var u=(0,v.default)(g,"modes")?(0,n.default)((0,d.default)(g.modes)):(0,d.default)(g),m=(0,a.default)(u,function(N){return(0,t.default)(N.categoryMatches)});this.tokenMatcher=m?S.tokenStructuredMatcherNoCategories:S.tokenStructuredMatcher,(0,S.augmentTokenTypes)((0,d.default)(this.tokensMap))},A.prototype.defineRule=function(g,h,l){if(this.selfAnalysisDone)throw Error("Grammar rule <".concat(g,`> may not be defined after the 'performSelfAnalysis' method has been called'
`)+"Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var p=(0,v.default)(l,"resyncEnabled")?l.resyncEnabled:s.DEFAULT_RULE_CONFIG.resyncEnabled,u=(0,v.default)(l,"recoveryValueFunc")?l.recoveryValueFunc:s.DEFAULT_RULE_CONFIG.recoveryValueFunc,m=this.ruleShortNameIdx<<f.BITS_FOR_METHOD_TYPE+f.BITS_FOR_OCCURRENCE_IDX;this.ruleShortNameIdx++,this.shortRuleNameToFull[m]=g,this.fullRuleNameToShort[g]=m;var N;this.outputCst===!0?N=function(){for(var L=[],k=0;k<arguments.length;k++)L[k]=arguments[k];try{this.ruleInvocationStateUpdate(m,g,this.subruleIdx),h.apply(this,L);var H=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(H),H}catch(I){return this.invokeRuleCatch(I,p,u)}finally{this.ruleFinallyStateUpdate()}}:N=function(){for(var L=[],k=0;k<arguments.length;k++)L[k]=arguments[k];try{return this.ruleInvocationStateUpdate(m,g,this.subruleIdx),h.apply(this,L)}catch(H){return this.invokeRuleCatch(H,p,u)}finally{this.ruleFinallyStateUpdate()}};var b=Object.assign(N,{ruleName:g,originalGrammarAction:h});return b},A.prototype.invokeRuleCatch=function(g,h,l){var p=this.RULE_STACK.length===1,u=h&&!this.isBackTracking()&&this.recoveryEnabled;if((0,y.isRecognitionException)(g)){var m=g;if(u){var N=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(N))if(m.resyncedTokens=this.reSyncTo(N),this.outputCst){var b=this.CST_STACK[this.CST_STACK.length-1];return b.recoveredNode=!0,b}else return l(g);else{if(this.outputCst){var b=this.CST_STACK[this.CST_STACK.length-1];b.recoveredNode=!0,m.partialCstResult=b}throw m}}else{if(p)return this.moveToTerminatedState(),l(g);throw m}}else throw g},A.prototype.optionInternal=function(g,h){var l=this.getKeyForAutomaticLookahead(f.OPTION_IDX,h);return this.optionInternalLogic(g,h,l)},A.prototype.optionInternalLogic=function(g,h,l){var p=this,u=this.getLaFuncFromCache(l),m;if(typeof g!="function"){m=g.DEF;var N=g.GATE;if(N!==void 0){var b=u;u=function(){return N.call(p)&&b.call(p)}}}else m=g;if(u.call(this)===!0)return m.call(this)},A.prototype.atLeastOneInternal=function(g,h){var l=this.getKeyForAutomaticLookahead(f.AT_LEAST_ONE_IDX,g);return this.atLeastOneInternalLogic(g,h,l)},A.prototype.atLeastOneInternalLogic=function(g,h,l){var p=this,u=this.getLaFuncFromCache(l),m;if(typeof h!="function"){m=h.DEF;var N=h.GATE;if(N!==void 0){var b=u;u=function(){return N.call(p)&&b.call(p)}}}else m=h;if(u.call(this)===!0)for(var j=this.doSingleRepetition(m);u.call(this)===!0&&j===!0;)j=this.doSingleRepetition(m);else throw this.raiseEarlyExitException(g,O.PROD_TYPE.REPETITION_MANDATORY,h.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[g,h],u,f.AT_LEAST_ONE_IDX,g,E.NextTerminalAfterAtLeastOneWalker)},A.prototype.atLeastOneSepFirstInternal=function(g,h){var l=this.getKeyForAutomaticLookahead(f.AT_LEAST_ONE_SEP_IDX,g);this.atLeastOneSepFirstInternalLogic(g,h,l)},A.prototype.atLeastOneSepFirstInternalLogic=function(g,h,l){var p=this,u=h.DEF,m=h.SEP,N=this.getLaFuncFromCache(l);if(N.call(this)===!0){u.call(this);for(var b=function(){return p.tokenMatcher(p.LA(1),m)};this.tokenMatcher(this.LA(1),m)===!0;)this.CONSUME(m),u.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[g,m,b,u,E.NextTerminalAfterAtLeastOneSepWalker],b,f.AT_LEAST_ONE_SEP_IDX,g,E.NextTerminalAfterAtLeastOneSepWalker)}else throw this.raiseEarlyExitException(g,O.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,h.ERR_MSG)},A.prototype.manyInternal=function(g,h){var l=this.getKeyForAutomaticLookahead(f.MANY_IDX,g);return this.manyInternalLogic(g,h,l)},A.prototype.manyInternalLogic=function(g,h,l){var p=this,u=this.getLaFuncFromCache(l),m;if(typeof h!="function"){m=h.DEF;var N=h.GATE;if(N!==void 0){var b=u;u=function(){return N.call(p)&&b.call(p)}}}else m=h;for(var j=!0;u.call(this)===!0&&j===!0;)j=this.doSingleRepetition(m);this.attemptInRepetitionRecovery(this.manyInternal,[g,h],u,f.MANY_IDX,g,E.NextTerminalAfterManyWalker,j)},A.prototype.manySepFirstInternal=function(g,h){var l=this.getKeyForAutomaticLookahead(f.MANY_SEP_IDX,g);this.manySepFirstInternalLogic(g,h,l)},A.prototype.manySepFirstInternalLogic=function(g,h,l){var p=this,u=h.DEF,m=h.SEP,N=this.getLaFuncFromCache(l);if(N.call(this)===!0){u.call(this);for(var b=function(){return p.tokenMatcher(p.LA(1),m)};this.tokenMatcher(this.LA(1),m)===!0;)this.CONSUME(m),u.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[g,m,b,u,E.NextTerminalAfterManySepWalker],b,f.MANY_SEP_IDX,g,E.NextTerminalAfterManySepWalker)}},A.prototype.repetitionSepSecondInternal=function(g,h,l,p,u){for(;l();)this.CONSUME(h),p.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[g,h,l,p,u],l,f.AT_LEAST_ONE_SEP_IDX,g,u)},A.prototype.doSingleRepetition=function(g){var h=this.getLexerPosition();g.call(this);var l=this.getLexerPosition();return l>h},A.prototype.orInternal=function(g,h){var l=this.getKeyForAutomaticLookahead(f.OR_IDX,h),p=(0,r.default)(g)?g:g.DEF,u=this.getLaFuncFromCache(l),m=u.call(this,p);if(m!==void 0){var N=p[m];return N.ALT.call(this)}this.raiseNoAltException(h,g.ERR_MSG)},A.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){var g=this.LA(1),h=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:g,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new y.NotAllInputParsedException(h,g))}},A.prototype.subruleInternal=function(g,h,l){var p;try{var u=l!==void 0?l.ARGS:void 0;return this.subruleIdx=h,p=g.apply(this,u),this.cstPostNonTerminal(p,l!==void 0&&l.LABEL!==void 0?l.LABEL:g.ruleName),p}catch(m){throw this.subruleInternalError(m,l,g.ruleName)}},A.prototype.subruleInternalError=function(g,h,l){throw(0,y.isRecognitionException)(g)&&g.partialCstResult!==void 0&&(this.cstPostNonTerminal(g.partialCstResult,h!==void 0&&h.LABEL!==void 0?h.LABEL:l),delete g.partialCstResult),g},A.prototype.consumeInternal=function(g,h,l){var p;try{var u=this.LA(1);this.tokenMatcher(u,g)===!0?(this.consumeToken(),p=u):this.consumeInternalError(g,u,l)}catch(m){p=this.consumeInternalRecovery(g,h,m)}return this.cstPostTerminal(l!==void 0&&l.LABEL!==void 0?l.LABEL:g.name,p),p},A.prototype.consumeInternalError=function(g,h,l){var p,u=this.LA(0);throw l!==void 0&&l.ERR_MSG?p=l.ERR_MSG:p=this.errorMessageProvider.buildMismatchTokenMessage({expected:g,actual:h,previous:u,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new y.MismatchedTokenException(p,h,u))},A.prototype.consumeInternalRecovery=function(g,h,l){if(this.recoveryEnabled&&l.name==="MismatchedTokenException"&&!this.isBackTracking()){var p=this.getFollowsForInRuleRecovery(g,h);try{return this.tryInRuleRecovery(g,p)}catch(u){throw u.name===T.IN_RULE_RECOVERY_EXCEPTION?l:u}}else throw l},A.prototype.saveRecogState=function(){var g=this.errors,h=(0,i.default)(this.RULE_STACK);return{errors:g,lexerState:this.exportLexerState(),RULE_STACK:h,CST_STACK:this.CST_STACK}},A.prototype.reloadRecogState=function(g){this.errors=g.errors,this.importLexerState(g.lexerState),this.RULE_STACK=g.RULE_STACK},A.prototype.ruleInvocationStateUpdate=function(g,h,l){this.RULE_OCCURRENCE_STACK.push(l),this.RULE_STACK.push(g),this.cstInvocationStateUpdate(h)},A.prototype.isBackTracking=function(){return this.isBackTrackingStack.length!==0},A.prototype.getCurrRuleFullName=function(){var g=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[g]},A.prototype.shortRuleNameToFullName=function(g){return this.shortRuleNameToFull[g]},A.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),R.EOF)},A.prototype.reset=function(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},A}();return ir.RecognizerEngine=P,ir}var or={},eo;function cN(){if(eo)return or;eo=1;var e=D&&D.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(or,"__esModule",{value:!0}),or.ErrorHandler=void 0;var t=Me,r=e(We),n=e(vt),a=Kt,o=je(),_=function(){function v(){}return v.prototype.initErrorHandler=function(d){this._errors=[],this.errorMessageProvider=(0,r.default)(d,"errorMessageProvider")?d.errorMessageProvider:o.DEFAULT_PARSER_CONFIG.errorMessageProvider},v.prototype.SAVE_ERROR=function(d){if((0,t.isRecognitionException)(d))return d.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,n.default)(this.RULE_OCCURRENCE_STACK)},this._errors.push(d),d;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(v.prototype,"errors",{get:function(){return(0,n.default)(this._errors)},set:function(d){this._errors=d},enumerable:!1,configurable:!0}),v.prototype.raiseEarlyExitException=function(d,c,i){for(var f=this.getCurrRuleFullName(),y=this.getGAstProductions()[f],O=(0,a.getLookaheadPathsForOptionalProd)(d,y,c,this.maxLookahead),E=O[0],s=[],T=1;T<=this.maxLookahead;T++)s.push(this.LA(T));var R=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:E,actual:s,previous:this.LA(0),customUserDescription:i,ruleName:f});throw this.SAVE_ERROR(new t.EarlyExitException(R,this.LA(1),this.LA(0)))},v.prototype.raiseNoAltException=function(d,c){for(var i=this.getCurrRuleFullName(),f=this.getGAstProductions()[i],y=(0,a.getLookaheadPathsForOr)(d,f,this.maxLookahead),O=[],E=1;E<=this.maxLookahead;E++)O.push(this.LA(E));var s=this.LA(0),T=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:y,actual:O,previous:s,customUserDescription:c,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new t.NoViableAltException(T,this.LA(1),s))},v}();return or.ErrorHandler=_,or}var yn={},Cs=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yn,"__esModule",{value:!0});yn.ContentAssist=void 0;var to=Se,lN=Cs(Or),fN=Cs(Wt),dN=function(){function e(){}return e.prototype.initContentAssist=function(){},e.prototype.computeContentAssist=function(t,r){var n=this.gastProductionsCache[t];if((0,fN.default)(n))throw Error("Rule ->".concat(t,"<- does not exist in this grammar."));return(0,to.nextPossibleTokensAfter)([n],r,this.tokenMatcher,this.maxLookahead)},e.prototype.getNextPossibleTokenTypes=function(t){var r=(0,lN.default)(t.ruleStack),n=this.getGAstProductions(),a=n[r],o=new to.NextAfterTokenWalker(a,t).startWalking();return o},e}();yn.ContentAssist=dN;var sr={},ro;function hN(){if(ro)return sr;ro=1;var e=D&&D.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(sr,"__esModule",{value:!0}),sr.GastRecorder=void 0;var t=e(ka),r=e(ye),n=e(Ea),a=e($e),o=e(hr),_=e(We),v=be,d=fn(),c=bt,i=St,f=je(),y=vn,O={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(O);var E=!0,s=Math.pow(2,y.BITS_FOR_OCCURRENCE_IDX)-1,T=(0,i.createToken)({name:"RECORDING_PHASE_TOKEN",pattern:d.Lexer.NA});(0,c.augmentTokenTypes)([T]);var R=(0,i.createTokenInstance)(T,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(R);var S={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},P=function(){function p(){}return p.prototype.initGastRecorder=function(u){this.recordingProdStack=[],this.RECORDING_PHASE=!1},p.prototype.enableRecording=function(){var u=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",function(){for(var m=function(b){var j=b>0?b:"";u["CONSUME".concat(j)]=function(L,k){return this.consumeInternalRecord(L,b,k)},u["SUBRULE".concat(j)]=function(L,k){return this.subruleInternalRecord(L,b,k)},u["OPTION".concat(j)]=function(L){return this.optionInternalRecord(L,b)},u["OR".concat(j)]=function(L){return this.orInternalRecord(L,b)},u["MANY".concat(j)]=function(L){this.manyInternalRecord(b,L)},u["MANY_SEP".concat(j)]=function(L){this.manySepFirstInternalRecord(b,L)},u["AT_LEAST_ONE".concat(j)]=function(L){this.atLeastOneInternalRecord(b,L)},u["AT_LEAST_ONE_SEP".concat(j)]=function(L){this.atLeastOneSepFirstInternalRecord(b,L)}},N=0;N<10;N++)m(N);u.consume=function(b,j,L){return this.consumeInternalRecord(j,b,L)},u.subrule=function(b,j,L){return this.subruleInternalRecord(j,b,L)},u.option=function(b,j){return this.optionInternalRecord(j,b)},u.or=function(b,j){return this.orInternalRecord(j,b)},u.many=function(b,j){this.manyInternalRecord(b,j)},u.atLeastOne=function(b,j){this.atLeastOneInternalRecord(b,j)},u.ACTION=u.ACTION_RECORD,u.BACKTRACK=u.BACKTRACK_RECORD,u.LA=u.LA_RECORD})},p.prototype.disableRecording=function(){var u=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",function(){for(var m=u,N=0;N<10;N++){var b=N>0?N:"";delete m["CONSUME".concat(b)],delete m["SUBRULE".concat(b)],delete m["OPTION".concat(b)],delete m["OR".concat(b)],delete m["MANY".concat(b)],delete m["MANY_SEP".concat(b)],delete m["AT_LEAST_ONE".concat(b)],delete m["AT_LEAST_ONE_SEP".concat(b)]}delete m.consume,delete m.subrule,delete m.option,delete m.or,delete m.many,delete m.atLeastOne,delete m.ACTION,delete m.BACKTRACK,delete m.LA})},p.prototype.ACTION_RECORD=function(u){},p.prototype.BACKTRACK_RECORD=function(u,m){return function(){return!0}},p.prototype.LA_RECORD=function(u){return f.END_OF_FILE},p.prototype.topLevelRuleRecord=function(u,m){try{var N=new v.Rule({definition:[],name:u});return N.name=u,this.recordingProdStack.push(N),m.call(this),this.recordingProdStack.pop(),N}catch(b){if(b.KNOWN_RECORDER_ERROR!==!0)try{b.message=b.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw b}throw b}},p.prototype.optionInternalRecord=function(u,m){return A.call(this,v.Option,u,m)},p.prototype.atLeastOneInternalRecord=function(u,m){A.call(this,v.RepetitionMandatory,m,u)},p.prototype.atLeastOneSepFirstInternalRecord=function(u,m){A.call(this,v.RepetitionMandatoryWithSeparator,m,u,E)},p.prototype.manyInternalRecord=function(u,m){A.call(this,v.Repetition,m,u)},p.prototype.manySepFirstInternalRecord=function(u,m){A.call(this,v.RepetitionWithSeparator,m,u,E)},p.prototype.orInternalRecord=function(u,m){return g.call(this,u,m)},p.prototype.subruleInternalRecord=function(u,m,N){if(l(m),!u||(0,_.default)(u,"ruleName")===!1){var b=new Error("<SUBRULE".concat(h(m),"> argument is invalid")+" expecting a Parser method reference but got: <".concat(JSON.stringify(u),">")+`
 inside top level rule: <`.concat(this.recordingProdStack[0].name,">"));throw b.KNOWN_RECORDER_ERROR=!0,b}var j=(0,t.default)(this.recordingProdStack),L=u.ruleName,k=new v.NonTerminal({idx:m,nonTerminalName:L,label:N==null?void 0:N.LABEL,referencedRule:void 0});return j.definition.push(k),this.outputCst?S:O},p.prototype.consumeInternalRecord=function(u,m,N){if(l(m),!(0,c.hasShortKeyProperty)(u)){var b=new Error("<CONSUME".concat(h(m),"> argument is invalid")+" expecting a TokenType reference but got: <".concat(JSON.stringify(u),">")+`
 inside top level rule: <`.concat(this.recordingProdStack[0].name,">"));throw b.KNOWN_RECORDER_ERROR=!0,b}var j=(0,t.default)(this.recordingProdStack),L=new v.Terminal({idx:m,terminalType:u,label:N==null?void 0:N.LABEL});return j.definition.push(L),R},p}();sr.GastRecorder=P;function A(p,u,m,N){N===void 0&&(N=!1),l(m);var b=(0,t.default)(this.recordingProdStack),j=(0,o.default)(u)?u:u.DEF,L=new p({definition:[],idx:m});return N&&(L.separator=u.SEP),(0,_.default)(u,"MAX_LOOKAHEAD")&&(L.maxLookahead=u.MAX_LOOKAHEAD),this.recordingProdStack.push(L),j.call(this),b.definition.push(L),this.recordingProdStack.pop(),O}function g(p,u){var m=this;l(u);var N=(0,t.default)(this.recordingProdStack),b=(0,r.default)(p)===!1,j=b===!1?p:p.DEF,L=new v.Alternation({definition:[],idx:u,ignoreAmbiguities:b&&p.IGNORE_AMBIGUITIES===!0});(0,_.default)(p,"MAX_LOOKAHEAD")&&(L.maxLookahead=p.MAX_LOOKAHEAD);var k=(0,n.default)(j,function(H){return(0,o.default)(H.GATE)});return L.hasPredicates=k,N.definition.push(L),(0,a.default)(j,function(H){var I=new v.Alternative({definition:[]});L.definition.push(I),(0,_.default)(H,"IGNORE_AMBIGUITIES")?I.ignoreAmbiguities=H.IGNORE_AMBIGUITIES:(0,_.default)(H,"GATE")&&(I.ignoreAmbiguities=!0),m.recordingProdStack.push(I),H.ALT.call(m),m.recordingProdStack.pop()}),O}function h(p){return p===0?"":"".concat(p)}function l(p){if(p<0||p>s){var u=new Error("Invalid DSL Method idx value: <".concat(p,`>
	`)+"Idx value must be a none negative value smaller than ".concat(s+1));throw u.KNOWN_RECORDER_ERROR=!0,u}}return sr}var ur={},no;function pN(){if(no)return ur;no=1;var e=D&&D.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ur,"__esModule",{value:!0}),ur.PerformanceTracer=void 0;var t=e(We),r=Gt,n=je(),a=function(){function o(){}return o.prototype.initPerformanceTracer=function(_){if((0,t.default)(_,"traceInitPerf")){var v=_.traceInitPerf,d=typeof v=="number";this.traceInitMaxIdent=d?v:1/0,this.traceInitPerf=d?v>0:v}else this.traceInitMaxIdent=0,this.traceInitPerf=n.DEFAULT_PARSER_CONFIG.traceInitPerf;this.traceInitIndent=-1},o.prototype.TRACE_INIT=function(_,v){if(this.traceInitPerf===!0){this.traceInitIndent++;var d=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log("".concat(d,"--> <").concat(_,">"));var c=(0,r.timer)(v),i=c.time,f=c.value,y=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&y("".concat(d,"<-- <").concat(_,"> time: ").concat(i,"ms")),this.traceInitIndent--,f}else return v()},o}();return ur.PerformanceTracer=a,ur}var mn={};Object.defineProperty(mn,"__esModule",{value:!0});mn.applyMixins=void 0;function vN(e,t){t.forEach(function(r){var n=r.prototype;Object.getOwnPropertyNames(n).forEach(function(a){if(a!=="constructor"){var o=Object.getOwnPropertyDescriptor(n,a);o&&(o.get||o.set)?Object.defineProperty(e.prototype,a,o):e.prototype[a]=r.prototype[a]}})})}mn.applyMixins=vN;var ao;function je(){return ao||(ao=1,function(e){var t=D&&D.__extends||function(){var L=function(k,H){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,w){I.__proto__=w}||function(I,w){for(var C in w)Object.prototype.hasOwnProperty.call(w,C)&&(I[C]=w[C])},L(k,H)};return function(k,H){if(typeof H!="function"&&H!==null)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");L(k,H);function I(){this.constructor=k}k.prototype=H===null?Object.create(H):(I.prototype=H.prototype,new I)}}(),r=D&&D.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedActionsParser=e.CstParser=e.Parser=e.EMPTY_ALT=e.ParserDefinitionErrorType=e.DEFAULT_RULE_CONFIG=e.DEFAULT_PARSER_CONFIG=e.END_OF_FILE=void 0;var n=r(He),a=r(De),o=r($e),_=r(st),v=r(We),d=r(vt),c=Gt,i=qe,f=St,y=Vt,O=VI(),E=Ps(),s=JI(),T=iN(),R=oN(),S=sN(),P=uN(),A=cN(),g=yn,h=hN(),l=pN(),p=mn,u=hn();e.END_OF_FILE=(0,f.createTokenInstance)(f.EOF,"",NaN,NaN,NaN,NaN,NaN,NaN),Object.freeze(e.END_OF_FILE),e.DEFAULT_PARSER_CONFIG=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:y.defaultParserErrorProvider,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),e.DEFAULT_RULE_CONFIG=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0}),function(L){L[L.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",L[L.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",L[L.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",L[L.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",L[L.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",L[L.LEFT_RECURSION=5]="LEFT_RECURSION",L[L.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",L[L.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",L[L.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",L[L.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",L[L.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",L[L.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",L[L.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",L[L.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"}(e.ParserDefinitionErrorType||(e.ParserDefinitionErrorType={}));function m(L){return L===void 0&&(L=void 0),function(){return L}}e.EMPTY_ALT=m;var N=function(){function L(k,H){this.definitionErrors=[],this.selfAnalysisDone=!1;var I=this;if(I.initErrorHandler(H),I.initLexerAdapter(),I.initLooksAhead(H),I.initRecognizerEngine(k,H),I.initRecoverable(H),I.initTreeBuilder(H),I.initContentAssist(),I.initGastRecorder(H),I.initPerformanceTracer(H),(0,v.default)(H,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=(0,v.default)(H,"skipValidations")?H.skipValidations:e.DEFAULT_PARSER_CONFIG.skipValidations}return L.performSelfAnalysis=function(k){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")},L.prototype.performSelfAnalysis=function(){var k=this;this.TRACE_INIT("performSelfAnalysis",function(){var H;k.selfAnalysisDone=!0;var I=k.className;k.TRACE_INIT("toFastProps",function(){(0,c.toFastProperties)(k)}),k.TRACE_INIT("Grammar Recording",function(){try{k.enableRecording(),(0,o.default)(k.definedRulesNames,function(C){var V=k[C],K=V.originalGrammarAction,z;k.TRACE_INIT("".concat(C," Rule"),function(){z=k.topLevelRuleRecord(C,K)}),k.gastProductionsCache[C]=z})}finally{k.disableRecording()}});var w=[];if(k.TRACE_INIT("Grammar Resolving",function(){w=(0,O.resolveGrammar)({rules:(0,_.default)(k.gastProductionsCache)}),k.definitionErrors=k.definitionErrors.concat(w)}),k.TRACE_INIT("Grammar Validations",function(){if((0,n.default)(w)&&k.skipValidations===!1){var C=(0,O.validateGrammar)({rules:(0,_.default)(k.gastProductionsCache),tokenTypes:(0,_.default)(k.tokensMap),errMsgProvider:y.defaultGrammarValidatorErrorProvider,grammarName:I}),V=(0,u.validateLookahead)({lookaheadStrategy:k.lookaheadStrategy,rules:(0,_.default)(k.gastProductionsCache),tokenTypes:(0,_.default)(k.tokensMap),grammarName:I});k.definitionErrors=k.definitionErrors.concat(C,V)}}),(0,n.default)(k.definitionErrors)&&(k.recoveryEnabled&&k.TRACE_INIT("computeAllProdsFollows",function(){var C=(0,i.computeAllProdsFollows)((0,_.default)(k.gastProductionsCache));k.resyncFollows=C}),k.TRACE_INIT("ComputeLookaheadFunctions",function(){var C,V;(V=(C=k.lookaheadStrategy).initialize)===null||V===void 0||V.call(C,{rules:(0,_.default)(k.gastProductionsCache)}),k.preComputeLookaheadFunctions((0,_.default)(k.gastProductionsCache))})),!L.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,n.default)(k.definitionErrors))throw H=(0,a.default)(k.definitionErrors,function(C){return C.message}),new Error(`Parser Definition Errors detected:
 `.concat(H.join(`
-------------------------------
`)))})},L.DEFER_DEFINITION_ERRORS_HANDLING=!1,L}();e.Parser=N,(0,p.applyMixins)(N,[E.Recoverable,s.LooksAhead,T.TreeBuilder,R.LexerAdapter,P.RecognizerEngine,S.RecognizerApi,A.ErrorHandler,g.ContentAssist,h.GastRecorder,l.PerformanceTracer]);var b=function(L){t(k,L);function k(H,I){I===void 0&&(I=e.DEFAULT_PARSER_CONFIG);var w=(0,d.default)(I);return w.outputCst=!0,L.call(this,H,w)||this}return k}(N);e.CstParser=b;var j=function(L){t(k,L);function k(H,I){I===void 0&&(I=e.DEFAULT_PARSER_CONFIG);var w=(0,d.default)(I);return w.outputCst=!1,L.call(this,H,w)||this}return k}(N);e.EmbeddedActionsParser=j}(bn)),bn}var gn={},En={},_N=D&&D.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ht=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(En,"__esModule",{value:!0});En.buildModel=void 0;var ks=be,cr=Ht(De),yN=Ht(ct),mN=Ht(st),gN=Ht(Ea),EN=Ht(ms),TN=Ht(on);function AN(e){var t=new ON,r=(0,mN.default)(e);return(0,cr.default)(r,function(n){return t.visitRule(n)})}En.buildModel=AN;var ON=function(e){_N(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.visitRule=function(r){var n=this.visitEach(r.definition),a=(0,EN.default)(n,function(_){return _.propertyName}),o=(0,cr.default)(a,function(_,v){var d=!(0,gN.default)(_,function(i){return!i.canBeNull}),c=_[0].type;return _.length>1&&(c=(0,cr.default)(_,function(i){return i.type})),{name:v,type:c,optional:d}});return{name:r.name,properties:o}},t.prototype.visitAlternative=function(r){return this.visitEachAndOverrideWith(r.definition,{canBeNull:!0})},t.prototype.visitOption=function(r){return this.visitEachAndOverrideWith(r.definition,{canBeNull:!0})},t.prototype.visitRepetition=function(r){return this.visitEachAndOverrideWith(r.definition,{canBeNull:!0})},t.prototype.visitRepetitionMandatory=function(r){return this.visitEach(r.definition)},t.prototype.visitRepetitionMandatoryWithSeparator=function(r){return this.visitEach(r.definition).concat({propertyName:r.separator.name,canBeNull:!0,type:br(r.separator)})},t.prototype.visitRepetitionWithSeparator=function(r){return this.visitEachAndOverrideWith(r.definition,{canBeNull:!0}).concat({propertyName:r.separator.name,canBeNull:!0,type:br(r.separator)})},t.prototype.visitAlternation=function(r){return this.visitEachAndOverrideWith(r.definition,{canBeNull:!0})},t.prototype.visitTerminal=function(r){return[{propertyName:r.label||r.terminalType.name,canBeNull:!1,type:br(r)}]},t.prototype.visitNonTerminal=function(r){return[{propertyName:r.label||r.nonTerminalName,canBeNull:!1,type:br(r)}]},t.prototype.visitEachAndOverrideWith=function(r,n){return(0,cr.default)(this.visitEach(r),function(a){return(0,TN.default)({},a,n)})},t.prototype.visitEach=function(r){var n=this;return(0,yN.default)((0,cr.default)(r,function(a){return n.visit(a)}))},t}(ks.GAstVisitor);function br(e){return e instanceof ks.NonTerminal?{kind:"rule",name:e.referencedRule.name}:{kind:"token"}}var Tn={},RN=ya;function IN(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:RN(e,t,r)}var NN=IN,SN="\\ud800-\\udfff",PN="\\u0300-\\u036f",bN="\\ufe20-\\ufe2f",LN="\\u20d0-\\u20ff",CN=PN+bN+LN,kN="\\ufe0e\\ufe0f",MN="\\u200d",$N=RegExp("["+MN+SN+CN+kN+"]");function wN(e){return $N.test(e)}var Ms=wN;function FN(e){return e.split("")}var xN=FN,$s="\\ud800-\\udfff",DN="\\u0300-\\u036f",UN="\\ufe20-\\ufe2f",GN="\\u20d0-\\u20ff",jN=DN+UN+GN,BN="\\ufe0e\\ufe0f",WN="["+$s+"]",Xn="["+jN+"]",Zn="\\ud83c[\\udffb-\\udfff]",VN="(?:"+Xn+"|"+Zn+")",ws="[^"+$s+"]",Fs="(?:\\ud83c[\\udde6-\\uddff]){2}",xs="[\\ud800-\\udbff][\\udc00-\\udfff]",KN="\\u200d",Ds=VN+"?",Us="["+BN+"]?",HN="(?:"+KN+"(?:"+[ws,Fs,xs].join("|")+")"+Us+Ds+")*",zN=Us+Ds+HN,qN="(?:"+[ws+Xn+"?",Xn,Fs,xs,WN].join("|")+")",YN=RegExp(Zn+"(?="+Zn+")|"+qN+zN,"g");function XN(e){return e.match(YN)||[]}var ZN=XN,JN=xN,QN=Ms,eS=ZN;function tS(e){return QN(e)?eS(e):JN(e)}var rS=tS,nS=NN,aS=Ms,iS=rS,oS=ko;function sS(e){return function(t){t=oS(t);var r=aS(t)?iS(t):void 0,n=r?r[0]:t.charAt(0),a=r?nS(r,1).join(""):t.slice(1);return n[e]()+a}}var uS=sS,cS=uS,lS=cS("toUpperCase"),fS=lS,zt=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.genDts=void 0;var dS=zt(ct),hS=zt(ye),An=zt(De),pS=zt(Pt),vS=zt(Ia),Gs=zt(fS);function _S(e,t){var r=[];return r=r.concat('import type { CstNode, ICstVisitor, IToken } from "chevrotain";'),r=r.concat((0,dS.default)((0,An.default)(e,function(n){return yS(n)}))),t.includeVisitorInterface&&(r=r.concat(TS(t.visitorInterfaceName,e))),r.join(`

`)+`
`}Tn.genDts=_S;function yS(e){var t=mS(e),r=gS(e);return[t,r]}function mS(e){var t=js(e.name),r=$a(e.name);return"export interface ".concat(t,` extends CstNode {
  name: "`).concat(e.name,`";
  children: `).concat(r,`;
}`)}function gS(e){var t=$a(e.name);return"export type ".concat(t,` = {
  `).concat((0,An.default)(e.properties,function(r){return ES(r)}).join(`
  `),`
};`)}function ES(e){var t=OS(e.type);return"".concat(e.name).concat(e.optional?"?":"",": ").concat(t,"[];")}function TS(e,t){return"export interface ".concat(e,`<IN, OUT> extends ICstVisitor<IN, OUT> {
  `).concat((0,An.default)(t,function(r){return AS(r)}).join(`
  `),`
}`)}function AS(e){var t=$a(e.name);return"".concat(e.name,"(children: ").concat(t,", param?: IN): OUT;")}function OS(e){if((0,hS.default)(e)){var t=(0,vS.default)((0,An.default)(e,function(n){return io(n)})),r=(0,pS.default)(t,function(n,a){return n+" | "+a});return"("+r+")"}else return io(e)}function io(e){return e.kind==="token"?"IToken":js(e.name)}function js(e){return(0,Gs.default)(e)+"CstNode"}function $a(e){return(0,Gs.default)(e)+"CstChildren"}var Br=D&&D.__assign||function(){return Br=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Br.apply(this,arguments)};Object.defineProperty(gn,"__esModule",{value:!0});gn.generateCstDts=void 0;var RS=En,IS=Tn,NS={includeVisitorInterface:!0,visitorInterfaceName:"ICstNodeVisitor"};function SS(e,t){var r=Br(Br({},NS),t),n=(0,RS.buildModel)(e);return(0,IS.genDts)(n,r)}gn.generateCstDts=SS;var On={};Object.defineProperty(On,"__esModule",{value:!0});On.createSyntaxDiagramsCode=void 0;var oo=fr;function PS(e,t){var r=t===void 0?{}:t,n=r.resourceBase,a=n===void 0?"https://unpkg.com/chevrotain@".concat(oo.VERSION,"/diagrams/"):n,o=r.css,_=o===void 0?"https://unpkg.com/chevrotain@".concat(oo.VERSION,"/diagrams/diagrams.css"):o,v=`
<!-- This is a generated file -->
<!DOCTYPE html>
<meta charset="utf-8">
<style>
  body {
    background-color: hsl(30, 20%, 95%)
  }
</style>

`,d=`
<link rel='stylesheet' href='`.concat(_,`'>
`),c=`
<script src='`.concat(a,`vendor/railroad-diagrams.js'><\/script>
<script src='`).concat(a,`src/diagrams_builder.js'><\/script>
<script src='`).concat(a,`src/diagrams_behavior.js'><\/script>
<script src='`).concat(a,`src/main.js'><\/script>
`),i=`
<div id="diagrams" align="center"></div>    
`,f=`
<script>
    window.serializedGrammar = `.concat(JSON.stringify(e,null,"  "),`;
<\/script>
`),y=`
<script>
    var diagramsDiv = document.getElementById("diagrams");
    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);
<\/script>
`;return v+d+c+i+f+y}On.createSyntaxDiagramsCode=PS;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=e.createSyntaxDiagramsCode=e.clearCache=e.generateCstDts=e.GAstVisitor=e.serializeProduction=e.serializeGrammar=e.Terminal=e.Rule=e.RepetitionWithSeparator=e.RepetitionMandatoryWithSeparator=e.RepetitionMandatory=e.Repetition=e.Option=e.NonTerminal=e.Alternative=e.Alternation=e.defaultLexerErrorProvider=e.NoViableAltException=e.NotAllInputParsedException=e.MismatchedTokenException=e.isRecognitionException=e.EarlyExitException=e.defaultParserErrorProvider=e.LLkLookaheadStrategy=e.getLookaheadPaths=e.tokenName=e.tokenMatcher=e.tokenLabel=e.EOF=e.createTokenInstance=e.createToken=e.LexerDefinitionErrorType=e.Lexer=e.EMPTY_ALT=e.ParserDefinitionErrorType=e.EmbeddedActionsParser=e.CstParser=e.VERSION=void 0;var t=fr;Object.defineProperty(e,"VERSION",{enumerable:!0,get:function(){return t.VERSION}});var r=je();Object.defineProperty(e,"CstParser",{enumerable:!0,get:function(){return r.CstParser}}),Object.defineProperty(e,"EmbeddedActionsParser",{enumerable:!0,get:function(){return r.EmbeddedActionsParser}}),Object.defineProperty(e,"ParserDefinitionErrorType",{enumerable:!0,get:function(){return r.ParserDefinitionErrorType}}),Object.defineProperty(e,"EMPTY_ALT",{enumerable:!0,get:function(){return r.EMPTY_ALT}});var n=fn();Object.defineProperty(e,"Lexer",{enumerable:!0,get:function(){return n.Lexer}}),Object.defineProperty(e,"LexerDefinitionErrorType",{enumerable:!0,get:function(){return n.LexerDefinitionErrorType}});var a=St;Object.defineProperty(e,"createToken",{enumerable:!0,get:function(){return a.createToken}}),Object.defineProperty(e,"createTokenInstance",{enumerable:!0,get:function(){return a.createTokenInstance}}),Object.defineProperty(e,"EOF",{enumerable:!0,get:function(){return a.EOF}}),Object.defineProperty(e,"tokenLabel",{enumerable:!0,get:function(){return a.tokenLabel}}),Object.defineProperty(e,"tokenMatcher",{enumerable:!0,get:function(){return a.tokenMatcher}}),Object.defineProperty(e,"tokenName",{enumerable:!0,get:function(){return a.tokenName}});var o=Kt;Object.defineProperty(e,"getLookaheadPaths",{enumerable:!0,get:function(){return o.getLookaheadPaths}});var _=bs();Object.defineProperty(e,"LLkLookaheadStrategy",{enumerable:!0,get:function(){return _.LLkLookaheadStrategy}});var v=Vt;Object.defineProperty(e,"defaultParserErrorProvider",{enumerable:!0,get:function(){return v.defaultParserErrorProvider}});var d=Me;Object.defineProperty(e,"EarlyExitException",{enumerable:!0,get:function(){return d.EarlyExitException}}),Object.defineProperty(e,"isRecognitionException",{enumerable:!0,get:function(){return d.isRecognitionException}}),Object.defineProperty(e,"MismatchedTokenException",{enumerable:!0,get:function(){return d.MismatchedTokenException}}),Object.defineProperty(e,"NotAllInputParsedException",{enumerable:!0,get:function(){return d.NotAllInputParsedException}}),Object.defineProperty(e,"NoViableAltException",{enumerable:!0,get:function(){return d.NoViableAltException}});var c=Rr;Object.defineProperty(e,"defaultLexerErrorProvider",{enumerable:!0,get:function(){return c.defaultLexerErrorProvider}});var i=be;Object.defineProperty(e,"Alternation",{enumerable:!0,get:function(){return i.Alternation}}),Object.defineProperty(e,"Alternative",{enumerable:!0,get:function(){return i.Alternative}}),Object.defineProperty(e,"NonTerminal",{enumerable:!0,get:function(){return i.NonTerminal}}),Object.defineProperty(e,"Option",{enumerable:!0,get:function(){return i.Option}}),Object.defineProperty(e,"Repetition",{enumerable:!0,get:function(){return i.Repetition}}),Object.defineProperty(e,"RepetitionMandatory",{enumerable:!0,get:function(){return i.RepetitionMandatory}}),Object.defineProperty(e,"RepetitionMandatoryWithSeparator",{enumerable:!0,get:function(){return i.RepetitionMandatoryWithSeparator}}),Object.defineProperty(e,"RepetitionWithSeparator",{enumerable:!0,get:function(){return i.RepetitionWithSeparator}}),Object.defineProperty(e,"Rule",{enumerable:!0,get:function(){return i.Rule}}),Object.defineProperty(e,"Terminal",{enumerable:!0,get:function(){return i.Terminal}});var f=be;Object.defineProperty(e,"serializeGrammar",{enumerable:!0,get:function(){return f.serializeGrammar}}),Object.defineProperty(e,"serializeProduction",{enumerable:!0,get:function(){return f.serializeProduction}}),Object.defineProperty(e,"GAstVisitor",{enumerable:!0,get:function(){return f.GAstVisitor}});var y=gn;Object.defineProperty(e,"generateCstDts",{enumerable:!0,get:function(){return y.generateCstDts}});function O(){console.warn(`The clearCache function was 'soft' removed from the Chevrotain API.
	 It performs no action other than printing this message.
	 Please avoid using it as it will be completely removed in the future`)}e.clearCache=O;var E=On;Object.defineProperty(e,"createSyntaxDiagramsCode",{enumerable:!0,get:function(){return E.createSyntaxDiagramsCode}});var s=function(){function T(){throw new Error(`The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.	
See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_7-0-0`)}return T}();e.Parser=s})(co);const ie=ru(co);ie.Alternation;ie.Alternative;const bS=ie.CstParser;ie.EMPTY_ALT;ie.EOF;ie.EarlyExitException;ie.EmbeddedActionsParser;ie.GAstVisitor;ie.LLkLookaheadStrategy;const yt=ie.Lexer;ie.LexerDefinitionErrorType;ie.MismatchedTokenException;ie.NoViableAltException;ie.NonTerminal;ie.NotAllInputParsedException;ie.Option;ie.Parser;ie.ParserDefinitionErrorType;ie.Repetition;ie.RepetitionMandatory;ie.RepetitionMandatoryWithSeparator;ie.RepetitionWithSeparator;ie.Rule;ie.Terminal;ie.VERSION;ie.clearCache;ie.createSyntaxDiagramsCode;const oe=ie.createToken;ie.createTokenInstance;ie.defaultLexerErrorProvider;ie.defaultParserErrorProvider;ie.generateCstDts;ie.getLookaheadPaths;ie.isRecognitionException;ie.serializeGrammar;ie.serializeProduction;ie.tokenLabel;const so=ie.tokenMatcher;ie.tokenName;var Bs={},Ge={};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.AnonymousSelectKey=Ge.Select=Ge.Not=Ge.Guard=Ge.PatternKind=void 0;Ge.PatternKind=Symbol("@ts-pattern/pattern-kind");Ge.Guard=Symbol("@ts-pattern/guard");Ge.Not=Symbol("@ts-pattern/not");Ge.Select=Symbol("@ts-pattern/select");Ge.AnonymousSelectKey="@ts-pattern/__anonymous-select-key";var wa={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.instanceOf=e.select=e.not=e.when=void 0;const t=Ge,r=v=>({[t.PatternKind]:t.Guard,[t.Guard]:v});e.when=r;const n=v=>({[t.PatternKind]:t.Not,[t.Not]:v});e.not=n;function a(v){return v===void 0?{[t.PatternKind]:t.Select,[t.Select]:t.AnonymousSelectKey}:{[t.PatternKind]:t.Select,[t.Select]:v}}e.select=a;function o(v){return d=>d instanceof v}const _=v=>(0,e.when)(o(v));e.instanceOf=_})(wa);var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.__=void 0;const qt=wa;function LS(e){return!0}function CS(e){return typeof e=="number"}function kS(e){return Number.isNaN(e)}function MS(e){return typeof e=="string"}function $S(e){return typeof e=="boolean"}function wS(e){return e==null}const FS=(0,qt.when)(LS),xS=(0,qt.when)(MS),DS=(0,qt.when)(CS),US=(0,qt.when)(kS),GS=(0,qt.when)($S),jS=(0,qt.when)(wS);Rn.__=Object.assign(FS,{string:xS,number:DS,NaN:US,boolean:GS,nullish:jS});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isMatching=e.match=e.instanceOf=e.select=e.not=e.when=e.__=void 0;const t=Ge,r=wa;Object.defineProperty(e,"when",{enumerable:!0,get:function(){return r.when}}),Object.defineProperty(e,"not",{enumerable:!0,get:function(){return r.not}}),Object.defineProperty(e,"select",{enumerable:!0,get:function(){return r.select}}),Object.defineProperty(e,"instanceOf",{enumerable:!0,get:function(){return r.instanceOf}});const n=Rn;Object.defineProperty(e,"__",{enumerable:!0,get:function(){return n.__}});const a=y=>o(y,[]);e.match=a;const o=(y,O)=>{const E=()=>{const s=O.find(({test:T})=>T(y));if(!s){let T;try{T=JSON.stringify(y)}catch{T=y}throw new Error(`Pattern matching error: no pattern matches value ${T}`)}return s.handler(s.select(y),y)};return{with(...s){const T=s[s.length-1],R=[],S=[];for(let g=0;g<s.length-1;g++){const h=s[g];typeof h=="function"?S.push(h):R.push(h)}let P={};const A=g=>!!(R.some(h=>i(h,g,(l,p)=>{P[l]=p}))&&S.every(h=>h(g)));return o(y,O.concat([{test:A,handler:T,select:g=>Object.keys(P).length?t.AnonymousSelectKey in P?P[t.AnonymousSelectKey]:P:g}]))},when:(s,T)=>o(y,O.concat([{test:s,handler:T,select:R=>R}])),otherwise:s=>o(y,O.concat([{test:()=>!0,handler:s,select:T=>T}])).run(),exhaustive:()=>E(),run:E}},_=y=>!!(y&&typeof y=="object"),v=y=>{const O=y;return O&&O[t.PatternKind]===t.Guard},d=y=>{const O=y;return O&&O[t.PatternKind]===t.Not},c=y=>{const O=y;return O&&O[t.PatternKind]===t.Select},i=(y,O,E)=>{if(_(y)){if(v(y))return!!y[t.Guard](O);if(c(y))return E(y[t.Select],O),!0;if(d(y))return!i(y[t.Not],O,E);if(!_(O))return!1;if(Array.isArray(y)){if(!Array.isArray(O))return!1;if(y.length===1){const s={},T=(S,P)=>{s[S]=(s[S]||[]).concat([P])},R=O.every(S=>i(y[0],S,T));return R&&Object.keys(s).forEach(S=>E(S,s[S])),R}return y.length===O.length?y.every((s,T)=>i(s,O[T],E)):!1}if(y instanceof Map)return O instanceof Map?[...y.keys()].every(s=>i(y.get(s),O.get(s),E)):!1;if(y instanceof Set){if(!(O instanceof Set))return!1;if(y.size===0)return O.size===0;if(y.size===1){const[s]=[...y.values()];return Object.values(n.__).includes(s)?i([s],[...O.values()],E):O.has(s)}return[...y.values()].every(s=>O.has(s))}return Object.keys(y).every(s=>s in O&&i(y[s],O[s],E))}return O===y};function f(...y){if(y.length===1){const[O]=y;return E=>i(O,E,()=>{})}if(y.length===2){const[O,E]=y;return i(O,E,()=>{})}throw new Error(`isMatching wasn't given enough arguments: expected 1 or 2, received ${y.length}.`)}e.isMatching=f})(Bs);const Fa=oe({name:"Brackets",pattern:yt.NA}),mt=oe({name:"BooleanOperator",pattern:yt.NA}),Yt=oe({name:"ControlFlowKeyword",pattern:yt.NA}),In=oe({name:"NumericValue",pattern:yt.NA}),Nn=oe({name:"AdditionOperator",pattern:yt.NA}),Sn=oe({name:"MultiplicationOperator",pattern:yt.NA}),BS=oe({name:"EqualTo",pattern:/EQ/,categories:mt}),WS=oe({name:"NotEqualTo",pattern:/NE/,categories:mt}),VS=oe({name:"LessThan",pattern:/LT/,categories:mt}),KS=oe({name:"LessThanOrEq",pattern:/LE/,categories:mt}),HS=oe({name:"GreaterThan",pattern:/GT/,categories:mt}),zS=oe({name:"GreaterThanOrEq",pattern:/GE/,categories:mt}),qS=oe({name:"OpenParen",pattern:"("}),YS=oe({name:"CloseParen",pattern:")"}),Mr=oe({name:"OpenBracket",pattern:"[",categories:Fa}),$r=oe({name:"CloseBracket",pattern:"]",categories:Fa}),uo=/[O|:](\d+)/y;function XS(e,t){let r=null;if(uo.lastIndex=t,r=uo.exec(e),r!==null){const n=r[0];r.payload=parseInt(n.slice(1))}return r}const Ws=oe({name:"Plus",pattern:"+",categories:Nn}),Jn=oe({name:"Minus",pattern:"-",categories:Nn}),ZS=oe({name:"Divide",pattern:"/",categories:Sn}),Vs=oe({name:"Product",pattern:"*",categories:Sn}),xa=oe({name:"Integer",pattern:/\d+/,categories:In}),JS=oe({name:"Decimal",pattern:/(?=\d*[.])([0-9]+\.?[0-9]*|\.[0-9]+)/,longer_alt:xa,categories:In}),Ks=oe({name:"Var",pattern:"#"}),Hs=oe({name:"Equals",pattern:"="}),wr=oe({name:"Percent",pattern:"%"});oe({name:"Dot",pattern:"."});const QS=oe({name:"Comma",pattern:","}),Fr=oe({name:"Newline",pattern:`
`}),it=oe({name:"Address",pattern:/[A-MO-Z]/}),eP=oe({name:"LineNumber",pattern:/N\d+/,longer_alt:it}),zs=oe({name:"ProgramNumber",pattern:XS,longer_alt:it,line_breaks:!0}),qs=oe({name:"BuiltinFunctions",pattern:/SIN|ASIN|COS|ACOS|TAN|ATAN|SQRT|ABS|BIN|BCD|ROUND|FIX|FUP|LN|EXP/,longer_alt:it}),tP=oe({name:"WhiteSpace",pattern:/[\s\t\r]+/,group:yt.SKIPPED}),Qn=oe({name:"Comment",pattern:/\(\s*(.+?)\s*\)/,group:"comments",start_chars_hint:["("]}),Ys=oe({name:"GotoLine",pattern:/GOTO[1-9][0-9]*/,longer_alt:it,categories:Yt}),Xs=oe({name:"If",pattern:/IF/,longer_alt:it,categories:Yt}),Zs=oe({name:"Then",pattern:/THEN/,longer_alt:it,categories:Yt}),rP=oe({name:"Do",pattern:/DO/,longer_alt:it,categories:Yt}),nP=oe({name:"While",pattern:/WHILE/,longer_alt:it,categories:Yt}),Js=[Fr,tP,zs,BS,WS,HS,zS,VS,KS,Xs,rP,Zs,nP,Ys,qs,Qn,Ks,Hs,QS,ZS,Vs,Jn,Ws,wr,it,JS,xa,qS,YS,Mr,$r,Yt,Fa,In,mt,Nn,Sn];class aP extends bS{constructor(){super(Js);Ne(this,"AddressedValue",this.RULE("AddressedValue",()=>{this.CONSUME(it),this.OPTION(()=>{this.CONSUME(Jn)}),this.OR([{ALT:()=>this.SUBRULE(this.bracketExpression)},{ALT:()=>this.SUBRULE(this.VariableLiteral)}])}));Ne(this,"NumericLiteral",this.RULE("NumericLiteral",()=>{this.OPTION(()=>{this.CONSUME(Jn)}),this.CONSUME(In)}));Ne(this,"VariableLiteral",this.RULE("VariableLiteral",()=>{this.CONSUME(Ks),this.CONSUME(xa)}));Ne(this,"ValueLiteral",this.RULE("ValueLiteral",()=>{this.OR([{ALT:()=>this.SUBRULE(this.VariableLiteral)},{ALT:()=>this.SUBRULE(this.NumericLiteral)}])}));Ne(this,"ProgramNumberLine",this.RULE("ProgramNumberLine",()=>{this.CONSUME(zs),this.OPTION(()=>{this.CONSUME(Qn)})}));Ne(this,"expression",this.RULE("expression",()=>{this.SUBRULE(this.additionExpression)}));Ne(this,"additionExpression",this.RULE("additionExpression",()=>{this.SUBRULE(this.multiplicationExpression,{LABEL:"lhs"}),this.MANY(()=>{this.CONSUME(Nn),this.SUBRULE2(this.multiplicationExpression,{LABEL:"rhs"})})}));Ne(this,"multiplicationExpression",this.RULE("multiplicationExpression",()=>{this.SUBRULE(this.atomicExpression,{LABEL:"lhs"}),this.MANY(()=>{this.CONSUME(Sn),this.SUBRULE2(this.atomicExpression,{LABEL:"rhs"})})}));Ne(this,"functionExpression",this.RULE("functionExpression",()=>{this.CONSUME(qs),this.CONSUME(Mr),this.SUBRULE(this.atomicExpression),this.CONSUME($r)}));Ne(this,"booleanExpression",this.RULE("booleanExpression",()=>{this.SUBRULE(this.atomicExpression),this.CONSUME(mt),this.SUBRULE2(this.atomicExpression)}));Ne(this,"conditionalExpression",this.RULE("conditionalExpression",()=>{this.CONSUME(Xs),this.CONSUME(Mr),this.SUBRULE(this.booleanExpression),this.CONSUME($r),this.OR([{ALT:()=>this.CONSUME(Zs)},{ALT:()=>this.CONSUME(Ys)}])}));Ne(this,"atomicExpression",this.RULE("atomicExpression",()=>{this.OR([{ALT:()=>this.SUBRULE(this.bracketExpression)},{ALT:()=>this.SUBRULE(this.functionExpression)},{ALT:()=>this.SUBRULE(this.NumericLiteral)},{ALT:()=>this.SUBRULE(this.VariableLiteral)}])}));Ne(this,"bracketExpression",this.RULE("bracketExpression",()=>{this.CONSUME(Mr),this.SUBRULE(this.expression),this.CONSUME($r)}));Ne(this,"variableAssignment",this.RULE("variableAssignment",()=>{this.SUBRULE(this.VariableLiteral),this.CONSUME(Hs),this.SUBRULE(this.expression)}));Ne(this,"addresses",this.RULE("addresses",()=>{this.MANY(()=>{this.SUBRULE(this.AddressedValue)})}));Ne(this,"lines",this.RULE("lines",()=>{this.MANY_SEP({SEP:Fr,DEF:()=>{this.SUBRULE(this.line)}})}));Ne(this,"line",this.RULE("line",()=>{this.OR([{ALT:()=>this.CONSUME(wr)},{ALT:()=>this.CONSUME(Qn)},{ALT:()=>this.CONSUME(eP)},{ALT:()=>this.SUBRULE(this.ProgramNumberLine)},{ALT:()=>this.SUBRULE(this.variableAssignment)},{ALT:()=>this.SUBRULE(this.conditionalExpression)},{ALT:()=>this.SUBRULE(this.addresses)}])}));Ne(this,"program",this.RULE("program",()=>{this.CONSUME1(wr),this.CONSUME1(Fr),this.SUBRULE(this.ProgramNumberLine),this.CONSUME2(Fr),this.SUBRULE(this.lines),this.CONSUME2(wr)}));this.performSelfAnalysis()}}const ea=new aP;function iP(e,t){return t=t+1,Array.from({length:(t-e)/1},(r,n)=>e+n)}class Da{constructor(t,r){Ne(this,"_vars");this._vars=new Map,iP(t,r).forEach(n=>this.init(n))}static LocalSet(){return new Da(1,33)}getMap(){return this._vars}read(t){return this._vars.get(t)}write(t,r){return this._vars.set(t,r)}has(t){return this._vars.has(t)}init(t){return this.write(t,NaN)}}const oP=new yt(Js);function Dn(e){return e*Math.PI/180}function Un(e){return 180/Math.PI*e}function sP(e){return Array.isArray(e)?e[0]:e}function Gn(e){return sP(e).image}function uP(e){return oP.tokenize(e)}function cP(e){const t=uP(e);return ea.input=t.tokens,{parser:ea,lexResult:t,lexErrors:t.errors}}function lP(e,t){const{parser:r,lexResult:n}=cP(e),a=r[t]();return{result:jn.visit(a),parser:r,lexResult:n,interpreter:jn,parseErrors:r.errors,macros:jn.getMacros()}}function _P(e){return lP(e,"lines")}const fP=ea.getBaseCstVisitorConstructorWithDefaults();class dP extends fP{constructor(){super();Ne(this,"vars");Ne(this,"varStack",[]);Ne(this,"varWatches",[]);this.vars=new Da(1,10),this.validateVisitor()}getMacro(r){const n={register:r,value:this.vars.getMap().get(r)??NaN,setValue:a=>(this.vars.write(r,a),n)};return n}getMacros(){return this.vars.getMap()}setMacroVar(r,n){return this.getMacro(r).setValue(n)}setMacroVars(r){for(const[n,a]of r)this.setMacroVar(n,a)}watchMacroVar(r,n){this.varWatches[r]=n}program(r){return r}expression(r){return this.visit(r.additionExpression)}functionExpression(r){const n=Gn(r.BuiltinFunctions),a=this.visit(r.atomicExpression);return Bs.match(n).with("LN",()=>Math.log(a)).with("ABS",()=>Math.abs(a)).with("FUP",()=>Math.ceil(a)).with("SQRT",()=>Math.sqrt(a)).with("FIX",()=>Math.floor(a)).with("ROUND",()=>Math.round(a)).with("SIN",()=>Math.sin(Dn(a))).with("COS",()=>Math.cos(Dn(a))).with("TAN",()=>Math.tan(Dn(a))).with("ASIN",()=>Un(Math.asin(a))).with("ACOS",()=>Un(Math.acos(a))).with("ATAN",()=>Un(Math.atan(a))).otherwise(()=>NaN)}NumericLiteral(r){const n=Gn(r.NumericValue),a=`${r.Minus?"-":""}${n}`;return n.includes(".")?parseFloat(a):parseInt(a)}VariableLiteral(r){const n=parseInt(Gn(r.Integer));return this.getMacro(n)}ValueLiteral(r){if(r.VariableLiteral)return this.visit(r.VariableLiteral).value;if(r.NumericLiteral)return this.visit(r.NumericLiteral)}variableAssignment(r){const n=this.visit(r.VariableLiteral),a={register:n.register,curr:NaN,prev:n.value},o=this.visit(r.expression);a.curr=o,this.vars.write(n.register,o),this.varWatches[n.register]&&this.varWatches[n.register](a)}additionExpression(r){let n=this.visit(r.lhs);return r.rhs&&r.rhs.forEach((a,o)=>{const _=this.visit(a);if(r!=null&&r.AdditionOperator){const v=r.AdditionOperator[o];so(v,Ws)?n+=_:n-=_}}),n}multiplicationExpression(r){let n=this.visit(r.lhs);return r.rhs&&r.rhs.forEach((a,o)=>{const _=this.visit(a);if(r!=null&&r.MultiplicationOperator){const v=r.MultiplicationOperator[o];so(v,Vs)?n*=_:n/=_}}),n}atomicExpression(r){if(r.bracketExpression)return this.visit(r.bracketExpression);if(r.NumericLiteral)return this.visit(r.NumericLiteral);if(r.VariableLiteral)return this.visit(r.VariableLiteral).value;if(r.functionExpression)return this.visit(r.functionExpression)}bracketExpression(r){return this.visit(r.expression)}}const jn=new dP;function yP(e){return{registerCustomLanguage(t,r){return pP(e,t,r)},registerCustomTheme(t,r){return hP(e,t,r)}}}function hP(e,t,r){return e.editor.defineTheme(t,r),e}function pP(e,t,r){return e.languages.register({id:t}),e.languages.setMonarchTokensProvider(t,r),e}function mP(e,t,r){return console.log(e),{brackets:t,tokenizer:{root:r}}}export{mP as a,yP as c,_P as e,ru as g,jn as i,ea as p};
